/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MinimalTheme
});
module.exports = __toCommonJS(main_exports);
var import_obsidian8 = require("obsidian");

// src/settings/settings-interface.ts
var DEFAULT_SETTINGS = {
  lightStyle: "oxygen-light",
  darkStyle: "oxygen-dark",
  lightScheme: "oxygen-oxygen-light",
  darkScheme: "oxygen-oxygen-dark",
  editorFont: "",
  lineHeight: 1.5,
  lineWidth: 40,
  lineWidthWide: 50,
  maxWidth: 88,
  textNormal: 16,
  textSmall: 13,
  imgGrid: false,
  imgWidth: "img-default-width",
  tableWidth: "table-default-width",
  iframeWidth: "iframe-default-width",
  mapWidth: "map-default-width",
  chartWidth: "chart-default-width",
  colorfulHeadings: false,
  colorfulFrame: false,
  colorfulActiveStates: false,
  trimNames: true,
  labeledNav: false,
  fullWidthMedia: true,
  workspaceBorders: "enhanced",
  minimalStatus: true,
  underlineInternal: true,
  underlineExternal: true,
  folding: true,
  lineNumbers: false,
  readableLineLength: false,
  devBlockWidth: false,
  customPresets: [],
  enableCustomPresets: true,
  // Sidebar indentation guides
  navIndentationGuideWidth: "0px",
  navIndentationGuideColor: "rgba(var(--mono-rgb-100), 0.12)",
  // Animation settings
  animationPersonality: "default",
  animationSpeed: 1,
  // Blur background
  enableBlur: false,
  // Folder icon
  useDefaultFolderIcon: false
};

// src/settings.ts
var import_obsidian6 = require("obsidian");

// src/utils/settings-compat.ts
var import_obsidian = require("obsidian");
function createSettingsGroup(containerEl, heading, manifestId) {
  if ((0, import_obsidian.requireApiVersion)("1.11.0")) {
    const group = new import_obsidian.SettingGroup(containerEl).setHeading(heading);
    return {
      addSetting(cb) {
        group.addSetting(cb);
      }
    };
  } else {
    if (manifestId) {
      containerEl.addClass(`${manifestId}-settings-compat`);
    }
    const headingEl = containerEl.createDiv("setting-group-heading");
    headingEl.createEl("h3", { text: heading });
    return {
      addSetting(cb) {
        const setting = new import_obsidian.Setting(containerEl);
        cb(setting);
      }
    };
  }
}

// src/settings/sections/ColorSchemeSettings.ts
function buildColorSchemeSettings(containerEl, plugin) {
  const colorGroup = createSettingsGroup(containerEl, "Color scheme", "oxygen-settings");
  colorGroup.addSetting((setting) => {
    setting.setName("Light mode color scheme").setDesc("Preset color options for light mode. To create a custom color scheme use the Style Settings plugin. See Documentation for details.").addDropdown((dropdown) => {
      dropdown.addOption("oxygen-oxygen-light", "Oxygen").addOption("oxygen-minimal-light", "Minimal").addOption("oxygen-atom-light", "Atom").addOption("oxygen-ayu-light", "Ayu").addOption("oxygen-catppuccin-light", "Catppuccin").addOption("oxygen-eink-light", "E-ink (beta)").addOption("oxygen-everforest-light", "Everforest").addOption("oxygen-flexoki-light", "Flexoki").addOption("oxygen-gruvbox-light", "Gruvbox").addOption("oxygen-macos-light", "macOS").addOption("oxygen-nord-light", "Nord").addOption("oxygen-rose-pine-light", "Ros\xE9 Pine").addOption("oxygen-notion-light", "Sky").addOption("oxygen-solarized-light", "Solarized").addOption("oxygen-things-light", "Things");
      if (plugin.settings.enableCustomPresets && plugin.settings.customPresets.length > 0) {
        plugin.settings.customPresets.sort((a, b) => a.name.localeCompare(b.name)).forEach((preset) => {
          dropdown.addOption(`oxygen-custom-${preset.id}`, preset.name);
        });
      }
      dropdown.setValue(plugin.settings.lightScheme).onChange((value) => {
        plugin.settings.lightScheme = value;
        void plugin.saveData(plugin.settings);
        plugin.updateStyle();
        plugin.updateCustomPresetCSS();
      });
    });
  });
  colorGroup.addSetting((setting) => {
    setting.setName("Light mode background contrast").setDesc("Level of contrast between sidebar and main content.").addDropdown((dropdown) => {
      dropdown.addOption("oxygen-light", "Default").addOption("oxygen-light-white", "All white").addOption("oxygen-light-tonal", "Low contrast").addOption("oxygen-light-contrast", "High contrast").setValue(plugin.settings.lightStyle).onChange((value) => {
        plugin.settings.lightStyle = value;
        void plugin.saveData(plugin.settings);
        plugin.updateStyle();
      });
    });
  });
  colorGroup.addSetting((setting) => {
    setting.setName("Dark mode color scheme").setDesc("Preset colors options for dark mode.").addDropdown((dropdown) => {
      dropdown.addOption("oxygen-oxygen-dark", "Oxygen").addOption("oxygen-minimal-dark", "Minimal").addOption("oxygen-atom-dark", "Atom").addOption("oxygen-ayu-dark", "Ayu").addOption("oxygen-catppuccin-dark", "Catppuccin").addOption("oxygen-dracula-dark", "Dracula").addOption("oxygen-eink-dark", "E-ink (beta)").addOption("oxygen-everforest-dark", "Everforest").addOption("oxygen-flexoki-dark", "Flexoki").addOption("oxygen-gruvbox-dark", "Gruvbox").addOption("oxygen-macos-dark", "macOS").addOption("oxygen-nord-dark", "Nord").addOption("oxygen-rose-pine-dark", "Ros\xE9 Pine").addOption("oxygen-notion-dark", "Sky").addOption("oxygen-solarized-dark", "Solarized").addOption("oxygen-things-dark", "Things");
      if (plugin.settings.enableCustomPresets && plugin.settings.customPresets.length > 0) {
        plugin.settings.customPresets.sort((a, b) => a.name.localeCompare(b.name)).forEach((preset) => {
          dropdown.addOption(`oxygen-custom-${preset.id}`, preset.name);
        });
      }
      dropdown.setValue(plugin.settings.darkScheme).onChange((value) => {
        plugin.settings.darkScheme = value;
        void plugin.saveData(plugin.settings);
        plugin.updateStyle();
        plugin.updateCustomPresetCSS();
      });
    });
  });
  colorGroup.addSetting((setting) => {
    setting.setName("Dark mode background contrast").setDesc("Level of contrast between sidebar and main content.").addDropdown((dropdown) => {
      dropdown.addOption("oxygen-dark", "Default").addOption("oxygen-dark-tonal", "Low contrast").addOption("oxygen-dark-black", "True black").setValue(plugin.settings.darkStyle).onChange((value) => {
        plugin.settings.darkStyle = value;
        void plugin.saveData(plugin.settings);
        plugin.updateStyle();
      });
    });
  });
}

// src/settings/sections/FeatureSettings.ts
function buildFeatureSettings(containerEl, plugin) {
  const featuresGroup = createSettingsGroup(containerEl, "Features", "oxygen-settings");
  featuresGroup.addSetting((setting) => {
    setting.setName("Text labels for primary navigation").setDesc("Navigation items in the left sidebar uses text labels. See Documentation for details.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.labeledNav).onChange((value) => {
        plugin.settings.labeledNav = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Colorful window frame").setDesc("The top area of the app uses your accent color.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.colorfulFrame).onChange((value) => {
        plugin.settings.colorfulFrame = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Colorful active states").setDesc("Active file and menu items use your accent color.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.colorfulActiveStates).onChange((value) => {
        plugin.settings.colorfulActiveStates = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Colorful headings").setDesc("Headings use a different color for each size.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.colorfulHeadings).onChange((value) => {
        plugin.settings.colorfulHeadings = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Minimal status bar").setDesc("Turn off to use full-width status bar.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.minimalStatus).onChange((value) => {
        plugin.settings.minimalStatus = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Trim file names in sidebars").setDesc("Use ellipses to fit file names on a single line.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.trimNames).onChange((value) => {
        plugin.settings.trimNames = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Borders").setDesc("Border style for workspace elements.").addDropdown((dropdown) => {
      dropdown.addOption("enhanced", "Enhanced").addOption("default", "Default").addOption("none", "None").setValue(plugin.settings.workspaceBorders).onChange((value) => {
        plugin.settings.workspaceBorders = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Indentation guides thickness").setDesc("Thickness of indentation guides in the sidebar file explorer.").addDropdown((dropdown) => {
      dropdown.addOption("0px", "None").addOption("1px", "Thin").addOption("2px", "Medium").addOption("3px", "Thick").setValue(plugin.settings.navIndentationGuideWidth).onChange((value) => {
        plugin.settings.navIndentationGuideWidth = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Indentation guides color").setDesc("Color of indentation guides in the sidebar.").addDropdown((dropdown) => {
      dropdown.addOption("rgba(var(--mono-rgb-100), 0.12)", "Subtle").addOption("var(--text-faint)", "Strong").addOption("var(--color-accent)", "Accent color").setValue(plugin.settings.navIndentationGuideColor).onChange((value) => {
        plugin.settings.navIndentationGuideColor = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Underline internal links").setDesc("Show underlines on internal links.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.underlineInternal).onChange((value) => {
        plugin.settings.underlineInternal = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Underline external links").setDesc("Show underlines on external links.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.underlineExternal).onChange((value) => {
        plugin.settings.underlineExternal = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    setting.setName("Maximize media").setDesc("Images and videos fill the width of the line.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.fullWidthMedia).onChange((value) => {
        plugin.settings.fullWidthMedia = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    if (!("enableBlur" in plugin.settings)) {
      plugin.settings.enableBlur = false;
    }
    setting.setName("Enable background blur").setDesc("Adds background blur to modal dialogs. Disable if scrolling becomes laggy. Not available on mobile devices.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.enableBlur).onChange((value) => {
        plugin.settings.enableBlur = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  featuresGroup.addSetting((setting) => {
    if (!("useDefaultFolderIcon" in plugin.settings)) {
      plugin.settings.useDefaultFolderIcon = false;
    }
    setting.setName("Use default Obsidian folder icon").setDesc("Toggle to use Obsidian's default file explorer icon instead of the folder-closed icon.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.useDefaultFolderIcon).onChange((value) => {
        plugin.settings.useDefaultFolderIcon = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
}

// src/settings/sections/LayoutSettings.ts
function buildLayoutSettings(containerEl, plugin) {
  const layoutGroup = createSettingsGroup(containerEl, "Layout", "oxygen-settings");
  layoutGroup.addSetting((setting) => {
    setting.setName("Image grids").setDesc("Turn consecutive images into columns \u2014 to make a new row, add an extra line break between images. These options can also be defined on a per-file basis, see Documentation for details.").addToggle((toggle) => {
      toggle.setValue(plugin.settings.imgGrid).onChange((value) => {
        plugin.settings.imgGrid = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  layoutGroup.addSetting((setting) => {
    setting.setName("Chart width").setDesc("Default width for chart blocks.").addDropdown((dropdown) => {
      dropdown.addOption("chart-default-width", "Default").addOption("chart-wide", "Wide line width").addOption("chart-max", "Maximum line width").addOption("chart-100", "100% pane width").setValue(plugin.settings.chartWidth).onChange((value) => {
        plugin.settings.chartWidth = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  layoutGroup.addSetting((setting) => {
    setting.setName("Iframe width").setDesc("Default width for iframe blocks.").addDropdown((dropdown) => {
      dropdown.addOption("iframe-default-width", "Default").addOption("iframe-wide", "Wide line width").addOption("iframe-max", "Maximum line width").addOption("iframe-100", "100% pane width").setValue(plugin.settings.iframeWidth).onChange((value) => {
        plugin.settings.iframeWidth = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  layoutGroup.addSetting((setting) => {
    setting.setName("Image width").setDesc("Default width for image blocks.").addDropdown((dropdown) => {
      dropdown.addOption("img-default-width", "Default").addOption("img-wide", "Wide line width").addOption("img-max", "Maximum line width").addOption("img-100", "100% pane width").setValue(plugin.settings.imgWidth).onChange((value) => {
        plugin.settings.imgWidth = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  layoutGroup.addSetting((setting) => {
    setting.setName("Map width").setDesc("Default width for map blocks.").addDropdown((dropdown) => {
      dropdown.addOption("map-default-width", "Default").addOption("map-wide", "Wide line width").addOption("map-max", "Maximum line width").addOption("map-100", "100% pane width").setValue(plugin.settings.mapWidth).onChange((value) => {
        plugin.settings.mapWidth = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  layoutGroup.addSetting((setting) => {
    setting.setName("Table width").setDesc("Default width for table and Dataview blocks.").addDropdown((dropdown) => {
      dropdown.addOption("table-default-width", "Default").addOption("table-wide", "Wide line width").addOption("table-max", "Maximum line width").addOption("table-100", "100% pane width").setValue(plugin.settings.tableWidth).onChange((value) => {
        plugin.settings.tableWidth = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
}

// src/settings/sections/TypographySettings.ts
function buildTypographySettings(containerEl, plugin) {
  const typographyGroup = createSettingsGroup(containerEl, "Typography", "oxygen-settings");
  typographyGroup.addSetting((setting) => {
    setting.setName("Text font size").setDesc("Used for the main text (default 16).").addText((text) => {
      text.setPlaceholder("16").setValue((plugin.settings.textNormal || "") + "").onChange((value) => {
        plugin.settings.textNormal = parseFloat(value);
        void plugin.saveData(plugin.settings);
        plugin.setFontSize();
      });
    });
  });
  typographyGroup.addSetting((setting) => {
    setting.setName("Small font size").setDesc("Used for text in the sidebars and tabs (default 13).").addText((text) => {
      text.setPlaceholder("13").setValue((plugin.settings.textSmall || "") + "").onChange((value) => {
        plugin.settings.textSmall = parseFloat(value);
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  typographyGroup.addSetting((setting) => {
    setting.setName("Line height").setDesc("Line height of text (default 1.5).").addText((text) => {
      text.setPlaceholder("1.5").setValue((plugin.settings.lineHeight || "") + "").onChange((value) => {
        plugin.settings.lineHeight = parseFloat(value);
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  typographyGroup.addSetting((setting) => {
    setting.setName("Normal line width").setDesc("Number of characters per line (default 40).").addText((text) => {
      text.setPlaceholder("40").setValue((plugin.settings.lineWidth || "") + "").onChange((value) => {
        plugin.settings.lineWidth = parseInt(value.trim());
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  typographyGroup.addSetting((setting) => {
    setting.setName("Wide line width").setDesc("Number of characters per line for wide elements (default 50).").addText((text) => {
      text.setPlaceholder("50").setValue((plugin.settings.lineWidthWide || "") + "").onChange((value) => {
        plugin.settings.lineWidthWide = parseInt(value.trim());
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  typographyGroup.addSetting((setting) => {
    setting.setName("Maximum line width %").setDesc("Percentage of space inside a pane that a line can fill (default 88).").addText((text) => {
      text.setPlaceholder("88").setValue((plugin.settings.maxWidth || "") + "").onChange((value) => {
        plugin.settings.maxWidth = parseInt(value.trim());
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
  typographyGroup.addSetting((setting) => {
    setting.setName("Editor font").setDesc("Overrides the text font defined in Obsidian appearance settings when in edit mode.").addText((text) => {
      text.setPlaceholder("").setValue((plugin.settings.editorFont || "") + "").onChange((value) => {
        plugin.settings.editorFont = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
  });
}

// src/settings/sections/CustomPresetSettings.ts
var import_obsidian5 = require("obsidian");

// src/utils/css-props.ts
function setCssProps(element, props) {
  for (const [key, value] of Object.entries(props)) {
    element.style.setProperty(key, value);
  }
}
function setCssProp(element, prop, value) {
  element.style.setProperty(prop, value);
}

// src/utils/color-utils.ts
function hexToHSL(hex) {
  hex = hex.replace("#", "");
  const r = parseInt(hex.substring(0, 2), 16) / 255;
  const g = parseInt(hex.substring(2, 4), 16) / 255;
  const b = parseInt(hex.substring(4, 6), 16) / 255;
  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  let h = 0, s = 0, l = (max + min) / 2;
  if (max !== min) {
    const d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    switch (max) {
      case r:
        h = (g - b) / d + (g < b ? 6 : 0);
        break;
      case g:
        h = (b - r) / d + 2;
        break;
      case b:
        h = (r - g) / d + 4;
        break;
    }
    h /= 6;
  }
  return {
    h: Math.round(h * 360),
    s: Math.round(s * 100),
    l: Math.round(l * 100)
  };
}
function hslToHex(hsl) {
  const h = hsl.h / 360;
  const s = hsl.s / 100;
  const l = hsl.l / 100;
  const hue2rgb = (p, q, t) => {
    if (t < 0) t += 1;
    if (t > 1) t -= 1;
    if (t < 1 / 6) return p + (q - p) * 6 * t;
    if (t < 1 / 2) return q;
    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
    return p;
  };
  let r, g, b;
  if (s === 0) {
    r = g = b = l;
  } else {
    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    const p = 2 * l - q;
    r = hue2rgb(p, q, h + 1 / 3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1 / 3);
  }
  const toHex = (c) => {
    const hex = Math.round(c * 255).toString(16);
    return hex.length === 1 ? "0" + hex : hex;
  };
  return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
}
function validateHex(hex) {
  const hexRegex = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;
  return hexRegex.test(hex);
}
function generateColorSwatch(preset) {
  const swatch = document.createElement("div");
  swatch.className = "custom-preset-swatch";
  const lightBaseHex = hslToHex(preset.light.base);
  const lightAccentHex = hslToHex(preset.light.accent);
  const darkBaseHex = hslToHex(preset.dark.base);
  setCssProps(swatch, {
    "--swatch-gradient-start": lightBaseHex,
    "--swatch-gradient-mid": lightAccentHex,
    "--swatch-gradient-end": darkBaseHex
  });
  return swatch;
}
function sanitizePresetName(name) {
  return name.trim().replace(/[<>:"/\\|?*]/g, "");
}
function generatePresetId(name) {
  return sanitizePresetName(name).toLowerCase().replace(/\s+/g, "-").replace(/[^a-z0-9-]/g, "").substring(0, 50);
}
function validatePresetId(id) {
  const idRegex = /^[a-z0-9-]+$/;
  return idRegex.test(id) && id.length > 0 && id.length <= 50;
}
function isPresetIdUnique(id, existingPresets, excludeId) {
  return !existingPresets.some((preset) => preset.id === id && preset.id !== excludeId);
}

// src/presets/PresetManager.ts
var PresetManager = class {
  /**
   * Validate preset ID format and uniqueness
   */
  static validatePresetId(id, existingPresets, excludeId) {
    return validatePresetId(id) && isPresetIdUnique(id, existingPresets, excludeId);
  }
  /**
   * Sanitize preset name
   */
  static sanitizePresetName(name) {
    return sanitizePresetName(name);
  }
  /**
   * Create a new preset with validation
   */
  static createPreset(name, author = "", existingPresets = []) {
    const sanitizedName = this.sanitizePresetName(name);
    if (!sanitizedName) {
      throw new Error("Preset name cannot be empty");
    }
    let id = generatePresetId(sanitizedName);
    let counter = 1;
    while (!this.validatePresetId(id, existingPresets)) {
      id = `${generatePresetId(sanitizedName)}-${counter}`;
      counter++;
    }
    return {
      id,
      name: sanitizedName,
      author: author.trim(),
      version: "1.0.0",
      light: {
        base: { h: 210, s: 2, l: 96 },
        // Light background
        accent: { h: 200, s: 80, l: 50 },
        colors: {}
      },
      dark: {
        base: { h: 210, s: 2, l: 13 },
        // Dark background
        accent: { h: 200, s: 80, l: 50 },
        colors: {}
      }
    };
  }
  /**
   * Update an existing preset
   */
  static updatePreset(id, updates, existingPresets) {
    const existingPreset = existingPresets.find((p) => p.id === id);
    if (!existingPreset) {
      throw new Error(`Preset with ID "${id}" not found`);
    }
    const updatedPreset = { ...existingPreset, ...updates };
    if (updates.id && updates.id !== id) {
      if (!this.validatePresetId(updates.id, existingPresets, id)) {
        throw new Error(`Preset ID "${updates.id}" is invalid or already exists`);
      }
    }
    if (updates.name) {
      updatedPreset.name = this.sanitizePresetName(updates.name);
      if (!updatedPreset.name) {
        throw new Error("Preset name cannot be empty");
      }
    }
    return updatedPreset;
  }
  /**
   * Delete a preset
   */
  static deletePreset(id, existingPresets) {
    return existingPresets.filter((preset) => preset.id !== id);
  }
  /**
   * Export preset as JSON
   */
  static exportPresetAsJSON(preset) {
    return JSON.stringify(preset, null, 2);
  }
  /**
   * Import preset from JSON
   */
  static importPresetFromJSON(json) {
    try {
      const parsed = JSON.parse(json);
      if (typeof parsed !== "object" || parsed === null) {
        throw new Error("Invalid preset format: not an object");
      }
      const data = parsed;
      if (!data.id || !data.name || !data.light || !data.dark) {
        throw new Error("Invalid preset format: missing required fields");
      }
      if (!data.light.base || !data.light.accent || !data.dark.base || !data.dark.accent) {
        throw new Error("Invalid preset format: missing base or accent colors");
      }
      const validateHSL = (hsl) => {
        if (typeof hsl !== "object" || hsl === null) return false;
        const h = hsl.h;
        const s = hsl.s;
        const l = hsl.l;
        return typeof h === "number" && h >= 0 && h <= 360 && typeof s === "number" && s >= 0 && s <= 100 && typeof l === "number" && l >= 0 && l <= 100;
      };
      if (!validateHSL(data.light.base) || !validateHSL(data.light.accent) || !validateHSL(data.dark.base) || !validateHSL(data.dark.accent)) {
        throw new Error("Invalid preset format: HSL values out of range");
      }
      const extractColors = (colors) => {
        if (typeof colors === "object" && colors !== null) {
          const result = {};
          for (const [key, value] of Object.entries(colors)) {
            if (typeof value === "string") {
              result[key] = value;
            }
          }
          return result;
        }
        return {};
      };
      const extractFrameOffset = (offset) => {
        if (typeof offset === "number") {
          return offset;
        }
        return void 0;
      };
      if (typeof data.id !== "string") {
        throw new Error("Invalid preset format: id must be a string");
      }
      if (typeof data.name !== "string") {
        throw new Error("Invalid preset format: name must be a string");
      }
      const idStr = data.id;
      const nameStr = data.name;
      const authorStr = typeof data.author === "string" ? data.author : "";
      const versionStr = typeof data.version === "string" ? data.version : "1.0.0";
      const preset = {
        id: this.sanitizePresetName(idStr),
        name: this.sanitizePresetName(nameStr),
        author: authorStr,
        version: versionStr,
        light: {
          base: data.light.base,
          accent: data.light.accent,
          colors: extractColors(data.light.colors),
          frameLightnessOffset: extractFrameOffset(data.light.frameLightnessOffset)
        },
        dark: {
          base: data.dark.base,
          accent: data.dark.accent,
          colors: extractColors(data.dark.colors),
          frameLightnessOffset: extractFrameOffset(data.dark.frameLightnessOffset)
        }
      };
      if (!preset.id || !preset.name) {
        throw new Error("Invalid preset format: ID or name is empty after sanitization");
      }
      return preset;
    } catch (error) {
      if (error instanceof SyntaxError) {
        throw new Error("Invalid JSON format");
      }
      throw error;
    }
  }
  /**
   * Get preset by ID
   */
  static getPresetById(id, presets) {
    return presets.find((preset) => preset.id === id);
  }
  /**
   * Check if preset is currently active
   */
  static isPresetActive(presetId, lightScheme, darkScheme) {
    return lightScheme === `oxygen-custom-${presetId}` || darkScheme === `oxygen-custom-${presetId}`;
  }
  /**
   * Generate a preview of the preset colors
   */
  static generatePresetPreview(preset) {
    var _a, _b, _c, _d;
    return {
      light: [
        hslToHex(preset.light.base),
        hslToHex(preset.light.accent),
        ((_a = preset.light.colors) == null ? void 0 : _a.bg1) || hslToHex(preset.light.base),
        ((_b = preset.light.colors) == null ? void 0 : _b.tx1) || hslToHex({ ...preset.light.base, l: Math.max(0, preset.light.base.l - 30) })
      ],
      dark: [
        hslToHex(preset.dark.base),
        hslToHex(preset.dark.accent),
        ((_c = preset.dark.colors) == null ? void 0 : _c.bg1) || hslToHex(preset.dark.base),
        ((_d = preset.dark.colors) == null ? void 0 : _d.tx1) || hslToHex({ ...preset.dark.base, l: Math.min(100, preset.dark.base.l + 30) })
      ]
    };
  }
};

// src/modals/PresetEditorModal.ts
var import_obsidian2 = require("obsidian");

// src/utils/preset-color-defaults.ts
function getDefaultColorForKey(key, palette) {
  const baseH = palette.base.h;
  const baseS = palette.base.s;
  const baseL = palette.base.l;
  const accentH = palette.accent.h;
  const isLightBase = baseL > 50;
  const syntaxDefaults = {
    "red": "#e74c3c",
    "orange": "#e67e22",
    "yellow": "#f39c12",
    "green": "#27ae60",
    "cyan": "#16a085",
    "blue": "#3498db",
    "purple": "#9b59b6",
    "pink": "#e91e63"
  };
  if (syntaxDefaults[key]) {
    return syntaxDefaults[key];
  }
  let s, l;
  switch (key) {
    case "bg1":
      return hslToHex({ h: baseH, s: baseS, l: baseL });
    case "bg2":
      l = isLightBase ? Math.max(0, baseL - 5) : Math.min(100, baseL + 5);
      return hslToHex({ h: baseH, s: baseS, l });
    case "bg3":
      l = isLightBase ? Math.max(0, baseL - 10) : Math.min(100, baseL + 10);
      return hslToHex({ h: baseH, s: baseS, l });
    case "ui1":
      l = isLightBase ? Math.max(0, baseL - 15) : Math.min(100, baseL + 15);
      return hslToHex({ h: baseH, s: baseS, l });
    case "ui2":
      l = isLightBase ? Math.max(0, baseL - 10) : Math.min(100, baseL + 10);
      return hslToHex({ h: baseH, s: baseS, l });
    case "ui3":
      l = isLightBase ? Math.max(0, baseL - 5) : Math.min(100, baseL + 5);
      return hslToHex({ h: baseH, s: baseS, l });
    case "tx1":
      s = Math.max(0, baseS - 10);
      l = isLightBase ? Math.max(0, baseL - 87) : Math.min(100, baseL + 77);
      return hslToHex({ h: baseH, s, l });
    case "tx2":
      s = Math.max(0, baseS - 20);
      l = isLightBase ? Math.max(0, baseL - 53) : Math.min(100, baseL + 45);
      return hslToHex({ h: baseH, s, l });
    case "tx3":
      s = Math.max(0, baseS - 10);
      l = isLightBase ? Math.max(0, baseL - 78) : Math.min(100, baseL + 30);
      return hslToHex({ h: baseH, s, l });
    case "tx4":
      s = Math.max(0, baseS - 10);
      l = isLightBase ? Math.max(0, baseL - 48) : Math.min(100, baseL + 40);
      return hslToHex({ h: baseH, s, l });
    case "hl1":
      return hslToHex({ h: accentH, s: 50, l: 40 });
    case "hl2":
      return "#ffb150";
    default:
      return "#000000";
  }
}

// src/modals/components/PresetColorControls.ts
function createHSLControls(container, hsl, onChange) {
  const controls = container.createEl("div", { cls: "hsl-controls" });
  const hslCopy = { ...hsl };
  const previewWrapper = controls.createEl("div", { cls: "color-preview-wrapper" });
  const preview = previewWrapper.createEl("div", { cls: "color-preview" });
  setCssProp(preview, "--preview-color", hslToHex(hslCopy));
  preview.title = "Click to pick a color with hex input";
  const colorInput = previewWrapper.createEl("input", { type: "color", cls: "hsl-color-input-overlay" });
  colorInput.value = hslToHex(hslCopy);
  const updatePreview = () => {
    const hexColor = hslToHex(hslCopy);
    setCssProp(preview, "--preview-color", hexColor);
    colorInput.value = hexColor;
  };
  colorInput.onchange = () => {
    const newHSL = hexToHSL(colorInput.value);
    hslCopy.h = newHSL.h;
    hslCopy.s = newHSL.s;
    hslCopy.l = newHSL.l;
    hueSlider.value = newHSL.h.toString();
    hueValue.textContent = newHSL.h.toString();
    satSlider.value = newHSL.s.toString();
    satValue.textContent = newHSL.s.toString();
    lightSlider.value = newHSL.l.toString();
    lightValue.textContent = newHSL.l.toString();
    updatePreview();
    onChange(hslCopy);
  };
  const hueControl = controls.createEl("div", { cls: "hsl-control" });
  hueControl.createEl("label", { text: "Hue" });
  const hueSlider = hueControl.createEl("input", { type: "range" });
  hueSlider.min = "0";
  hueSlider.max = "360";
  const hueValue = hueControl.createEl("span", { text: hsl.h.toString() });
  hueSlider.value = hsl.h.toString();
  hueSlider.oninput = () => {
    hslCopy.h = parseInt(hueSlider.value);
    hueValue.textContent = hslCopy.h.toString();
    updatePreview();
    onChange(hslCopy);
  };
  const satControl = controls.createEl("div", { cls: "hsl-control" });
  satControl.createEl("label", { text: "Saturation" });
  const satSlider = satControl.createEl("input", { type: "range" });
  satSlider.min = "0";
  satSlider.max = "100";
  const satValue = satControl.createEl("span", { text: hsl.s.toString() });
  satSlider.value = hsl.s.toString();
  satSlider.oninput = () => {
    hslCopy.s = parseInt(satSlider.value);
    satValue.textContent = hslCopy.s.toString();
    updatePreview();
    onChange(hslCopy);
  };
  const lightControl = controls.createEl("div", { cls: "hsl-control" });
  lightControl.createEl("label", { text: "Lightness" });
  const lightSlider = lightControl.createEl("input", { type: "range" });
  lightSlider.min = "0";
  lightSlider.max = "100";
  const lightValue = lightControl.createEl("span", { text: hsl.l.toString() });
  lightSlider.value = hsl.l.toString();
  lightSlider.oninput = () => {
    hslCopy.l = parseInt(lightSlider.value);
    lightValue.textContent = hslCopy.l.toString();
    updatePreview();
    onChange(hslCopy);
  };
}
function createColorOverride(container, label, key, colors, palette, onUpdate) {
  const override = container.createEl("div", { cls: "color-override collapsible-item" });
  const header = override.createEl("div", { cls: "override-header" });
  const toggle = header.createEl("input", { type: "checkbox" });
  header.createEl("label", { text: label });
  const colorInputWrapper = header.createEl("div", { cls: "color-input-wrapper" });
  const colorPreview = colorInputWrapper.createEl("div", { cls: "color-preview-swatch" });
  const colorInput = colorInputWrapper.createEl("input", { type: "color", cls: "hsl-color-input-overlay" });
  colorInput.disabled = true;
  let originalColor = null;
  const updateColorPreview = (color) => {
    setCssProp(colorPreview, "--preview-color", color);
    colorInput.value = color;
  };
  if (colors[key]) {
    toggle.checked = true;
    colorInput.disabled = false;
    updateColorPreview(colors[key]);
    originalColor = colors[key];
  } else {
    const defaultColor = getDefaultColorForKey(key, palette);
    updateColorPreview(defaultColor);
    originalColor = defaultColor;
  }
  colorInput.onclick = () => {
    if (!toggle.checked) {
      toggle.checked = true;
      colorInput.disabled = false;
      const restoredColor = originalColor || colors[key] || getDefaultColorForKey(key, palette);
      colors[key] = restoredColor;
      updateColorPreview(restoredColor);
      originalColor = restoredColor;
      onUpdate();
    }
  };
  toggle.onchange = () => {
    if (toggle.checked) {
      colorInput.disabled = false;
      const restoredColor = originalColor || colors[key] || getDefaultColorForKey(key, palette);
      colors[key] = restoredColor;
      updateColorPreview(restoredColor);
      originalColor = restoredColor;
    } else {
      colorInput.disabled = true;
      originalColor = colors[key] || originalColor;
      delete colors[key];
    }
    onUpdate();
  };
  colorInput.onchange = () => {
    if (validateHex(colorInput.value)) {
      colors[key] = colorInput.value;
      originalColor = colorInput.value;
      updateColorPreview(colorInput.value);
      onUpdate();
    }
  };
  colorInput.oninput = () => {
    if (validateHex(colorInput.value)) {
      colors[key] = colorInput.value;
      originalColor = colorInput.value;
      updateColorPreview(colorInput.value);
      onUpdate();
    }
  };
  return override;
}

// src/modals/PresetEditorModal.ts
var PresetEditorModal = class extends import_obsidian2.Modal {
  constructor(app, plugin, preset, onSave) {
    super(app);
    this.plugin = plugin;
    this.isEditing = preset !== null;
    this.preset = preset || this.createDefaultPreset();
    this.onSave = onSave;
  }
  createDefaultPreset() {
    return PresetManager.createPreset("New Preset", "", this.plugin.settings.customPresets);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("preset-editor-modal");
    const header = contentEl.createEl("div", { cls: "modal-header" });
    header.createEl("h2", { text: this.isEditing ? "Edit preset" : "Create new preset" });
    const basicInfo = contentEl.createEl("div", { cls: "modal-section" });
    new import_obsidian2.Setting(basicInfo).setName("Preset name").setDesc("A unique name for your color preset").addText((text) => {
      this.nameInput = text.inputEl;
      text.setValue(this.preset.name).setPlaceholder("Enter preset name").onChange((value) => {
        this.preset.name = value;
        this.updatePreview();
      });
    });
    new import_obsidian2.Setting(basicInfo).setName("Author (optional)").setDesc("Your name or the creator of this preset").addText((text) => {
      this.authorInput = text.inputEl;
      text.setValue(this.preset.author || "").setPlaceholder("Enter author name").onChange((value) => {
        this.preset.author = value;
      });
    });
    const contentArea = contentEl.createEl("div", { cls: "modes-container" });
    const lightSection = contentArea.createEl("div", { cls: "mode-section" });
    lightSection.createEl("h3", { text: "Light mode" });
    this.buildModeContent(lightSection, "light");
    const darkSection = contentArea.createEl("div", { cls: "mode-section" });
    darkSection.createEl("h3", { text: "Dark mode" });
    this.buildModeContent(darkSection, "dark");
    const previewSection = contentEl.createEl("div", { cls: "modal-section" });
    previewSection.createEl("h3", { text: "Preview" });
    this.previewSwatch = previewSection.createEl("div", { cls: "preview-swatch" });
    this.updatePreview();
    const footer = contentEl.createEl("div", { cls: "modal-footer" });
    const cancelBtn = footer.createEl("button", { text: "Cancel", cls: "mod-cta" });
    cancelBtn.onclick = () => this.close();
    const saveBtn = footer.createEl("button", {
      text: this.isEditing ? "Update" : "Create",
      cls: "mod-cta"
    });
    saveBtn.onclick = () => this.savePreset();
  }
  buildModeContent(container, mode) {
    container.empty();
    const palette = mode === "light" ? this.preset.light : this.preset.dark;
    const requiredSection = container.createEl("div", { cls: "color-section" });
    const headerText = mode === "light" ? "Light theme colors" : "Dark theme colors";
    requiredSection.createEl("h3", { text: headerText });
    const baseSection = requiredSection.createEl("div", { cls: "color-group" });
    baseSection.createEl("label", { text: "Base color" });
    createHSLControls(baseSection, palette.base, (hsl) => {
      if (mode === "light") {
        this.preset.light.base = hsl;
      } else {
        this.preset.dark.base = hsl;
      }
      this.updatePreview();
    });
    const accentSection = requiredSection.createEl("div", { cls: "color-group" });
    accentSection.createEl("label", { text: "Accent color" });
    createHSLControls(accentSection, palette.accent, (hsl) => {
      if (mode === "light") {
        this.preset.light.accent = hsl;
      } else {
        this.preset.dark.accent = hsl;
      }
      this.updatePreview();
    });
    const frameSection = requiredSection.createEl("div", { cls: "color-group" });
    frameSection.createEl("label", { text: "Colorful frame lightness override (optional)", cls: "frame-label" });
    const frameDesc = frameSection.createEl("div", { cls: "setting-item-description frame-description" });
    frameDesc.textContent = mode === "dark" ? "Offset from accent lightness for colorful frame. Default: -25 (darkens by 25%). Leave empty for default." : "Offset from accent lightness for colorful frame. Default: +30 (brightens by 30%). Leave empty for default.";
    const frameInput = frameSection.createEl("input", { type: "number", cls: "frame-input" });
    frameInput.placeholder = mode === "dark" ? "-25" : "+30";
    frameInput.min = "-100";
    frameInput.max = "100";
    frameInput.step = "5";
    if (palette.frameLightnessOffset !== void 0) {
      frameInput.value = palette.frameLightnessOffset.toString();
    }
    frameInput.oninput = () => {
      const value = frameInput.value.trim();
      if (value === "") {
        if (mode === "light") {
          delete this.preset.light.frameLightnessOffset;
        } else {
          delete this.preset.dark.frameLightnessOffset;
        }
      } else {
        const offset = parseInt(value);
        if (!isNaN(offset)) {
          if (mode === "light") {
            this.preset.light.frameLightnessOffset = offset;
          } else {
            this.preset.dark.frameLightnessOffset = offset;
          }
        }
      }
      this.updatePreview();
    };
    const advancedSection = container.createEl("div", { cls: "color-section" });
    const advancedHeader = advancedSection.createEl("div", { cls: "collapsible-header" });
    advancedHeader.createEl("h4", { text: "Advanced overrides (optional)" });
    const advancedToggle = advancedHeader.createEl("button", {
      cls: "collapse-toggle"
    });
    (0, import_obsidian2.setIcon)(advancedToggle, "chevron-down");
    if (!palette.colors) {
      palette.colors = {};
    }
    const advancedItems = [];
    const overrideKeys = ["bg1", "bg2", "bg3", "ui1", "ui2", "ui3", "tx1", "tx2", "tx3", "tx4", "hl1", "hl2"];
    const overrideLabels = ["Background 1", "Background 2", "Background 3", "UI 1", "UI 2", "UI 3", "Text 1", "Text 2", "Text 3", "Text 4", "Highlight 1", "Highlight 2"];
    const colors = palette.colors;
    overrideKeys.forEach((key, index) => {
      const item = createColorOverride(
        advancedSection,
        overrideLabels[index],
        key,
        colors,
        palette,
        () => this.updatePreview()
      );
      advancedItems.push(item);
      item.addClass("collapsible-content-item");
    });
    advancedToggle.onclick = () => {
      const isCollapsed = !advancedItems[0].classList.contains("expanded");
      advancedItems.forEach((item) => {
        if (isCollapsed) {
          item.addClass("expanded");
        } else {
          item.removeClass("expanded");
        }
      });
      (0, import_obsidian2.setIcon)(advancedToggle, isCollapsed ? "chevron-up" : "chevron-down");
    };
    const syntaxSection = container.createEl("div", { cls: "color-section" });
    const syntaxHeader = syntaxSection.createEl("div", { cls: "collapsible-header" });
    syntaxHeader.createEl("h4", { text: "Syntax colors (optional)" });
    const syntaxToggle = syntaxHeader.createEl("button", {
      cls: "collapse-toggle"
    });
    (0, import_obsidian2.setIcon)(syntaxToggle, "chevron-down");
    const syntaxColors = ["red", "orange", "yellow", "green", "cyan", "blue", "purple", "pink"];
    const syntaxItems = [];
    syntaxColors.forEach((color) => {
      const item = createColorOverride(
        syntaxSection,
        color.charAt(0).toUpperCase() + color.slice(1),
        color,
        colors,
        palette,
        () => this.updatePreview()
      );
      syntaxItems.push(item);
      item.addClass("collapsible-content-item");
    });
    syntaxToggle.onclick = () => {
      const isCollapsed = !syntaxItems[0].classList.contains("expanded");
      syntaxItems.forEach((item) => {
        if (isCollapsed) {
          item.addClass("expanded");
        } else {
          item.removeClass("expanded");
        }
      });
      (0, import_obsidian2.setIcon)(syntaxToggle, isCollapsed ? "chevron-up" : "chevron-down");
    };
  }
  updatePreview() {
    this.previewSwatch.empty();
    const presetIndex = this.plugin.settings.customPresets.findIndex((p) => p.id === this.preset.id);
    if (presetIndex !== -1) {
      this.plugin.settings.customPresets[presetIndex] = this.preset;
      const presetSchemeId = `oxygen-custom-${this.preset.id}`;
      if (this.plugin.settings.lightScheme === presetSchemeId || this.plugin.settings.darkScheme === presetSchemeId) {
        this.plugin.updateStyle();
        this.plugin.updateCustomPresetCSS();
      }
    }
    const lightPalette = this.preset.light;
    const darkPalette = this.preset.dark;
    const lightBaseHex = hslToHex(lightPalette.base);
    const lightAccentHex = hslToHex(lightPalette.accent);
    const darkBaseHex = hslToHex(darkPalette.base);
    const darkAccentHex = hslToHex(darkPalette.accent);
    const lightRow = this.previewSwatch.createEl("div", { cls: "preview-row" });
    lightRow.createEl("div", { text: "Light mode", cls: "preview-label" });
    const lightColors = lightRow.createEl("div", { cls: "preview-colors" });
    const lightBaseColor = lightColors.createEl("div", { cls: "preview-color" });
    lightBaseColor.setAttribute("data-color", lightBaseHex);
    setCssProp(lightBaseColor, "--preview-color", lightBaseHex);
    const lightAccentColor = lightColors.createEl("div", { cls: "preview-color" });
    lightAccentColor.setAttribute("data-color", lightAccentHex);
    setCssProp(lightAccentColor, "--preview-color", lightAccentHex);
    const darkRow = this.previewSwatch.createEl("div", { cls: "preview-row" });
    darkRow.createEl("div", { text: "Dark mode", cls: "preview-label" });
    const darkColors = darkRow.createEl("div", { cls: "preview-colors" });
    const darkBaseColor = darkColors.createEl("div", { cls: "preview-color" });
    darkBaseColor.setAttribute("data-color", darkBaseHex);
    setCssProp(darkBaseColor, "--preview-color", darkBaseHex);
    const darkAccentColor = darkColors.createEl("div", { cls: "preview-color" });
    darkAccentColor.setAttribute("data-color", darkAccentHex);
    setCssProp(darkAccentColor, "--preview-color", darkAccentHex);
  }
  savePreset() {
    try {
      if (!this.preset.name.trim()) {
        throw new Error("Preset name is required");
      }
      if (!this.isEditing) {
        this.preset.id = PresetManager.createPreset(
          this.preset.name,
          this.preset.author || "",
          this.plugin.settings.customPresets
        ).id;
      }
      this.onSave(this.preset);
      this.close();
    } catch (error) {
      console.error("Error saving preset:", error);
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/modals/PresetImportModal.ts
var import_obsidian3 = require("obsidian");
var PresetImportModal = class extends import_obsidian3.Modal {
  constructor(app, plugin, onImport) {
    super(app);
    this.parsedPreset = null;
    this.plugin = plugin;
    this.onImport = onImport;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("preset-import-modal");
    const header = contentEl.createEl("div", { cls: "modal-header" });
    header.createEl("h2", { text: "Import custom preset" });
    const instructions = contentEl.createEl("div", { cls: "modal-section" });
    instructions.createEl("p", {
      text: "Paste a JSON preset below. You can export presets from this plugin or create them manually following the correct format."
    });
    const inputSection = contentEl.createEl("div", { cls: "modal-section" });
    inputSection.createEl("h3", { text: "JSON preset data" });
    new import_obsidian3.Setting(inputSection).setName("Preset JSON").setDesc("Paste the complete JSON preset data here").addTextArea((text) => {
      this.textArea = text.inputEl;
      this.textArea.addClass("preset-json-input");
      text.setPlaceholder("Paste JSON preset data here...").onChange((value) => this.parseJSON(value));
    });
    const previewSection = contentEl.createEl("div", { cls: "modal-section" });
    previewSection.createEl("h3", { text: "Preview" });
    this.previewContainer = previewSection.createEl("div", { cls: "preview-container" });
    this.previewContainer.createEl("p", {
      text: "Enter valid JSON to see a preview of the preset",
      cls: "preview-placeholder"
    });
    const errorSection = contentEl.createEl("div", { cls: "modal-section error-section hidden" });
    errorSection.createEl("div", { cls: "error-message" });
    const footer = contentEl.createEl("div", { cls: "modal-footer" });
    const cancelBtn = footer.createEl("button", { text: "Cancel", cls: "mod-cta" });
    cancelBtn.onclick = () => this.close();
    this.importButton = footer.createEl("button", {
      text: "Import preset",
      cls: "mod-cta"
    });
    this.importButton.disabled = true;
    this.importButton.onclick = () => this.importPreset();
  }
  parseJSON(jsonString) {
    const errorSection = this.contentEl.querySelector(".error-section");
    const errorMessage = this.contentEl.querySelector(".error-message");
    this.parsedPreset = null;
    this.importButton.disabled = true;
    errorSection.addClass("hidden");
    this.previewContainer.empty();
    if (!jsonString.trim()) {
      this.previewContainer.createEl("p", {
        text: "Enter valid JSON to see a preview of the preset",
        cls: "preview-placeholder"
      });
      return;
    }
    try {
      this.parsedPreset = PresetManager.importPresetFromJSON(jsonString);
      const existingPreset = this.plugin.settings.customPresets.find((p) => p.id === this.parsedPreset.id);
      if (existingPreset) {
        throw new Error(`A preset with ID "${this.parsedPreset.id}" already exists. Please rename the preset.`);
      }
      this.showPreview(this.parsedPreset);
      this.importButton.disabled = false;
    } catch (error) {
      errorMessage.textContent = error instanceof Error ? error.message : "Invalid JSON format";
      errorSection.removeClass("hidden");
      this.previewContainer.createEl("p", {
        text: "Fix the JSON errors above to see a preview",
        cls: "preview-error"
      });
    }
  }
  showPreview(preset) {
    this.previewContainer.empty();
    const info = this.previewContainer.createEl("div", { cls: "preset-info" });
    const nameRow = info.createEl("div", { cls: "info-row" });
    nameRow.createEl("strong", { text: "Name: " });
    nameRow.createEl("span", { text: preset.name });
    if (preset.author) {
      const authorRow = info.createEl("div", { cls: "info-row" });
      authorRow.createEl("strong", { text: "Author: " });
      authorRow.createEl("span", { text: preset.author });
    }
    const versionRow = info.createEl("div", { cls: "info-row" });
    versionRow.createEl("strong", { text: "Version: " });
    versionRow.createEl("span", { text: preset.version || "1.0.0" });
    const idRow = info.createEl("div", { cls: "info-row" });
    idRow.createEl("strong", { text: "ID: " });
    idRow.createEl("span", { text: preset.id, cls: "preset-id" });
    const preview = this.previewContainer.createEl("div", { cls: "color-preview-section" });
    preview.createEl("h4", { text: "Color preview" });
    const modeToggle = preview.createEl("div", { cls: "mode-toggle" });
    const lightModeBtn = modeToggle.createEl("button", {
      text: "Light mode",
      cls: "mode-btn active"
    });
    const darkModeBtn = modeToggle.createEl("button", {
      text: "Dark mode",
      cls: "mode-btn"
    });
    const swatchContainer = preview.createEl("div", { cls: "swatch-container" });
    const lightSwatches = swatchContainer.createEl("div", { cls: "mode-swatches active" });
    const lightBaseSwatchPreview = lightSwatches.createEl("div", { cls: "color-swatch" });
    const lightBaseHSL = `${preset.light.base.h}, ${preset.light.base.s}%, ${preset.light.base.l}%`;
    lightBaseSwatchPreview.setAttribute("data-hsl", lightBaseHSL);
    setCssProp(lightBaseSwatchPreview, "--swatch-hsl", lightBaseHSL);
    lightBaseSwatchPreview.title = `Base: hsl(${preset.light.base.h}, ${preset.light.base.s}%, ${preset.light.base.l}%)`;
    const lightAccentSwatchPreview = lightSwatches.createEl("div", { cls: "color-swatch" });
    const lightAccentHSL = `${preset.light.accent.h}, ${preset.light.accent.s}%, ${preset.light.accent.l}%`;
    lightAccentSwatchPreview.setAttribute("data-hsl", lightAccentHSL);
    setCssProp(lightAccentSwatchPreview, "--swatch-hsl", lightAccentHSL);
    lightAccentSwatchPreview.title = `Accent: hsl(${preset.light.accent.h}, ${preset.light.accent.s}%, ${preset.light.accent.l}%)`;
    const darkSwatches = swatchContainer.createEl("div", { cls: "mode-swatches" });
    const darkBaseSwatchPreview = darkSwatches.createEl("div", { cls: "color-swatch" });
    const darkBaseHSL = `${preset.dark.base.h}, ${preset.dark.base.s}%, ${preset.dark.base.l}%`;
    darkBaseSwatchPreview.setAttribute("data-hsl", darkBaseHSL);
    setCssProp(darkBaseSwatchPreview, "--swatch-hsl", darkBaseHSL);
    darkBaseSwatchPreview.title = `Base: hsl(${preset.dark.base.h}, ${preset.dark.base.s}%, ${preset.dark.base.l}%)`;
    const darkAccentSwatchPreview = darkSwatches.createEl("div", { cls: "color-swatch" });
    const darkAccentHSL = `${preset.dark.accent.h}, ${preset.dark.accent.s}%, ${preset.dark.accent.l}%`;
    darkAccentSwatchPreview.setAttribute("data-hsl", darkAccentHSL);
    setCssProp(darkAccentSwatchPreview, "--swatch-hsl", darkAccentHSL);
    darkAccentSwatchPreview.title = `Accent: hsl(${preset.dark.accent.h}, ${preset.dark.accent.s}%, ${preset.dark.accent.l}%)`;
    lightModeBtn.onclick = () => {
      lightModeBtn.classList.add("active");
      darkModeBtn.classList.remove("active");
      lightSwatches.classList.add("active");
      darkSwatches.classList.remove("active");
    };
    darkModeBtn.onclick = () => {
      darkModeBtn.classList.add("active");
      lightModeBtn.classList.remove("active");
      darkSwatches.classList.add("active");
      lightSwatches.classList.remove("active");
    };
    const details = this.previewContainer.createEl("div", { cls: "color-details-section" });
    details.createEl("h4", { text: "Color values" });
    const lightDetails = details.createEl("div", { cls: "mode-details" });
    lightDetails.createEl("h5", { text: "Light mode" });
    const lightBase = lightDetails.createEl("div", { cls: "color-detail" });
    const lightBaseSwatchDetail = lightBase.createEl("div", { cls: "detail-swatch" });
    const lightBaseHSLDetail = `${preset.light.base.h}, ${preset.light.base.s}%, ${preset.light.base.l}%`;
    lightBaseSwatchDetail.setAttribute("data-hsl", lightBaseHSLDetail);
    setCssProp(lightBaseSwatchDetail, "--detail-hsl", lightBaseHSLDetail);
    lightBase.createEl("span", { text: "Base: " });
    lightBase.createEl("span", { text: `hsl(${preset.light.base.h}, ${preset.light.base.s}%, ${preset.light.base.l}%)` });
    const lightAccent = lightDetails.createEl("div", { cls: "color-detail" });
    const lightAccentSwatchDetail = lightAccent.createEl("div", { cls: "detail-swatch" });
    const lightAccentHSLDetail = `${preset.light.accent.h}, ${preset.light.accent.s}%, ${preset.light.accent.l}%`;
    lightAccentSwatchDetail.setAttribute("data-hsl", lightAccentHSLDetail);
    setCssProp(lightAccentSwatchDetail, "--detail-hsl", lightAccentHSLDetail);
    lightAccent.createEl("span", { text: "Accent: " });
    lightAccent.createEl("span", { text: `hsl(${preset.light.accent.h}, ${preset.light.accent.s}%, ${preset.light.accent.l}%)` });
    const darkDetails = details.createEl("div", { cls: "mode-details" });
    darkDetails.createEl("h5", { text: "Dark mode" });
    const darkBase = darkDetails.createEl("div", { cls: "color-detail" });
    const darkBaseSwatchDetail = darkBase.createEl("div", { cls: "detail-swatch" });
    const darkBaseHSLDetail = `${preset.dark.base.h}, ${preset.dark.base.s}%, ${preset.dark.base.l}%`;
    darkBaseSwatchDetail.setAttribute("data-hsl", darkBaseHSLDetail);
    setCssProp(darkBaseSwatchDetail, "--detail-hsl", darkBaseHSLDetail);
    darkBase.createEl("span", { text: "Base: " });
    darkBase.createEl("span", { text: `hsl(${preset.dark.base.h}, ${preset.dark.base.s}%, ${preset.dark.base.l}%)` });
    const darkAccent = darkDetails.createEl("div", { cls: "color-detail" });
    const darkAccentSwatchDetail = darkAccent.createEl("div", { cls: "detail-swatch" });
    const darkAccentHSLDetail = `${preset.dark.accent.h}, ${preset.dark.accent.s}%, ${preset.dark.accent.l}%`;
    darkAccentSwatchDetail.setAttribute("data-hsl", darkAccentHSLDetail);
    setCssProp(darkAccentSwatchDetail, "--detail-hsl", darkAccentHSLDetail);
    darkAccent.createEl("span", { text: "Accent: " });
    darkAccent.createEl("span", { text: `hsl(${preset.dark.accent.h}, ${preset.dark.accent.s}%, ${preset.dark.accent.l}%)` });
    const lightOverrides = Object.keys(preset.light.colors || {}).length;
    const darkOverrides = Object.keys(preset.dark.colors || {}).length;
    if (lightOverrides > 0 || darkOverrides > 0) {
      const overridesInfo = this.previewContainer.createEl("div", { cls: "overrides-info" });
      overridesInfo.createEl("p", {
        text: `Custom overrides: ${lightOverrides} light mode, ${darkOverrides} dark mode`
      });
    }
  }
  importPreset() {
    if (this.parsedPreset) {
      this.onImport(this.parsedPreset);
      this.close();
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/modals/ConfirmationModal.ts
var import_obsidian4 = require("obsidian");
var ConfirmationModal = class _ConfirmationModal extends import_obsidian4.Modal {
  constructor(app, title, message, confirmText = "Yes", cancelText = "Cancel") {
    super(app);
    this.title = title;
    this.message = message;
    this.confirmText = confirmText;
    this.cancelText = cancelText;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: this.title });
    contentEl.createEl("p", { text: this.message });
    const buttonContainer = contentEl.createDiv("modal-button-container");
    const cancelButton = buttonContainer.createEl("button", {
      text: this.cancelText,
      cls: "mod-cta"
    });
    cancelButton.addEventListener("click", () => {
      this.close();
      this.resolve(false);
    });
    const confirmButton = buttonContainer.createEl("button", {
      text: this.confirmText,
      cls: "mod-cta confirm-button"
    });
    confirmButton.addEventListener("click", () => {
      this.close();
      this.resolve(true);
    });
    confirmButton.focus();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
  // Static method to show the modal and return a promise
  static async show(app, title, message, confirmText = "Yes", cancelText = "Cancel") {
    return new Promise((resolve) => {
      const modal = new _ConfirmationModal(app, title, message, confirmText, cancelText);
      modal.resolve = resolve;
      modal.open();
    });
  }
};

// src/settings/sections/CustomPresetSettings.ts
function buildCustomPresetSettings(containerEl, plugin, app, refreshCallback) {
  const customPresetsGroup = createSettingsGroup(containerEl, "Custom color schemes", "oxygen-settings");
  customPresetsGroup.addSetting((setting) => {
    setting.setName("Enable custom presets").setDesc("Allow creation and use of custom color presets").addToggle((toggle) => {
      toggle.setValue(plugin.settings.enableCustomPresets).onChange((value) => {
        plugin.settings.enableCustomPresets = value;
        if (!value) {
          let needsUpdate = false;
          if (plugin.settings.lightScheme.startsWith("oxygen-custom-")) {
            plugin.settings.lightScheme = "oxygen-oxygen-light";
            needsUpdate = true;
          }
          if (plugin.settings.darkScheme.startsWith("oxygen-custom-")) {
            plugin.settings.darkScheme = "oxygen-oxygen-dark";
            needsUpdate = true;
          }
          if (needsUpdate) {
            plugin.updateStyle();
            plugin.updateCustomPresetCSS();
          }
        }
        void plugin.saveData(plugin.settings);
        refreshCallback();
      });
    });
  });
  if (!plugin.settings.enableCustomPresets) {
    return;
  }
  customPresetsGroup.addSetting((setting) => {
    setting.setName("Create new preset").setDesc("Design a custom color scheme from scratch").addExtraButton((button) => {
      button.setIcon("plus").setTooltip("Create new preset").onClick(() => openPresetEditor(app, plugin, null, refreshCallback));
    });
  });
  customPresetsGroup.addSetting((setting) => {
    setting.setName("Import preset").setDesc("Import a preset from JSON data").addExtraButton((button) => {
      button.setIcon("download").setTooltip("Import preset").onClick(() => openPresetImporter(app, plugin, refreshCallback));
    });
  });
  containerEl.createEl("br");
  if (plugin.settings.customPresets.length > 0) {
    const presetsList = containerEl.createEl("div", { cls: "custom-presets-list" });
    plugin.settings.customPresets.sort((a, b) => a.name.localeCompare(b.name)).forEach((preset) => {
      addPresetListItem(presetsList, preset, app, plugin, refreshCallback);
    });
  } else {
    const emptyState = containerEl.createEl("div", { cls: "custom-presets-empty" });
    emptyState.createEl("p", {
      text: "No custom presets yet. Create your first preset to get started!",
      cls: "empty-message"
    });
  }
  containerEl.createEl("br");
}
function addPresetListItem(container, preset, app, plugin, refreshCallback) {
  const presetItem = container.createEl("div", { cls: "custom-preset-item" });
  const presetInfo = presetItem.createEl("div", { cls: "preset-info" });
  const swatch = generateColorSwatch(preset);
  presetInfo.appendChild(swatch);
  const details = presetInfo.createEl("div", { cls: "preset-details" });
  details.createEl("div", { text: preset.name, cls: "preset-name" });
  if (preset.author) {
    details.createEl("div", { text: `by ${preset.author}`, cls: "preset-author" });
  }
  details.createEl("div", { text: preset.id, cls: "preset-id preset-id-display" });
  new import_obsidian5.Setting(presetItem).setName("").setDesc("").addExtraButton((button) => button.setIcon("edit").setTooltip("Edit preset").onClick(() => openPresetEditor(app, plugin, preset, refreshCallback))).addExtraButton((button) => button.setIcon("download").setTooltip("Export preset").onClick(() => exportPreset(preset))).addExtraButton((button) => button.setIcon("trash").setTooltip("Delete preset").onClick(async () => await deletePreset(app, plugin, preset, refreshCallback)));
}
function openPresetEditor(app, plugin, preset, refreshCallback) {
  const modal = new PresetEditorModal(app, plugin, preset, (updatedPreset) => {
    if (preset) {
      const index = plugin.settings.customPresets.findIndex((p) => p.id === preset.id);
      if (index !== -1) {
        plugin.settings.customPresets[index] = updatedPreset;
      }
    } else {
      plugin.settings.customPresets.push(updatedPreset);
    }
    void plugin.saveData(plugin.settings);
    const presetSchemeId = `oxygen-custom-${updatedPreset.id}`;
    if (plugin.settings.lightScheme === presetSchemeId || plugin.settings.darkScheme === presetSchemeId) {
      plugin.updateStyle();
      plugin.updateCustomPresetCSS();
    }
    refreshCallback();
  });
  modal.open();
}
function openPresetImporter(app, plugin, refreshCallback) {
  const modal = new PresetImportModal(app, plugin, (importedPreset) => {
    plugin.settings.customPresets.push(importedPreset);
    void plugin.saveData(plugin.settings);
    refreshCallback();
  });
  modal.open();
}
function exportPreset(preset) {
  const json = PresetManager.exportPresetAsJSON(preset);
  const blob = new Blob([json], { type: "application/json" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = `${preset.id}.json`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
async function deletePreset(app, plugin, preset, refreshCallback) {
  const isActive = PresetManager.isPresetActive(
    preset.id,
    plugin.settings.lightScheme,
    plugin.settings.darkScheme
  );
  if (isActive) {
    const confirmed = await ConfirmationModal.show(
      app,
      "Delete active preset",
      "This preset is currently active. Deleting it will switch to the default scheme. Continue?",
      "Delete"
    );
    if (!confirmed) {
      return;
    }
    if (plugin.settings.lightScheme === `oxygen-custom-${preset.id}`) {
      plugin.settings.lightScheme = "oxygen-oxygen-light";
    }
    if (plugin.settings.darkScheme === `oxygen-custom-${preset.id}`) {
      plugin.settings.darkScheme = "oxygen-oxygen-dark";
    }
  }
  plugin.settings.customPresets = plugin.settings.customPresets.filter((p) => p.id !== preset.id);
  await plugin.saveData(plugin.settings);
  plugin.updateStyle();
  plugin.updateCustomPresetCSS();
  refreshCallback();
}

// src/settings/sections/AnimationSettings.ts
function buildAnimationSettings(containerEl, plugin) {
  const animationGroup = createSettingsGroup(containerEl, "Animations", "oxygen-settings");
  let speedSetting;
  animationGroup.addSetting((setting) => {
    setting.setName("Animation personality").setDesc("Choose the animation style: Default (smooth), Playful (bouncy), or Off (disabled).").addDropdown((dropdown) => {
      dropdown.addOption("default", "Default").addOption("playful", "Playful").addOption("off", "Off").setValue(plugin.settings.animationPersonality || "default").onChange((value) => {
        plugin.settings.animationPersonality = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
        if (speedSetting !== void 0) {
          if (value === "off") {
            speedSetting.settingEl.addClass("hidden");
          } else {
            speedSetting.settingEl.removeClass("hidden");
          }
        }
      });
    });
  });
  animationGroup.addSetting((setting) => {
    speedSetting = setting;
    setting.setName("Animation speed").setDesc("Control the speed of animations. Range: 0 (disabled) to 2 (half speed / slower). Default: 1 (normal speed). Lower values = faster animations, higher values = slower animations.").addSlider((slider) => {
      slider.setLimits(0, 2, 0.1).setValue(plugin.settings.animationSpeed).setDynamicTooltip().onChange((value) => {
        plugin.settings.animationSpeed = value;
        void plugin.saveData(plugin.settings);
        plugin.refresh();
      });
    });
    if (plugin.settings.animationPersonality === "off") {
      speedSetting.settingEl.addClass("hidden");
    }
  });
}

// src/settings.ts
var MinimalSettingsTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    buildColorSchemeSettings(containerEl, this.plugin);
    buildCustomPresetSettings(containerEl, this.plugin, this.app, () => this.display());
    buildFeatureSettings(containerEl, this.plugin);
    buildAnimationSettings(containerEl, this.plugin);
    buildLayoutSettings(containerEl, this.plugin);
    buildTypographySettings(containerEl, this.plugin);
  }
};

// src/presets/preset-css-generator.ts
var PresetCSSGenerator = class {
  /**
   * Generate CSS custom properties as an object for direct application to body element
   * This avoids creating style elements and complies with Obsidian guidelines
   */
  static generateProperties(preset, mode) {
    const palette = mode === "light" ? preset.light : preset.dark;
    const baseH = palette.base.h;
    const baseS = palette.base.s;
    const baseL = palette.base.l;
    const accentH = palette.accent.h;
    const accentS = palette.accent.s;
    const accentL = palette.accent.l;
    const isLightMode = mode === "light";
    const isLightBase = baseL > 50;
    const bg1 = `hsl(${baseH}, ${baseS}%, ${baseL}%)`;
    const bg2 = `hsl(${baseH}, ${baseS}%, ${isLightBase ? Math.max(0, baseL - 5) : Math.min(100, baseL + 5)}%)`;
    const bg3 = `hsl(${baseH}, ${baseS}%, ${isLightBase ? Math.max(0, baseL - 10) : Math.min(100, baseL + 10)}%)`;
    const ui1L = isLightBase ? Math.max(0, baseL - 15) : Math.min(100, baseL + 15);
    const ui2L = isLightBase ? Math.max(0, baseL - 10) : Math.min(100, baseL + 10);
    const ui3L = isLightBase ? Math.max(0, baseL - 5) : Math.min(100, baseL + 5);
    const ui1 = `hsl(${baseH}, ${baseS}%, ${ui1L}%)`;
    const ui2 = `hsl(${baseH}, ${baseS}%, ${ui2L}%)`;
    const ui3 = `hsl(${baseH}, ${baseS}%, ${ui3L}%)`;
    const tx1L = isLightBase ? 15 : 85;
    const tx2L = isLightBase ? 25 : 75;
    const tx3L = isLightBase ? 35 : 65;
    const tx4L = isLightBase ? 30 : 70;
    const tx1 = `hsl(${baseH}, ${Math.max(0, baseS - 10)}%, ${tx1L}%)`;
    const tx2 = `hsl(${baseH}, ${Math.max(0, baseS - 20)}%, ${tx2L}%)`;
    const tx3 = `hsl(${baseH}, ${Math.max(0, baseS - 10)}%, ${tx3L}%)`;
    const tx4 = `hsl(${baseH}, ${Math.max(0, baseS - 10)}%, ${tx4L}%)`;
    const hl1 = `hsla(${accentH}, 50%, 40%, 30%)`;
    const hl2 = `rgba(255, 177, 80, 0.3)`;
    const sp1 = isLightMode ? "white" : "black";
    const hslToRgb = (h, s, l) => {
      h = h / 360;
      s = s / 100;
      l = l / 100;
      const hue2rgb = (p2, q2, t) => {
        if (t < 0) t += 1;
        if (t > 1) t -= 1;
        if (t < 1 / 6) return p2 + (q2 - p2) * 6 * t;
        if (t < 1 / 2) return q2;
        if (t < 2 / 3) return p2 + (q2 - p2) * (2 / 3 - t) * 6;
        return p2;
      };
      if (s === 0) {
        return [l, l, l];
      }
      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
      const p = 2 * l - q;
      const r2 = hue2rgb(p, q, h + 1 / 3);
      const g2 = hue2rgb(p, q, h);
      const b2 = hue2rgb(p, q, h - 1 / 3);
      return [r2, g2, b2];
    };
    const [r, g, b] = hslToRgb(accentH, accentS, accentL);
    const luminance = 0.2126 * (r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4)) + 0.7152 * (g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4)) + 0.0722 * (b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4));
    const textOnAccent = luminance > 0.5 ? "black" : "white";
    const props = {
      "--base-h": `${baseH}`,
      "--base-s": `${baseS}%`,
      "--base-l": `${baseL}%`,
      "--accent-h": `${accentH}`,
      "--accent-s": `${accentS}%`,
      "--accent-l": `${accentL}%`,
      "--bg1": bg1,
      "--bg2": bg2,
      "--bg-tab": bg2,
      "--bg3": bg3,
      "--ui1": ui1,
      "--ui2": ui2,
      "--ui3": ui3,
      "--tx1": tx1,
      "--tx2": tx2,
      "--tx3": tx3,
      "--tx4": tx4,
      "--hl1": hl1,
      "--hl2": hl2,
      "--sp1": sp1,
      "--text-on-accent": textOnAccent
    };
    const extendedS = accentS;
    const extendedL = isLightBase ? 55 : 65;
    props["--color-red"] = `hsl(0, ${extendedS}%, ${extendedL}%)`;
    props["--color-orange"] = `hsl(25, ${extendedS}%, ${extendedL}%)`;
    props["--color-yellow"] = `hsl(50, ${extendedS}%, ${extendedL}%)`;
    props["--color-green"] = `hsl(130, ${extendedS}%, ${extendedL}%)`;
    props["--color-cyan"] = `hsl(180, ${extendedS}%, ${extendedL}%)`;
    props["--color-blue"] = `hsl(220, ${extendedS}%, ${extendedL}%)`;
    props["--color-purple"] = `hsl(280, ${extendedS}%, ${extendedL}%)`;
    props["--color-pink"] = `hsl(330, ${extendedS}%, ${extendedL}%)`;
    if (palette.frameLightnessOffset !== void 0) {
      const frameL = accentL + palette.frameLightnessOffset;
      props["--frame-background-l"] = `${frameL}%`;
    }
    if (palette.colors) {
      const overrides = [
        "bg1",
        "bg2",
        "bg3",
        "ui1",
        "ui2",
        "ui3",
        "tx1",
        "tx2",
        "tx3",
        "tx4",
        "hl1",
        "hl2",
        "red",
        "orange",
        "yellow",
        "green",
        "cyan",
        "blue",
        "purple",
        "pink"
      ];
      overrides.forEach((colorKey) => {
        var _a;
        const color = (_a = palette.colors) == null ? void 0 : _a[colorKey];
        if (color) {
          switch (colorKey) {
            case "bg1":
            case "bg2":
            case "bg3":
            case "ui1":
            case "ui2":
            case "ui3":
            case "tx1":
            case "tx2":
            case "tx3":
            case "tx4":
            case "hl1":
            case "hl2":
              props[`--${colorKey}`] = color;
              break;
            default:
              props[`--color-${colorKey}`] = color;
              break;
          }
        }
      });
    }
    return props;
  }
  /**
   * Generate CSS for a custom preset using Oxygen custom variables
   * This allows Style Settings to override Obsidian native variables
   * @deprecated Use generateProperties instead to avoid creating style elements
   */
  static generateCSS(preset, mode) {
    const palette = mode === "light" ? preset.light : preset.dark;
    const themeClass = mode === "light" ? "theme-light" : "theme-dark";
    const className = `oxygen-custom-${preset.id}`;
    let css = `.${themeClass}.${className} {
`;
    const baseH = palette.base.h;
    const baseS = palette.base.s;
    const baseL = palette.base.l;
    const accentH = palette.accent.h;
    const accentS = palette.accent.s;
    const accentL = palette.accent.l;
    const isLightMode = mode === "light";
    const isLightBase = baseL > 50;
    const bg1 = `hsl(${baseH}, ${baseS}%, ${baseL}%)`;
    const bg2 = `hsl(${baseH}, ${baseS}%, ${isLightBase ? Math.max(0, baseL - 5) : Math.min(100, baseL + 5)}%)`;
    const bg3 = `hsl(${baseH}, ${baseS}%, ${isLightBase ? Math.max(0, baseL - 10) : Math.min(100, baseL + 10)}%)`;
    const ui1L = isLightBase ? Math.max(0, baseL - 15) : Math.min(100, baseL + 15);
    const ui2L = isLightBase ? Math.max(0, baseL - 10) : Math.min(100, baseL + 10);
    const ui3L = isLightBase ? Math.max(0, baseL - 5) : Math.min(100, baseL + 5);
    const ui1 = `hsl(${baseH}, ${baseS}%, ${ui1L}%)`;
    const ui2 = `hsl(${baseH}, ${baseS}%, ${ui2L}%)`;
    const ui3 = `hsl(${baseH}, ${baseS}%, ${ui3L}%)`;
    const tx1L = isLightBase ? 15 : 85;
    const tx2L = isLightBase ? 25 : 75;
    const tx3L = isLightBase ? 35 : 65;
    const tx4L = isLightBase ? 30 : 70;
    const tx1 = `hsl(${baseH}, ${Math.max(0, baseS - 10)}%, ${tx1L}%)`;
    const tx2 = `hsl(${baseH}, ${Math.max(0, baseS - 20)}%, ${tx2L}%)`;
    const tx3 = `hsl(${baseH}, ${Math.max(0, baseS - 10)}%, ${tx3L}%)`;
    const tx4 = `hsl(${baseH}, ${Math.max(0, baseS - 10)}%, ${tx4L}%)`;
    const hl1 = `hsla(${accentH}, 50%, 40%, 30%)`;
    const hl2 = `rgba(255, 177, 80, 0.3)`;
    const sp1 = isLightMode ? "white" : "black";
    const hslToRgb = (h, s, l) => {
      h = h / 360;
      s = s / 100;
      l = l / 100;
      const hue2rgb = (p2, q2, t) => {
        if (t < 0) t += 1;
        if (t > 1) t -= 1;
        if (t < 1 / 6) return p2 + (q2 - p2) * 6 * t;
        if (t < 1 / 2) return q2;
        if (t < 2 / 3) return p2 + (q2 - p2) * (2 / 3 - t) * 6;
        return p2;
      };
      if (s === 0) {
        return [l, l, l];
      }
      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
      const p = 2 * l - q;
      const r2 = hue2rgb(p, q, h + 1 / 3);
      const g2 = hue2rgb(p, q, h);
      const b2 = hue2rgb(p, q, h - 1 / 3);
      return [r2, g2, b2];
    };
    const [r, g, b] = hslToRgb(accentH, accentS, accentL);
    const luminance = 0.2126 * (r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4)) + 0.7152 * (g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4)) + 0.0722 * (b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4));
    const textOnAccent = luminance > 0.5 ? "black" : "white";
    css += `  --base-h: ${baseH};
`;
    css += `  --base-s: ${baseS}%;
`;
    css += `  --base-l: ${baseL}%;
`;
    css += `
`;
    css += `  --accent-h: ${accentH};
`;
    css += `  --accent-s: ${accentS}%;
`;
    css += `  --accent-l: ${accentL}%;
`;
    css += `
`;
    css += `  --bg1: ${bg1};
`;
    css += `  --bg2: ${bg2};
`;
    css += `  --bg-tab: ${bg2};
`;
    css += `  --bg3: ${bg3};
`;
    css += `
`;
    css += `  --ui1: ${ui1};
`;
    css += `  --ui2: ${ui2};
`;
    css += `  --ui3: ${ui3};
`;
    css += `
`;
    css += `  --tx1: ${tx1};
`;
    css += `  --tx2: ${tx2};
`;
    css += `  --tx3: ${tx3};
`;
    css += `  --tx4: ${tx4};
`;
    css += `
`;
    css += `  --hl1: ${hl1};
`;
    css += `  --hl2: ${hl2};
`;
    css += `
`;
    css += `  --sp1: ${sp1};
`;
    css += `
`;
    css += `  --text-on-accent: ${textOnAccent};
`;
    css += `
`;
    const extendedS = accentS;
    const extendedL = isLightBase ? 55 : 65;
    css += `  --color-red: hsl(0, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-orange: hsl(25, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-yellow: hsl(50, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-green: hsl(130, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-cyan: hsl(180, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-blue: hsl(220, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-purple: hsl(280, ${extendedS}%, ${extendedL}%);
`;
    css += `  --color-pink: hsl(330, ${extendedS}%, ${extendedL}%);
`;
    css += `
`;
    if (palette.frameLightnessOffset !== void 0) {
      const frameL = accentL + palette.frameLightnessOffset;
      css += `  --frame-background-l: ${frameL}%;
`;
      css += `
`;
    }
    if (palette.colors) {
      const overrides = [
        "bg1",
        "bg2",
        "bg3",
        "ui1",
        "ui2",
        "ui3",
        "tx1",
        "tx2",
        "tx3",
        "tx4",
        "hl1",
        "hl2",
        "red",
        "orange",
        "yellow",
        "green",
        "cyan",
        "blue",
        "purple",
        "pink"
      ];
      overrides.forEach((colorKey) => {
        var _a;
        const color = (_a = palette.colors) == null ? void 0 : _a[colorKey];
        if (color) {
          switch (colorKey) {
            case "bg1":
            case "bg2":
            case "bg3":
            case "ui1":
            case "ui2":
            case "ui3":
            case "tx1":
            case "tx2":
            case "tx3":
            case "tx4":
            case "hl1":
            case "hl2":
              css += `  --${colorKey}: ${color};
`;
              break;
            // For accent colors, we need to determine which ax variable this should map to
            // This is a simplified mapping - in practice, you might want more sophisticated logic
            default:
              css += `  --color-${colorKey}: ${color};
`;
              break;
          }
        }
      });
    }
    css += "}\n";
    return css;
  }
};

// src/managers/custom-preset-css.ts
var CustomPresetCSS = class {
  constructor(plugin) {
    this.isUpdating = false;
    this.plugin = plugin;
  }
  /**
   * Initialize custom preset CSS
   * Uses CSS custom properties on body element instead of creating style elements
   */
  initialize() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.updateCSS();
  }
  /**
   * Update custom preset CSS based on current settings
   * Uses CSS custom properties on body element instead of creating style elements
   * This complies with Obsidian guidelines to avoid creating style elements
   */
  updateCSS() {
    if (this.isUpdating) {
      return;
    }
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.isUpdating = true;
    const allPresetClasses = Array.from(document.body.classList).filter(
      (cls) => cls.startsWith("oxygen-custom-")
    );
    allPresetClasses.forEach((cls) => document.body.classList.remove(cls));
    const presetProperties = [
      "--base-h",
      "--base-s",
      "--base-l",
      "--accent-h",
      "--accent-s",
      "--accent-l",
      "--bg1",
      "--bg2",
      "--bg-tab",
      "--bg3",
      "--ui1",
      "--ui2",
      "--ui3",
      "--tx1",
      "--tx2",
      "--tx3",
      "--tx4",
      "--hl1",
      "--hl2",
      "--sp1",
      "--text-on-accent",
      "--color-red",
      "--color-orange",
      "--color-yellow",
      "--color-green",
      "--color-cyan",
      "--color-blue",
      "--color-purple",
      "--color-pink",
      "--frame-background-l"
    ];
    presetProperties.forEach((prop) => {
      document.body.style.removeProperty(prop);
    });
    const activeLightPreset = this.plugin.settings.customPresets.find(
      (p) => this.plugin.settings.lightScheme === `oxygen-custom-${p.id}`
    );
    const activeDarkPreset = this.plugin.settings.customPresets.find(
      (p) => this.plugin.settings.darkScheme === `oxygen-custom-${p.id}`
    );
    const isLightMode = document.body.classList.contains("theme-light");
    const activePreset = isLightMode ? activeLightPreset : activeDarkPreset;
    if (activePreset) {
      const presetClass = `oxygen-custom-${activePreset.id}`;
      document.body.classList.add(presetClass);
      const mode = isLightMode ? "light" : "dark";
      const properties = PresetCSSGenerator.generateProperties(activePreset, mode);
      setCssProps(document.body, properties);
    }
    setTimeout(() => {
      this.isUpdating = false;
    }, 50);
  }
  /**
   * Cleanup - remove all custom preset classes and CSS properties
   */
  cleanup() {
    const allPresetClasses = Array.from(document.body.classList).filter(
      (cls) => cls.startsWith("oxygen-custom-")
    );
    allPresetClasses.forEach((cls) => document.body.classList.remove(cls));
    const presetProperties = [
      "--base-h",
      "--base-s",
      "--base-l",
      "--accent-h",
      "--accent-s",
      "--accent-l",
      "--bg1",
      "--bg2",
      "--bg-tab",
      "--bg3",
      "--ui1",
      "--ui2",
      "--ui3",
      "--tx1",
      "--tx2",
      "--tx3",
      "--tx4",
      "--hl1",
      "--hl2",
      "--sp1",
      "--text-on-accent",
      "--color-red",
      "--color-orange",
      "--color-yellow",
      "--color-green",
      "--color-cyan",
      "--color-blue",
      "--color-purple",
      "--color-pink",
      "--frame-background-l"
    ];
    presetProperties.forEach((prop) => {
      document.body.style.removeProperty(prop);
    });
  }
};

// src/constants.ts
var CSS_CLASSES = {
  PLUGIN_THEME: "oxygen-theme",
  THEME_LIGHT: "theme-light",
  THEME_DARK: "theme-dark",
  CUSTOM_PRESETS_STYLE: "oxygen-custom-presets",
  THEME_OVERRIDE: "data-theme-override"
};
var LIGHT_STYLES = [
  "oxygen-light",
  "oxygen-light-tonal",
  "oxygen-light-contrast",
  "oxygen-light-white"
];
var DARK_STYLES = [
  "oxygen-dark",
  "oxygen-dark-tonal",
  "oxygen-dark-black"
];
var LIGHT_SCHEMES = [
  "oxygen-oxygen-light",
  "oxygen-minimal-light",
  "oxygen-atom-light",
  "oxygen-ayu-light",
  "oxygen-catppuccin-light",
  "oxygen-eink-light",
  "oxygen-everforest-light",
  "oxygen-flexoki-light",
  "oxygen-gruvbox-light",
  "oxygen-macos-light",
  "oxygen-nord-light",
  "oxygen-rose-pine-light",
  "oxygen-notion-light",
  "oxygen-solarized-light",
  "oxygen-things-light"
];
var DARK_SCHEMES = [
  "oxygen-oxygen-dark",
  "oxygen-minimal-dark",
  "oxygen-atom-dark",
  "oxygen-ayu-dark",
  "oxygen-catppuccin-dark",
  "oxygen-dracula-dark",
  "oxygen-eink-dark",
  "oxygen-everforest-dark",
  "oxygen-flexoki-dark",
  "oxygen-gruvbox-dark",
  "oxygen-macos-dark",
  "oxygen-nord-dark",
  "oxygen-rose-pine-dark",
  "oxygen-notion-dark",
  "oxygen-solarized-dark",
  "oxygen-things-dark"
];
var TABLE_WIDTH_STYLES = [
  "table-100",
  "table-default-width",
  "table-wide",
  "table-max"
];
var IFRAME_WIDTH_STYLES = [
  "iframe-100",
  "iframe-default-width",
  "iframe-wide",
  "iframe-max"
];
var IMAGE_WIDTH_STYLES = [
  "img-100",
  "img-default-width",
  "img-wide",
  "img-max"
];
var MAP_WIDTH_STYLES = [
  "map-100",
  "map-default-width",
  "map-wide",
  "map-max"
];
var CHART_WIDTH_STYLES = [
  "chart-100",
  "chart-default-width",
  "chart-wide",
  "chart-max"
];
var COMMAND_IDS = {
  // Font commands
  INCREASE_FONT: "increase-body-font-size",
  DECREASE_FONT: "decrease-body-font-size",
  // Style cycling commands
  CYCLE_DARK_STYLE: "toggle-minimal-dark-cycle",
  CYCLE_LIGHT_STYLE: "toggle-minimal-light-cycle",
  // Feature toggle commands
  TOGGLE_BORDERS: "toggle-hidden-borders",
  TOGGLE_COLORFUL_HEADINGS: "toggle-colorful-headings",
  TOGGLE_COLORFUL_FRAME: "toggle-minimal-colorful-frame",
  TOGGLE_IMAGE_GRID: "toggle-minimal-img-grid",
  TOGGLE_THEME: "toggle-minimal-switch",
  // Width cycling commands
  CYCLE_TABLE_WIDTH: "cycle-minimal-table-width",
  CYCLE_IMAGE_WIDTH: "cycle-minimal-image-width",
  CYCLE_IFRAME_WIDTH: "cycle-minimal-iframe-width",
  CYCLE_CHART_WIDTH: "cycle-minimal-chart-width",
  CYCLE_MAP_WIDTH: "cycle-minimal-map-width",
  // Light style commands
  LIGHT_DEFAULT: "toggle-minimal-light-default",
  LIGHT_WHITE: "toggle-minimal-light-white",
  LIGHT_TONAL: "toggle-minimal-light-tonal",
  LIGHT_CONTRAST: "toggle-minimal-light-contrast",
  // Dark style commands
  DARK_DEFAULT: "toggle-minimal-dark-default",
  DARK_TONAL: "toggle-minimal-dark-tonal",
  DARK_BLACK: "toggle-minimal-dark-black",
  // Custom preset commands
  CREATE_PRESET: "create-custom-preset",
  IMPORT_PRESET: "import-custom-preset",
  CYCLE_PRESETS_LIGHT: "cycle-custom-presets-light",
  CYCLE_PRESETS_DARK: "cycle-custom-presets-dark",
  // Dev commands
  DEV_BLOCK_WIDTH: "toggle-minimal-dev-block-width",
  // Settings command
  OPEN_SETTINGS: "oxygen-settings:open-settings"
};
var DEFAULTS = {
  FONT_SIZE_NORMAL: 16,
  FONT_SIZE_SMALL: 13,
  LINE_HEIGHT: 1.5,
  LINE_WIDTH: 40,
  LINE_WIDTH_WIDE: 50,
  MAX_WIDTH: 88,
  FONT_STEP: 0.5
};
var VAULT_CONFIG = {
  BASE_FONT_SIZE: "baseFontSize",
  FOLD_HEADING: "foldHeading",
  SHOW_LINE_NUMBER: "showLineNumber",
  READABLE_LINE_LENGTH: "readableLineLength",
  THEME: "theme"
};
var OBSIDIAN_THEMES = {
  LIGHT: "moonstone",
  DARK: "obsidian",
  SYSTEM: "system"
};
var OXYGEN_THEME_NAME = "Oxygen";
var SCHEME_DISPLAY_NAMES = {
  // Light schemes
  "oxygen-oxygen-light": "Oxygen",
  "oxygen-minimal-light": "Minimal",
  "oxygen-atom-light": "Atom",
  "oxygen-ayu-light": "Ayu",
  "oxygen-catppuccin-light": "Catppuccin",
  "oxygen-eink-light": "E-ink (beta)",
  "oxygen-everforest-light": "Everforest",
  "oxygen-flexoki-light": "Flexoki",
  "oxygen-gruvbox-light": "Gruvbox",
  "oxygen-macos-light": "macOS",
  "oxygen-nord-light": "Nord",
  "oxygen-rose-pine-light": "Ros\xE9 Pine",
  "oxygen-notion-light": "Sky",
  "oxygen-solarized-light": "Solarized",
  "oxygen-things-light": "Things",
  // Dark schemes
  "oxygen-oxygen-dark": "Oxygen",
  "oxygen-minimal-dark": "Minimal",
  "oxygen-atom-dark": "Atom",
  "oxygen-ayu-dark": "Ayu",
  "oxygen-catppuccin-dark": "Catppuccin",
  "oxygen-dracula-dark": "Dracula",
  "oxygen-eink-dark": "E-ink (beta)",
  "oxygen-everforest-dark": "Everforest",
  "oxygen-flexoki-dark": "Flexoki",
  "oxygen-gruvbox-dark": "Gruvbox",
  "oxygen-macos-dark": "macOS",
  "oxygen-nord-dark": "Nord",
  "oxygen-rose-pine-dark": "Ros\xE9 Pine",
  "oxygen-notion-dark": "Sky",
  "oxygen-solarized-dark": "Solarized",
  "oxygen-things-dark": "Things"
};

// src/types/obsidian-extensions.ts
function getVaultConfig(app, key) {
  const extApp = app;
  return extApp.vault.getConfig(key);
}
function setVaultConfig(app, key, value) {
  const extApp = app;
  extApp.vault.setConfig(key, value);
}
function setTheme(app, theme) {
  const extApp = app;
  extApp.setTheme(theme);
}
function onVaultConfigChanged(app, callback) {
  const extApp = app;
  return extApp.vault.on("config-changed", callback);
}
function updateFontSize(app) {
  const extApp = app;
  if (typeof extApp.updateFontSize === "function") {
    extApp.updateFontSize();
  }
}

// src/managers/style-manager.ts
var import_obsidian7 = require("obsidian");
var StyleManagerImpl = class {
  constructor(plugin) {
    this.cssObserver = null;
    this.plugin = plugin;
    this.customPresetCSS = new CustomPresetCSS(plugin);
  }
  /**
   * Detect OS for OS-specific styling
   */
  detectOS() {
    if (import_obsidian7.Platform.isMacOS) {
      return "macos";
    }
    if (import_obsidian7.Platform.isWin) {
      return "windows";
    }
    return "neutral";
  }
  /**
   * Initialize style management
   */
  initialize() {
    this.loadRules();
  }
  /**
   * Initialize custom preset CSS (called after main load completes)
   */
  initializeCustomPresets() {
    this.customPresetCSS.initialize();
  }
  /**
   * Cleanup on plugin unload
   */
  cleanup() {
    this.unloadRules();
    this.removeStyle();
    this.removeSettings();
    this.removeLightScheme();
    this.removeDarkScheme();
    this.customPresetCSS.cleanup();
    if (this.cssObserver) {
      this.cssObserver.disconnect();
      this.cssObserver = null;
    }
  }
  /**
   * Refresh all styles
   */
  refresh() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.updateStyle();
  }
  /**
   * Update custom preset CSS (public interface)
   */
  updateCustomPresetCSS() {
    this.customPresetCSS.updateCSS();
  }
  /**
   * Update all styles based on current settings
   */
  updateStyle() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.removeStyle();
    this.removeSettings();
    if (this.plugin.settings.lightStyle && this.plugin.settings.lightStyle.trim()) {
      document.body.addClass(this.plugin.settings.lightStyle);
    }
    if (this.plugin.settings.darkStyle && this.plugin.settings.darkStyle.trim()) {
      document.body.addClass(this.plugin.settings.darkStyle);
    }
    try {
      if (document.body.classList.contains("theme-light")) {
        this.updateLightScheme();
      } else if (document.body.classList.contains("theme-dark")) {
        this.updateDarkScheme();
      } else {
        document.body.addClass("theme-light");
        this.updateLightScheme();
      }
    } catch (error) {
      console.error("Error updating schemes:", error);
    }
    const bordersValue = this.plugin.settings.workspaceBorders;
    if (bordersValue === "enhanced") {
      document.body.classList.remove("borders-none", "borders-on");
    } else if (bordersValue === "default") {
      document.body.classList.remove("borders-none");
      document.body.classList.add("borders-on");
    } else if (bordersValue === "none") {
      document.body.classList.remove("borders-on");
      document.body.classList.add("borders-none");
    }
    document.body.classList.toggle("colorful-headings", this.plugin.settings.colorfulHeadings);
    document.body.classList.toggle("colorful-frame", this.plugin.settings.colorfulFrame);
    document.body.classList.toggle("colorful-active", this.plugin.settings.colorfulActiveStates);
    document.body.classList.toggle("enable-blur", this.plugin.settings.enableBlur);
    document.body.classList.toggle("links-int-on", this.plugin.settings.underlineInternal);
    document.body.classList.toggle("links-ext-on", this.plugin.settings.underlineExternal);
    document.body.classList.toggle("full-width-media", this.plugin.settings.fullWidthMedia);
    document.body.classList.toggle("img-grid", this.plugin.settings.imgGrid);
    document.body.classList.toggle("oxygen-dev-block-width", this.plugin.settings.devBlockWidth);
    document.body.classList.toggle("oxygen-status-off", !this.plugin.settings.minimalStatus);
    document.body.classList.toggle("full-file-names", !this.plugin.settings.trimNames);
    document.body.classList.toggle("labeled-nav", this.plugin.settings.labeledNav);
    document.body.classList.toggle("oxygen-folding", this.plugin.settings.folding);
    document.body.classList.toggle("use-default-folder-icon", this.plugin.settings.useDefaultFolderIcon);
    document.body.addClass(
      this.plugin.settings.chartWidth,
      this.plugin.settings.tableWidth,
      this.plugin.settings.imgWidth,
      this.plugin.settings.iframeWidth,
      this.plugin.settings.mapWidth
    );
    const cssProps = {
      "--font-ui-small": `${this.plugin.settings.textSmall}px`,
      "--line-height": String(this.plugin.settings.lineHeight),
      "--line-width": `${this.plugin.settings.lineWidth}rem`,
      "--line-width-wide": `${this.plugin.settings.lineWidthWide}rem`,
      "--max-width": `${this.plugin.settings.maxWidth}%`,
      "--font-editor-override": this.plugin.settings.editorFont
    };
    const isDefaultWidth = this.plugin.settings.navIndentationGuideWidth === "0px";
    const isDefaultColor = this.plugin.settings.navIndentationGuideColor === "rgba(var(--mono-rgb-100), 0.12)";
    if (!isDefaultWidth) {
      cssProps["--nav-indentation-guide-width"] = this.plugin.settings.navIndentationGuideWidth;
    } else {
      document.body.style.removeProperty("--nav-indentation-guide-width");
    }
    if (!isDefaultColor) {
      cssProps["--nav-indentation-guide-color"] = this.plugin.settings.navIndentationGuideColor;
    } else {
      document.body.style.removeProperty("--nav-indentation-guide-color");
    }
    setCssProps(document.body, cssProps);
    document.body.classList.remove("animations-refined", "animations-default", "animations-playful", "animations-off");
    const animationPersonality = this.plugin.settings.animationPersonality || "default";
    if (animationPersonality === "off") {
      document.body.classList.add("animations-off");
      document.body.style.removeProperty("--anim-speed-modifier");
    } else if (animationPersonality === "playful") {
      document.body.classList.add("animations-playful");
      document.body.style.setProperty("--anim-speed-modifier", this.plugin.settings.animationSpeed.toString());
    } else {
      document.body.classList.add("animations-default");
      document.body.style.setProperty("--anim-speed-modifier", this.plugin.settings.animationSpeed.toString());
    }
    this.customPresetCSS.updateCSS();
  }
  /**
   * Update light mode style
   */
  updateLightStyle() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.removeStyle();
    document.body.removeClass("theme-dark");
    document.body.addClass("theme-light", this.plugin.settings.lightStyle);
    const theme = getVaultConfig(this.plugin.app, "theme");
    if (theme !== "system") {
      setTheme(this.plugin.app, "moonstone");
      setVaultConfig(this.plugin.app, "theme", "moonstone");
    }
    this.plugin.app.workspace.trigger("css-change");
  }
  /**
   * Update dark mode style
   */
  updateDarkStyle() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.removeStyle();
    document.body.removeClass("theme-light");
    document.body.addClass("theme-dark", this.plugin.settings.darkStyle);
    const theme = getVaultConfig(this.plugin.app, "theme");
    if (theme !== "system") {
      setTheme(this.plugin.app, "obsidian");
      setVaultConfig(this.plugin.app, "theme", "obsidian");
    }
    this.plugin.app.workspace.trigger("css-change");
  }
  /**
   * Update light color scheme
   */
  updateLightScheme() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.removeLightScheme();
    this.removeDarkScheme();
    if (!document.body.classList.contains("theme-light")) {
      document.body.removeClass("theme-dark");
      document.body.addClass("theme-light");
    }
    if (this.plugin.settings.lightScheme && this.plugin.settings.lightScheme.trim()) {
      document.body.addClass(this.plugin.settings.lightScheme);
    }
  }
  /**
   * Update dark color scheme
   */
  updateDarkScheme() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    this.removeDarkScheme();
    this.removeLightScheme();
    if (!document.body.classList.contains("theme-dark")) {
      document.body.removeClass("theme-light");
      document.body.addClass("theme-dark");
    }
    if (this.plugin.settings.darkScheme && this.plugin.settings.darkScheme.trim()) {
      document.body.addClass(this.plugin.settings.darkScheme);
    }
  }
  /**
   * Remove style classes
   */
  removeStyle() {
    document.body.removeClass(
      "oxygen-light",
      "oxygen-light-tonal",
      "oxygen-light-contrast",
      "oxygen-light-white",
      "oxygen-dark",
      "oxygen-dark-tonal",
      "oxygen-dark-black",
      // Legacy or mis-prefixed classes that might be sticking
      "minimal-light",
      "minimal-light-tonal",
      "minimal-light-contrast",
      "minimal-light-white",
      "minimal-dark",
      "minimal-dark-tonal",
      "minimal-dark-black"
    );
  }
  /**
   * Remove light scheme classes
   */
  removeLightScheme() {
    document.body.removeClass(...LIGHT_SCHEMES);
    this.plugin.settings.customPresets.forEach((preset) => {
      document.body.removeClass(`oxygen-custom-${preset.id}`);
    });
  }
  /**
   * Remove dark scheme classes
   */
  removeDarkScheme() {
    document.body.removeClass(...DARK_SCHEMES);
    this.plugin.settings.customPresets.forEach((preset) => {
      document.body.removeClass(`oxygen-custom-${preset.id}`);
    });
  }
  /**
   * Remove settings classes
   */
  removeSettings() {
    document.body.removeClass(
      "borders-none",
      "borders-on",
      "colorful-headings",
      "colorful-frame",
      "colorful-active",
      "links-int-on",
      "links-ext-on",
      "full-width-media",
      "img-grid",
      "oxygen-dev-block-width",
      "oxygen-status-off",
      "full-file-names",
      "labeled-nav",
      "oxygen-folding",
      "enable-blur",
      "use-default-folder-icon",
      "animations-refined",
      "animations-default",
      "animations-playful",
      "animations-off",
      "table-wide",
      "table-max",
      "table-100",
      "table-default-width",
      "iframe-wide",
      "iframe-max",
      "iframe-100",
      "iframe-default-width",
      "img-wide",
      "img-max",
      "img-100",
      "img-default-width",
      "chart-wide",
      "chart-max",
      "chart-100",
      "chart-default-width",
      "map-wide",
      "map-max",
      "map-100",
      "map-default-width"
    );
  }
  /**
   * Load CSS rules
   * Uses CSS custom properties on body instead of creating style elements
   */
  loadRules() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    document.body.classList.add(CSS_CLASSES.PLUGIN_THEME);
    this.updateStyle();
  }
  /**
   * Unload CSS rules
   */
  unloadRules() {
    document.body.style.removeProperty("--font-ui-small");
    document.body.style.removeProperty("--line-height");
    document.body.style.removeProperty("--line-width");
    document.body.style.removeProperty("--line-width-wide");
    document.body.style.removeProperty("--max-width");
    document.body.style.removeProperty("--font-editor-override");
    document.body.style.removeProperty("--nav-indentation-guide-width");
    document.body.style.removeProperty("--nav-indentation-guide-color");
    document.body.style.removeProperty("--anim-speed-modifier");
    document.body.classList.remove(CSS_CLASSES.PLUGIN_THEME);
  }
  /**
   * Setup CSS watcher for re-applying custom presets
   */
  setupCSSWatcher() {
  }
};

// src/managers/theme-manager.ts
var ThemeManagerImpl = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  /**
   * Toggle between light and dark themes
   */
  updateTheme() {
    const currentTheme = getVaultConfig(this.plugin.app, "theme");
    if (currentTheme === OBSIDIAN_THEMES.SYSTEM) {
      if (document.body.classList.contains("theme-light")) {
        document.body.removeClass("theme-light");
        document.body.addClass("theme-dark");
      } else {
        document.body.removeClass("theme-dark");
        document.body.addClass("theme-light");
      }
    } else {
      if (document.body.classList.contains("theme-light")) {
        document.body.removeClass("theme-light");
        document.body.addClass("theme-dark");
      } else {
        document.body.removeClass("theme-dark");
        document.body.addClass("theme-light");
      }
      const theme = getVaultConfig(this.plugin.app, "theme");
      const newTheme = theme === OBSIDIAN_THEMES.LIGHT ? OBSIDIAN_THEMES.DARK : OBSIDIAN_THEMES.LIGHT;
      setTheme(this.plugin.app, newTheme);
      setVaultConfig(this.plugin.app, "theme", newTheme);
    }
    this.plugin.app.workspace.trigger("css-change");
  }
  /**
   * Switch to light theme
   */
  switchToLight() {
    document.body.removeClass("theme-dark");
    document.body.addClass("theme-light");
    const theme = getVaultConfig(this.plugin.app, "theme");
    if (theme !== OBSIDIAN_THEMES.SYSTEM) {
      setTheme(this.plugin.app, OBSIDIAN_THEMES.LIGHT);
      setVaultConfig(this.plugin.app, "theme", OBSIDIAN_THEMES.LIGHT);
    }
    this.plugin.app.workspace.trigger("css-change");
  }
  /**
   * Switch to dark theme
   */
  switchToDark() {
    document.body.removeClass("theme-light");
    document.body.addClass("theme-dark");
    const theme = getVaultConfig(this.plugin.app, "theme");
    if (theme !== OBSIDIAN_THEMES.SYSTEM) {
      setTheme(this.plugin.app, OBSIDIAN_THEMES.DARK);
      setVaultConfig(this.plugin.app, "theme", OBSIDIAN_THEMES.DARK);
    }
    this.plugin.app.workspace.trigger("css-change");
  }
  /**
   * Get current theme mode
   */
  getCurrentMode() {
    return document.body.classList.contains("theme-light") ? "light" : "dark";
  }
  /**
   * Update sidebar theme for high contrast light mode
   */
  updateSidebarTheme() {
    if (!this.plugin.isOxygenThemeActive()) {
      return;
    }
    const sidebarEl = document.getElementsByClassName("mod-left-split")[0];
    const ribbonEl = document.getElementsByClassName("side-dock-ribbon")[0];
    if (sidebarEl && ribbonEl && document.body.classList.contains("theme-light") && this.plugin.settings.lightStyle === "oxygen-light-contrast") {
      sidebarEl.addClass("theme-dark");
      ribbonEl.addClass("theme-dark");
    } else if (sidebarEl && ribbonEl) {
      sidebarEl.removeClass("theme-dark");
      ribbonEl.removeClass("theme-dark");
    }
  }
  /**
   * Cleanup sidebar theme on unload
   */
  cleanupSidebarTheme() {
    const sidebarEl = document.getElementsByClassName("mod-left-split")[0];
    if (sidebarEl) {
      sidebarEl.removeClass("theme-dark");
    }
    const ribbonEl = document.getElementsByClassName("side-dock-ribbon")[0];
    if (ribbonEl) {
      ribbonEl.removeClass("theme-dark");
    }
  }
};

// src/managers/settings-sync.ts
var SettingsSyncManager = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  /**
   * Setup event watchers for vault config changes
   */
  setupWatchers() {
    this.plugin.registerEvent(
      onVaultConfigChanged(this.plugin.app, () => {
        this.syncFromVault();
      })
    );
    this.plugin.registerEvent(
      this.plugin.app.workspace.on("css-change", () => {
        this.updateSidebarTheme();
      })
    );
  }
  /**
   * Sync settings from Obsidian vault config
   * @param skipSave - If true, don't save settings (used during initial load)
   */
  syncFromVault(skipSave = false) {
    const fontSize = getVaultConfig(this.plugin.app, VAULT_CONFIG.BASE_FONT_SIZE);
    if (typeof fontSize === "number") {
      this.plugin.settings.textNormal = fontSize;
    }
    this.plugin.settings.folding = !!getVaultConfig(this.plugin.app, VAULT_CONFIG.FOLD_HEADING);
    this.plugin.settings.lineNumbers = !!getVaultConfig(this.plugin.app, VAULT_CONFIG.SHOW_LINE_NUMBER);
    this.plugin.settings.readableLineLength = !!getVaultConfig(this.plugin.app, VAULT_CONFIG.READABLE_LINE_LENGTH);
    const bodyClassList = document.body.classList;
    bodyClassList.toggle("oxygen-folding", this.plugin.settings.folding);
    bodyClassList.toggle("oxygen-line-nums", this.plugin.settings.lineNumbers);
    bodyClassList.toggle("oxygen-readable", this.plugin.settings.readableLineLength);
    bodyClassList.toggle("oxygen-readable-off", !this.plugin.settings.readableLineLength);
    if (!skipSave) {
      void this.plugin.saveData(this.plugin.settings);
    }
  }
  /**
   * Sync font size to Obsidian vault config
   */
  setFontSize() {
    setVaultConfig(this.plugin.app, VAULT_CONFIG.BASE_FONT_SIZE, this.plugin.settings.textNormal);
    updateFontSize(this.plugin.app);
  }
  /**
   * Update sidebar theme for high contrast mode
   */
  updateSidebarTheme() {
    const sidebarEl = document.getElementsByClassName("mod-left-split")[0];
    const ribbonEl = document.getElementsByClassName("side-dock-ribbon")[0];
    if (sidebarEl && ribbonEl && document.body.classList.contains("theme-light") && this.plugin.settings.lightStyle === "oxygen-light-contrast") {
      sidebarEl.addClass("theme-dark");
      ribbonEl.addClass("theme-dark");
    } else if (sidebarEl && ribbonEl) {
      sidebarEl.removeClass("theme-dark");
      ribbonEl.removeClass("theme-dark");
    }
  }
  /**
   * Cleanup - no specific cleanup needed for this manager
   */
  cleanup() {
  }
};

// src/commands/font-commands.ts
function registerFontCommands(plugin) {
  plugin.addCommand({
    id: COMMAND_IDS.INCREASE_FONT,
    name: "Increase body font size",
    callback: () => {
      plugin.settings.textNormal += DEFAULTS.FONT_STEP;
      void plugin.saveData(plugin.settings);
      setFontSize(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.DECREASE_FONT,
    name: "Decrease body font size",
    callback: () => {
      plugin.settings.textNormal -= DEFAULTS.FONT_STEP;
      void plugin.saveData(plugin.settings);
      setFontSize(plugin);
    }
  });
}
function setFontSize(plugin) {
  setVaultConfig(plugin.app, "baseFontSize", plugin.settings.textNormal);
  updateFontSize(plugin.app);
}

// src/commands/scheme-commands.ts
function registerSchemeCommands(plugin) {
  LIGHT_SCHEMES.forEach((scheme) => {
    const schemeName = SCHEME_DISPLAY_NAMES[scheme] || scheme;
    plugin.addCommand({
      id: `toggle-${scheme}`,
      name: `Switch light color scheme to ${schemeName} (light)`,
      callback: () => {
        plugin.settings.lightScheme = scheme;
        void plugin.saveData(plugin.settings);
        updateLightScheme(plugin);
        updateLightStyle(plugin);
      }
    });
  });
  DARK_SCHEMES.forEach((scheme) => {
    const schemeName = SCHEME_DISPLAY_NAMES[scheme] || scheme;
    plugin.addCommand({
      id: `toggle-${scheme}`,
      name: `Switch dark color scheme to ${schemeName} (dark)`,
      callback: () => {
        plugin.settings.darkScheme = scheme;
        void plugin.saveData(plugin.settings);
        updateDarkScheme(plugin);
        updateDarkStyle(plugin);
      }
    });
  });
}
function updateLightScheme(plugin) {
  removeLightScheme(plugin);
  removeDarkScheme(plugin);
  if (!document.body.classList.contains("theme-light")) {
    document.body.removeClass("theme-dark");
    document.body.addClass("theme-light");
  }
  document.body.addClass(plugin.settings.lightScheme);
}
function updateDarkScheme(plugin) {
  removeDarkScheme(plugin);
  removeLightScheme(plugin);
  if (!document.body.classList.contains("theme-dark")) {
    document.body.removeClass("theme-light");
    document.body.addClass("theme-dark");
  }
  document.body.addClass(plugin.settings.darkScheme);
}
function updateLightStyle(plugin) {
  if (!plugin.isOxygenThemeActive()) {
    return;
  }
  document.body.removeClass(
    "theme-dark",
    "oxygen-light",
    "oxygen-light-tonal",
    "oxygen-light-contrast",
    "oxygen-light-white"
  );
  document.body.addClass("theme-light", plugin.settings.lightStyle);
  const theme = getVaultConfig(plugin.app, "theme");
  if (theme !== "system") {
    setTheme(plugin.app, "moonstone");
    setVaultConfig(plugin.app, "theme", "moonstone");
  }
  plugin.app.workspace.trigger("css-change");
}
function updateDarkStyle(plugin) {
  if (!plugin.isOxygenThemeActive()) {
    return;
  }
  document.body.removeClass(
    "theme-light",
    "oxygen-dark",
    "oxygen-dark-tonal",
    "oxygen-dark-black"
  );
  document.body.addClass("theme-dark", plugin.settings.darkStyle);
  const theme = getVaultConfig(plugin.app, "theme");
  if (theme !== "system") {
    setTheme(plugin.app, "obsidian");
    setVaultConfig(plugin.app, "theme", "obsidian");
  }
  plugin.app.workspace.trigger("css-change");
}
function removeLightScheme(plugin) {
  document.body.removeClass(...LIGHT_SCHEMES);
  plugin.settings.customPresets.forEach((preset) => {
    document.body.removeClass(`minimal-custom-${preset.id}`);
  });
}
function removeDarkScheme(plugin) {
  document.body.removeClass(...DARK_SCHEMES);
  plugin.settings.customPresets.forEach((preset) => {
    document.body.removeClass(`minimal-custom-${preset.id}`);
  });
}

// src/commands/style-commands.ts
function registerStyleCommands(plugin) {
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_DARK_STYLE,
    name: "Cycle between dark mode styles",
    callback: () => {
      const currentIndex = DARK_STYLES.indexOf(plugin.settings.darkStyle);
      const nextIndex = (currentIndex + 1) % DARK_STYLES.length;
      plugin.settings.darkStyle = DARK_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      updateDarkStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_LIGHT_STYLE,
    name: "Cycle between light mode styles",
    callback: () => {
      const currentIndex = LIGHT_STYLES.indexOf(plugin.settings.lightStyle);
      const nextIndex = (currentIndex + 1) % LIGHT_STYLES.length;
      plugin.settings.lightStyle = LIGHT_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      updateLightStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.LIGHT_DEFAULT,
    name: "Use light mode (default)",
    callback: () => {
      plugin.settings.lightStyle = "oxygen-light";
      plugin.settings.lightScheme = "oxygen-oxygen-light";
      void plugin.saveData(plugin.settings);
      updateLightScheme(plugin);
      updateLightStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.LIGHT_WHITE,
    name: "Use light mode (all white)",
    callback: () => {
      plugin.settings.lightStyle = "oxygen-light-white";
      void plugin.saveData(plugin.settings);
      updateLightStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.LIGHT_TONAL,
    name: "Use light mode (low contrast)",
    callback: () => {
      plugin.settings.lightStyle = "oxygen-light-tonal";
      void plugin.saveData(plugin.settings);
      updateLightStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.LIGHT_CONTRAST,
    name: "Use light mode (high contrast)",
    callback: () => {
      plugin.settings.lightStyle = "oxygen-light-contrast";
      void plugin.saveData(plugin.settings);
      updateLightStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.DARK_DEFAULT,
    name: "Use dark mode (default)",
    callback: () => {
      plugin.settings.darkStyle = "oxygen-dark";
      plugin.settings.darkScheme = "oxygen-oxygen-dark";
      void plugin.saveData(plugin.settings);
      updateDarkScheme(plugin);
      updateDarkStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.DARK_TONAL,
    name: "Use dark mode (low contrast)",
    callback: () => {
      plugin.settings.darkStyle = "oxygen-dark-tonal";
      void plugin.saveData(plugin.settings);
      updateDarkStyle2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.DARK_BLACK,
    name: "Use dark mode (true black)",
    callback: () => {
      plugin.settings.darkStyle = "oxygen-dark-black";
      void plugin.saveData(plugin.settings);
      updateDarkStyle2(plugin);
    }
  });
}
function updateLightStyle2(plugin) {
  if (!plugin.isOxygenThemeActive()) {
    return;
  }
  document.body.removeClass(
    "theme-dark",
    "oxygen-light",
    "oxygen-light-tonal",
    "oxygen-light-contrast",
    "oxygen-light-white"
  );
  document.body.addClass("theme-light", plugin.settings.lightStyle);
  const theme = getVaultConfig(plugin.app, "theme");
  if (theme !== "system") {
    setTheme(plugin.app, "moonstone");
    setVaultConfig(plugin.app, "theme", "moonstone");
  }
  plugin.app.workspace.trigger("css-change");
}
function updateDarkStyle2(plugin) {
  if (!plugin.isOxygenThemeActive()) {
    return;
  }
  document.body.removeClass(
    "theme-light",
    "oxygen-dark",
    "oxygen-dark-tonal",
    "oxygen-dark-black"
  );
  document.body.addClass("theme-dark", plugin.settings.darkStyle);
  const theme = getVaultConfig(plugin.app, "theme");
  if (theme !== "system") {
    setTheme(plugin.app, "obsidian");
    setVaultConfig(plugin.app, "theme", "obsidian");
  }
  plugin.app.workspace.trigger("css-change");
}

// src/commands/preset-commands.ts
function registerPresetCommands(plugin) {
  plugin.addCommand({
    id: COMMAND_IDS.CREATE_PRESET,
    name: "Create custom color preset",
    callback: () => {
      const modal = new PresetEditorModal(plugin.app, plugin, null, (preset) => {
        plugin.settings.customPresets.push(preset);
        void plugin.saveData(plugin.settings);
      });
      modal.open();
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.IMPORT_PRESET,
    name: "Import custom color preset",
    callback: () => {
      const modal = new PresetImportModal(plugin.app, plugin, (preset) => {
        plugin.settings.customPresets.push(preset);
        void plugin.saveData(plugin.settings);
      });
      modal.open();
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_PRESETS_LIGHT,
    name: "Cycle through custom presets (light mode)",
    callback: () => {
      if (plugin.settings.customPresets.length === 0) return;
      const currentIndex = plugin.settings.customPresets.findIndex(
        (p) => plugin.settings.lightScheme === `oxygen-custom-${p.id}`
      );
      const nextIndex = (currentIndex + 1) % plugin.settings.customPresets.length;
      const nextPreset = plugin.settings.customPresets[nextIndex];
      plugin.settings.lightScheme = `oxygen-custom-${nextPreset.id}`;
      void plugin.saveData(plugin.settings);
      updateLightScheme2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_PRESETS_DARK,
    name: "Cycle through custom presets (dark mode)",
    callback: () => {
      if (plugin.settings.customPresets.length === 0) return;
      const currentIndex = plugin.settings.customPresets.findIndex(
        (p) => plugin.settings.darkScheme === `oxygen-custom-${p.id}`
      );
      const nextIndex = (currentIndex + 1) % plugin.settings.customPresets.length;
      const nextPreset = plugin.settings.customPresets[nextIndex];
      plugin.settings.darkScheme = `oxygen-custom-${nextPreset.id}`;
      void plugin.saveData(plugin.settings);
      updateDarkScheme2(plugin);
    }
  });
}
function updateLightScheme2(plugin) {
  plugin.updateLightScheme();
}
function updateDarkScheme2(plugin) {
  plugin.updateDarkScheme();
}

// src/commands/feature-commands.ts
function registerFeatureCommands(plugin) {
  plugin.addCommand({
    id: COMMAND_IDS.TOGGLE_BORDERS,
    name: "Toggle sidebar borders",
    callback: () => {
      const current = plugin.settings.workspaceBorders;
      if (current === "enhanced") {
        plugin.settings.workspaceBorders = "default";
      } else if (current === "default") {
        plugin.settings.workspaceBorders = "none";
      } else {
        plugin.settings.workspaceBorders = "enhanced";
      }
      void plugin.saveData(plugin.settings);
      refresh(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.TOGGLE_COLORFUL_HEADINGS,
    name: "Toggle colorful headings",
    callback: () => {
      plugin.settings.colorfulHeadings = !plugin.settings.colorfulHeadings;
      void plugin.saveData(plugin.settings);
      refresh(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.TOGGLE_COLORFUL_FRAME,
    name: "Toggle colorful window frame",
    callback: () => {
      plugin.settings.colorfulFrame = !plugin.settings.colorfulFrame;
      void plugin.saveData(plugin.settings);
      refresh(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.TOGGLE_IMAGE_GRID,
    name: "Toggle image grids",
    callback: () => {
      plugin.settings.imgGrid = !plugin.settings.imgGrid;
      void plugin.saveData(plugin.settings);
      refresh(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.TOGGLE_THEME,
    name: "Switch between light and dark mode",
    callback: () => {
      updateTheme(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.DEV_BLOCK_WIDTH,
    name: "Dev \u2014 show block widths",
    callback: () => {
      plugin.settings.devBlockWidth = !plugin.settings.devBlockWidth;
      void plugin.saveData(plugin.settings);
      refresh(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.OPEN_SETTINGS,
    name: "Open settings",
    icon: "settings-2",
    callback: () => {
      const appWithSettings = plugin.app;
      appWithSettings.setting.open();
      appWithSettings.setting.openTabById(plugin.manifest.id);
    }
  });
}
function refresh(plugin) {
  plugin.updateStyle();
}
function updateTheme(plugin) {
  if (!plugin.isOxygenThemeActive()) {
    return;
  }
  const theme = getVaultConfig(plugin.app, "theme");
  if (theme === "system") {
    if (document.body.classList.contains("theme-light")) {
      document.body.removeClass("theme-light");
      document.body.addClass("theme-dark");
    } else {
      document.body.removeClass("theme-dark");
      document.body.addClass("theme-light");
    }
  } else {
    if (document.body.classList.contains("theme-light")) {
      document.body.removeClass("theme-light");
      document.body.addClass("theme-dark");
    } else {
      document.body.removeClass("theme-dark");
      document.body.addClass("theme-light");
    }
    const currentTheme = getVaultConfig(plugin.app, "theme");
    const newTheme = currentTheme === "moonstone" ? "obsidian" : "moonstone";
    setTheme(plugin.app, newTheme);
    setVaultConfig(plugin.app, "theme", newTheme);
  }
  plugin.app.workspace.trigger("css-change");
}

// src/commands/width-commands.ts
function registerWidthCommands(plugin) {
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_TABLE_WIDTH,
    name: "Cycle between table width options",
    callback: () => {
      const currentIndex = TABLE_WIDTH_STYLES.indexOf(plugin.settings.tableWidth);
      const nextIndex = (currentIndex + 1) % TABLE_WIDTH_STYLES.length;
      plugin.settings.tableWidth = TABLE_WIDTH_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      refresh2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_IMAGE_WIDTH,
    name: "Cycle between image width options",
    callback: () => {
      const currentIndex = IMAGE_WIDTH_STYLES.indexOf(plugin.settings.imgWidth);
      const nextIndex = (currentIndex + 1) % IMAGE_WIDTH_STYLES.length;
      plugin.settings.imgWidth = IMAGE_WIDTH_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      refresh2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_IFRAME_WIDTH,
    name: "Cycle between iframe width options",
    callback: () => {
      const currentIndex = IFRAME_WIDTH_STYLES.indexOf(plugin.settings.iframeWidth);
      const nextIndex = (currentIndex + 1) % IFRAME_WIDTH_STYLES.length;
      plugin.settings.iframeWidth = IFRAME_WIDTH_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      refresh2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_CHART_WIDTH,
    name: "Cycle between chart width options",
    callback: () => {
      const currentIndex = CHART_WIDTH_STYLES.indexOf(plugin.settings.chartWidth);
      const nextIndex = (currentIndex + 1) % CHART_WIDTH_STYLES.length;
      plugin.settings.chartWidth = CHART_WIDTH_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      refresh2(plugin);
    }
  });
  plugin.addCommand({
    id: COMMAND_IDS.CYCLE_MAP_WIDTH,
    name: "Cycle between map width options",
    callback: () => {
      const currentIndex = MAP_WIDTH_STYLES.indexOf(plugin.settings.mapWidth);
      const nextIndex = (currentIndex + 1) % MAP_WIDTH_STYLES.length;
      plugin.settings.mapWidth = MAP_WIDTH_STYLES[nextIndex];
      void plugin.saveData(plugin.settings);
      refresh2(plugin);
    }
  });
}
function refresh2(plugin) {
  plugin.updateStyle();
}

// src/commands/index.ts
function registerAllCommands(plugin) {
  registerFontCommands(plugin);
  registerStyleCommands(plugin);
  registerSchemeCommands(plugin);
  registerPresetCommands(plugin);
  registerFeatureCommands(plugin);
  registerWidthCommands(plugin);
}

// src/main.ts
var MinimalTheme = class extends import_obsidian8.Plugin {
  constructor() {
    super(...arguments);
    // Cache theme state to avoid repeated vault config calls (performance optimization)
    this._isOxygenActive = false;
    this._isInitialized = false;
  }
  async onload() {
    await this.loadSettings();
    this.styleManager = new StyleManagerImpl(this);
    this.themeManager = new ThemeManagerImpl(this);
    this.settingsSyncManager = new SettingsSyncManager(this);
    this.settingsTab = new MinimalSettingsTab(this.app, this);
    this.addSettingTab(this.settingsTab);
    this._isOxygenActive = this.checkOxygenTheme();
    const initialThemeMode = document.body.classList.contains("theme-light") ? "light" : "dark";
    if (this._isOxygenActive) {
      this.styleManager.initialize();
      this._isInitialized = true;
    }
    this.settingsSyncManager.setupWatchers();
    this.settingsSyncManager.syncFromVault(true);
    this.app.workspace.onLayoutReady(() => {
      if (this._isOxygenActive) {
        this.themeManager.updateSidebarTheme();
      }
    });
    registerAllCommands(this);
    let debounceTimer;
    let lastThemeMode = initialThemeMode;
    this.registerEvent(
      this.app.workspace.on("css-change", () => {
        window.clearTimeout(debounceTimer);
        debounceTimer = window.setTimeout(() => {
          const newThemeState = this.checkOxygenTheme();
          const currentThemeMode = document.body.classList.contains("theme-light") ? "light" : "dark";
          const themeModeChanged = lastThemeMode !== null && lastThemeMode !== currentThemeMode;
          lastThemeMode = currentThemeMode;
          if (this._isOxygenActive && !newThemeState) {
            this._isOxygenActive = false;
            this._isInitialized = false;
            this.styleManager.cleanup();
          } else if (!this._isOxygenActive && newThemeState && !this._isInitialized) {
            this._isOxygenActive = true;
            this._isInitialized = true;
            this.styleManager.initialize();
          } else if (this._isOxygenActive && newThemeState && this._isInitialized && themeModeChanged) {
            this.styleManager.updateStyle();
          }
        }, 100);
      })
    );
  }
  onunload() {
    this.themeManager.cleanupSidebarTheme();
    this.styleManager.cleanup();
    this.settingsSyncManager.cleanup();
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, loadedData);
    const migrationVersion = "minimal-to-oxygen-prefix-v1";
    const migrationVersions = loadedData && typeof loadedData === "object" && "_migrationVersions" in loadedData ? loadedData._migrationVersions : void 0;
    if (!loadedData || !migrationVersions || !migrationVersions.includes(migrationVersion)) {
      let migrated = false;
      if (this.settings.lightStyle && this.settings.lightStyle.startsWith("minimal-")) {
        this.settings.lightStyle = this.settings.lightStyle.replace(/^minimal-/, "oxygen-");
        migrated = true;
      }
      if (this.settings.darkStyle && this.settings.darkStyle.startsWith("minimal-")) {
        this.settings.darkStyle = this.settings.darkStyle.replace(/^minimal-/, "oxygen-");
        migrated = true;
      }
      if (this.settings.lightScheme && this.settings.lightScheme.startsWith("minimal-")) {
        this.settings.lightScheme = this.settings.lightScheme.replace(/^minimal-/, "oxygen-");
        migrated = true;
      }
      if (this.settings.darkScheme && this.settings.darkScheme.startsWith("minimal-")) {
        this.settings.darkScheme = this.settings.darkScheme.replace(/^minimal-/, "oxygen-");
        migrated = true;
      }
      if (migrated) {
        if (!this.settings._migrationVersions) {
          this.settings._migrationVersions = [];
        }
        this.settings._migrationVersions.push(migrationVersion);
        await this.saveData(this.settings);
        console.debug("[Oxygen Settings] Migrated settings from minimal- to oxygen- prefix");
      }
    }
    if (this.settings.lightScheme === "minimal-default-light") {
      this.settings.lightScheme = "oxygen-minimal-light";
    }
    if (this.settings.darkScheme === "minimal-default-dark") {
      this.settings.darkScheme = "oxygen-minimal-dark";
    }
    if (loadedData && typeof loadedData === "object") {
      const legacyData = loadedData;
      if (legacyData.bordersToggle !== void 0 || legacyData.workspaceBordersEnhanced !== void 0) {
        if (legacyData.workspaceBorders === void 0) {
          if (legacyData.bordersToggle === false) {
            this.settings.workspaceBorders = "none";
          } else if (legacyData.workspaceBordersEnhanced === true) {
            this.settings.workspaceBorders = "enhanced";
          } else {
            this.settings.workspaceBorders = "default";
          }
          await this.saveData(this.settings);
        }
      }
    }
    if (!this.settings.customPresets) {
      this.settings.customPresets = [];
    }
    if (this.settings.enableCustomPresets === void 0) {
      this.settings.enableCustomPresets = true;
    }
    if (loadedData && typeof loadedData === "object" && "animationPersonality" in loadedData) {
      const legacyData = loadedData;
      if (legacyData.animationPersonality === "refined") {
        this.settings.animationPersonality = "default";
        await this.saveData(this.settings);
      }
    }
    if (!this.settings.animationPersonality) {
      this.settings.animationPersonality = "default";
    }
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  // Convenience methods that delegate to managers
  refresh() {
    this.styleManager.refresh();
  }
  updateStyle() {
    this.styleManager.updateStyle();
  }
  updateLightStyle() {
    this.styleManager.updateLightStyle();
  }
  updateDarkStyle() {
    this.styleManager.updateDarkStyle();
  }
  updateLightScheme() {
    this.styleManager.updateLightScheme();
  }
  updateDarkScheme() {
    this.styleManager.updateDarkScheme();
  }
  updateCustomPresetCSS() {
    this.styleManager.updateCustomPresetCSS();
  }
  setFontSize() {
    this.settingsSyncManager.setFontSize();
  }
  /**
   * Check if the Oxygen theme is currently active (uses cached value for performance)
   * @returns true if Oxygen theme is active, false otherwise
   */
  isOxygenThemeActive() {
    return this._isOxygenActive;
  }
  /**
   * Check theme state from vault config (called only when needed)
   * @private
   */
  checkOxygenTheme() {
    const cssTheme = getVaultConfig(this.app, "cssTheme");
    return cssTheme === OXYGEN_THEME_NAME;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzL3NldHRpbmdzLWludGVyZmFjZS50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL3V0aWxzL3NldHRpbmdzLWNvbXBhdC50cyIsICJzcmMvc2V0dGluZ3Mvc2VjdGlvbnMvQ29sb3JTY2hlbWVTZXR0aW5ncy50cyIsICJzcmMvc2V0dGluZ3Mvc2VjdGlvbnMvRmVhdHVyZVNldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy9zZWN0aW9ucy9MYXlvdXRTZXR0aW5ncy50cyIsICJzcmMvc2V0dGluZ3Mvc2VjdGlvbnMvVHlwb2dyYXBoeVNldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy9zZWN0aW9ucy9DdXN0b21QcmVzZXRTZXR0aW5ncy50cyIsICJzcmMvdXRpbHMvY3NzLXByb3BzLnRzIiwgInNyYy91dGlscy9jb2xvci11dGlscy50cyIsICJzcmMvcHJlc2V0cy9QcmVzZXRNYW5hZ2VyLnRzIiwgInNyYy9tb2RhbHMvUHJlc2V0RWRpdG9yTW9kYWwudHMiLCAic3JjL3V0aWxzL3ByZXNldC1jb2xvci1kZWZhdWx0cy50cyIsICJzcmMvbW9kYWxzL2NvbXBvbmVudHMvUHJlc2V0Q29sb3JDb250cm9scy50cyIsICJzcmMvbW9kYWxzL1ByZXNldEltcG9ydE1vZGFsLnRzIiwgInNyYy9tb2RhbHMvQ29uZmlybWF0aW9uTW9kYWwudHMiLCAic3JjL3NldHRpbmdzL3NlY3Rpb25zL0FuaW1hdGlvblNldHRpbmdzLnRzIiwgInNyYy9wcmVzZXRzL3ByZXNldC1jc3MtZ2VuZXJhdG9yLnRzIiwgInNyYy9tYW5hZ2Vycy9jdXN0b20tcHJlc2V0LWNzcy50cyIsICJzcmMvY29uc3RhbnRzLnRzIiwgInNyYy90eXBlcy9vYnNpZGlhbi1leHRlbnNpb25zLnRzIiwgInNyYy9tYW5hZ2Vycy9zdHlsZS1tYW5hZ2VyLnRzIiwgInNyYy9tYW5hZ2Vycy90aGVtZS1tYW5hZ2VyLnRzIiwgInNyYy9tYW5hZ2Vycy9zZXR0aW5ncy1zeW5jLnRzIiwgInNyYy9jb21tYW5kcy9mb250LWNvbW1hbmRzLnRzIiwgInNyYy9jb21tYW5kcy9zY2hlbWUtY29tbWFuZHMudHMiLCAic3JjL2NvbW1hbmRzL3N0eWxlLWNvbW1hbmRzLnRzIiwgInNyYy9jb21tYW5kcy9wcmVzZXQtY29tbWFuZHMudHMiLCAic3JjL2NvbW1hbmRzL2ZlYXR1cmUtY29tbWFuZHMudHMiLCAic3JjL2NvbW1hbmRzL3dpZHRoLWNvbW1hbmRzLnRzIiwgInNyYy9jb21tYW5kcy9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXHJcbiAqIE1pbmltYWwgVGhlbWUgUGx1Z2luIC0gUmVmYWN0b3JlZFxyXG4gKiBNYWluIHBsdWdpbiBmaWxlIC0gbGlmZWN5Y2xlIG1hbmFnZW1lbnQgb25seVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgTWluaW1hbFNldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncy1pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBNaW5pbWFsU2V0dGluZ3NUYWIgfSBmcm9tICcuL3NldHRpbmdzJztcclxuaW1wb3J0IHsgU3R5bGVNYW5hZ2VySW1wbCB9IGZyb20gJy4vbWFuYWdlcnMvc3R5bGUtbWFuYWdlcic7XHJcbmltcG9ydCB7IFRoZW1lTWFuYWdlckltcGwgfSBmcm9tICcuL21hbmFnZXJzL3RoZW1lLW1hbmFnZXInO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1N5bmNNYW5hZ2VyIH0gZnJvbSAnLi9tYW5hZ2Vycy9zZXR0aW5ncy1zeW5jJztcclxuaW1wb3J0IHsgcmVnaXN0ZXJBbGxDb21tYW5kcyB9IGZyb20gJy4vY29tbWFuZHMnO1xyXG5pbXBvcnQgeyBPWFlHRU5fVEhFTUVfTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgZ2V0VmF1bHRDb25maWcgfSBmcm9tICcuL3R5cGVzL29ic2lkaWFuLWV4dGVuc2lvbnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWluaW1hbFRoZW1lIGV4dGVuZHMgUGx1Z2luIHtcclxuICBzZXR0aW5nczogTWluaW1hbFNldHRpbmdzO1xyXG4gIFxyXG4gIC8vIE1hbmFnZXJzXHJcbiAgc3R5bGVNYW5hZ2VyOiBTdHlsZU1hbmFnZXJJbXBsO1xyXG4gIHRoZW1lTWFuYWdlcjogVGhlbWVNYW5hZ2VySW1wbDtcclxuICBzZXR0aW5nc1N5bmNNYW5hZ2VyOiBTZXR0aW5nc1N5bmNNYW5hZ2VyO1xyXG4gIHNldHRpbmdzVGFiPzogTWluaW1hbFNldHRpbmdzVGFiO1xyXG4gIFxyXG4gIC8vIENhY2hlIHRoZW1lIHN0YXRlIHRvIGF2b2lkIHJlcGVhdGVkIHZhdWx0IGNvbmZpZyBjYWxscyAocGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uKVxyXG4gIHByaXZhdGUgX2lzT3h5Z2VuQWN0aXZlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIG1hbmFnZXJzXHJcbiAgICB0aGlzLnN0eWxlTWFuYWdlciA9IG5ldyBTdHlsZU1hbmFnZXJJbXBsKHRoaXMpO1xyXG4gICAgdGhpcy50aGVtZU1hbmFnZXIgPSBuZXcgVGhlbWVNYW5hZ2VySW1wbCh0aGlzKTtcclxuICAgIHRoaXMuc2V0dGluZ3NTeW5jTWFuYWdlciA9IG5ldyBTZXR0aW5nc1N5bmNNYW5hZ2VyKHRoaXMpO1xyXG4gICAgXHJcbiAgICAvLyBTZXR1cCBVSVxyXG4gICAgdGhpcy5zZXR0aW5nc1RhYiA9IG5ldyBNaW5pbWFsU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpO1xyXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKHRoaXMuc2V0dGluZ3NUYWIpO1xyXG4gICAgXHJcbiAgICAvLyBDYWNoZSB0aGVtZSBzdGF0ZSBvbmNlIGF0IHN0YXJ0dXAgZm9yIHBlcmZvcm1hbmNlXHJcbiAgICB0aGlzLl9pc094eWdlbkFjdGl2ZSA9IHRoaXMuY2hlY2tPeHlnZW5UaGVtZSgpO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsaXplIGxhc3QgdGhlbWUgbW9kZSBmb3IgY2hhbmdlIGRldGVjdGlvblxyXG4gICAgY29uc3QgaW5pdGlhbFRoZW1lTW9kZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGVtZS1saWdodCcpID8gJ2xpZ2h0JyA6ICdkYXJrJztcclxuICAgIFxyXG4gICAgLy8gT25seSBpbml0aWFsaXplIHN0eWxlcyBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlXHJcbiAgICAvLyBOb3RlOiBpbml0aWFsaXplKCkgY2FsbHMgdXBkYXRlU3R5bGUoKSB3aGljaCBhbHNvIHVwZGF0ZXMgY3VzdG9tIHByZXNldCBDU1NcclxuICAgIGlmICh0aGlzLl9pc094eWdlbkFjdGl2ZSkge1xyXG4gICAgICB0aGlzLnN0eWxlTWFuYWdlci5pbml0aWFsaXplKCk7XHJcbiAgICAgIHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnNldHRpbmdzU3luY01hbmFnZXIuc2V0dXBXYXRjaGVycygpO1xyXG4gICAgXHJcbiAgICAvLyBJbml0aWFsIHN5bmMgZnJvbSB2YXVsdCAod2l0aG91dCBzYXZpbmcpXHJcbiAgICB0aGlzLnNldHRpbmdzU3luY01hbmFnZXIuc3luY0Zyb21WYXVsdCh0cnVlKTtcclxuICAgIFxyXG4gICAgLy8gU2V0dXAgc2lkZWJhciB0aGVtZSB1cGRhdGUgb24gbGF5b3V0IHJlYWR5XHJcbiAgICB0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLl9pc094eWdlbkFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMudGhlbWVNYW5hZ2VyLnVwZGF0ZVNpZGViYXJUaGVtZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZWdpc3RlciBhbGwgY29tbWFuZHNcclxuICAgIHJlZ2lzdGVyQWxsQ29tbWFuZHModGhpcyk7XHJcbiAgICBcclxuICAgIC8vIFdhdGNoIGZvciB0aGVtZSBjaGFuZ2VzIHdpdGggZGVib3VuY2luZyBmb3IgcGVyZm9ybWFuY2VcclxuICAgIC8vIGNzcy1jaGFuZ2UgZmlyZXMgdmVyeSBmcmVxdWVudGx5LCBzbyB3ZSBkZWJvdW5jZSBhbmQgY2FjaGUgdGhlIHRoZW1lIHN0YXRlXHJcbiAgICBsZXQgZGVib3VuY2VUaW1lcjogbnVtYmVyO1xyXG4gICAgbGV0IGxhc3RUaGVtZU1vZGU6IHN0cmluZyA9IGluaXRpYWxUaGVtZU1vZGU7XHJcbiAgICBcclxuICAgIHRoaXMucmVnaXN0ZXJFdmVudChcclxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdjc3MtY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIERlYm91bmNlIHRvIGF2b2lkIGV4Y2Vzc2l2ZSBjaGVja3MgKHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbilcclxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGRlYm91bmNlVGltZXIpO1xyXG4gICAgICAgIGRlYm91bmNlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXdUaGVtZVN0YXRlID0gdGhpcy5jaGVja094eWdlblRoZW1lKCk7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50VGhlbWVNb2RlID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWxpZ2h0JykgPyAnbGlnaHQnIDogJ2RhcmsnO1xyXG4gICAgICAgICAgY29uc3QgdGhlbWVNb2RlQ2hhbmdlZCA9IGxhc3RUaGVtZU1vZGUgIT09IG51bGwgJiYgbGFzdFRoZW1lTW9kZSAhPT0gY3VycmVudFRoZW1lTW9kZTtcclxuICAgICAgICAgIGxhc3RUaGVtZU1vZGUgPSBjdXJyZW50VGhlbWVNb2RlO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBPbmx5IGFjdCB3aGVuIHRoZW1lIGFjdHVhbGx5IGNoYW5nZXMgKG5vdCBmcm9tIG91ciBvd24gQ1NTIHVwZGF0ZXMpXHJcbiAgICAgICAgICBpZiAodGhpcy5faXNPeHlnZW5BY3RpdmUgJiYgIW5ld1RoZW1lU3RhdGUpIHtcclxuICAgICAgICAgICAgLy8gU3dpdGNoZWQgYXdheSBmcm9tIE94eWdlbiAtIGNsZWFudXBcclxuICAgICAgICAgICAgdGhpcy5faXNPeHlnZW5BY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlTWFuYWdlci5jbGVhbnVwKCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc094eWdlbkFjdGl2ZSAmJiBuZXdUaGVtZVN0YXRlICYmICF0aGlzLl9pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIFN3aXRjaGVkIHRvIE94eWdlbiBhbmQgbm90IHlldCBpbml0aWFsaXplZCAtIGluaXRpYWxpemVcclxuICAgICAgICAgICAgdGhpcy5faXNPeHlnZW5BY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZU1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pc094eWdlbkFjdGl2ZSAmJiBuZXdUaGVtZVN0YXRlICYmIHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgdGhlbWVNb2RlQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAvLyBTdGlsbCBvbiBPeHlnZW4sIGJ1dCB0aGVtZSBtb2RlIChsaWdodC9kYXJrKSBjaGFuZ2VkIC0gcmVmcmVzaCBzdHlsZXNcclxuICAgICAgICAgICAgdGhpcy5zdHlsZU1hbmFnZXIudXBkYXRlU3R5bGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDApOyAvLyAxMDBtcyBkZWJvdW5jZVxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9udW5sb2FkKCkge1xyXG4gICAgLy8gQ2xlYW51cCBtYW5hZ2Vyc1xyXG4gICAgdGhpcy50aGVtZU1hbmFnZXIuY2xlYW51cFNpZGViYXJUaGVtZSgpO1xyXG4gICAgdGhpcy5zdHlsZU1hbmFnZXIuY2xlYW51cCgpO1xyXG4gICAgdGhpcy5zZXR0aW5nc1N5bmNNYW5hZ2VyLmNsZWFudXAoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIGNvbnN0IGxvYWRlZERhdGEgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCkgYXMgUGFydGlhbDxNaW5pbWFsU2V0dGluZ3M+IHwgbnVsbDtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBsb2FkZWREYXRhKTtcclxuICAgIFxyXG4gICAgLy8gTWlncmF0aW9uIGZvciBtaW5pbWFsLSB0byBveHlnZW4tIHByZWZpeCAocnVuIG9uY2UgcGVyIHVzZXIpXHJcbiAgICBjb25zdCBtaWdyYXRpb25WZXJzaW9uID0gJ21pbmltYWwtdG8tb3h5Z2VuLXByZWZpeC12MSc7XHJcbiAgICBjb25zdCBtaWdyYXRpb25WZXJzaW9ucyA9IGxvYWRlZERhdGEgJiYgdHlwZW9mIGxvYWRlZERhdGEgPT09ICdvYmplY3QnICYmICdfbWlncmF0aW9uVmVyc2lvbnMnIGluIGxvYWRlZERhdGEgXHJcbiAgICAgID8gKGxvYWRlZERhdGEgYXMgeyBfbWlncmF0aW9uVmVyc2lvbnM/OiBzdHJpbmdbXSB9KS5fbWlncmF0aW9uVmVyc2lvbnMgXHJcbiAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgaWYgKCFsb2FkZWREYXRhIHx8ICFtaWdyYXRpb25WZXJzaW9ucyB8fCAhbWlncmF0aW9uVmVyc2lvbnMuaW5jbHVkZXMobWlncmF0aW9uVmVyc2lvbikpIHtcclxuICAgICAgbGV0IG1pZ3JhdGVkID0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNaWdyYXRlIHN0eWxlIHNldHRpbmdzXHJcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxpZ2h0U3R5bGUgJiYgdGhpcy5zZXR0aW5ncy5saWdodFN0eWxlLnN0YXJ0c1dpdGgoJ21pbmltYWwtJykpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLmxpZ2h0U3R5bGUgPSB0aGlzLnNldHRpbmdzLmxpZ2h0U3R5bGUucmVwbGFjZSgvXm1pbmltYWwtLywgJ294eWdlbi0nKTtcclxuICAgICAgICBtaWdyYXRlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGFya1N0eWxlICYmIHRoaXMuc2V0dGluZ3MuZGFya1N0eWxlLnN0YXJ0c1dpdGgoJ21pbmltYWwtJykpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLmRhcmtTdHlsZSA9IHRoaXMuc2V0dGluZ3MuZGFya1N0eWxlLnJlcGxhY2UoL15taW5pbWFsLS8sICdveHlnZW4tJyk7XHJcbiAgICAgICAgbWlncmF0ZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBNaWdyYXRlIGNvbG9yIHNjaGVtZSBzZXR0aW5nc1xyXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5saWdodFNjaGVtZSAmJiB0aGlzLnNldHRpbmdzLmxpZ2h0U2NoZW1lLnN0YXJ0c1dpdGgoJ21pbmltYWwtJykpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzLmxpZ2h0U2NoZW1lID0gdGhpcy5zZXR0aW5ncy5saWdodFNjaGVtZS5yZXBsYWNlKC9ebWluaW1hbC0vLCAnb3h5Z2VuLScpO1xyXG4gICAgICAgIG1pZ3JhdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5kYXJrU2NoZW1lICYmIHRoaXMuc2V0dGluZ3MuZGFya1NjaGVtZS5zdGFydHNXaXRoKCdtaW5pbWFsLScpKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kYXJrU2NoZW1lID0gdGhpcy5zZXR0aW5ncy5kYXJrU2NoZW1lLnJlcGxhY2UoL15taW5pbWFsLS8sICdveHlnZW4tJyk7XHJcbiAgICAgICAgbWlncmF0ZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBNYXJrIG1pZ3JhdGlvbiBhcyBjb21wbGV0ZVxyXG4gICAgICBpZiAobWlncmF0ZWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuX21pZ3JhdGlvblZlcnNpb25zKSB7XHJcbiAgICAgICAgICB0aGlzLnNldHRpbmdzLl9taWdyYXRpb25WZXJzaW9ucyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldHRpbmdzLl9taWdyYXRpb25WZXJzaW9ucy5wdXNoKG1pZ3JhdGlvblZlcnNpb24pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnW094eWdlbiBTZXR0aW5nc10gTWlncmF0ZWQgc2V0dGluZ3MgZnJvbSBtaW5pbWFsLSB0byBveHlnZW4tIHByZWZpeCcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1pZ3JhdGlvbiBmb3IgcmVuYW1lZCBkZWZhdWx0IHNjaGVtZXNcclxuICAgIGlmICh0aGlzLnNldHRpbmdzLmxpZ2h0U2NoZW1lID09PSAnbWluaW1hbC1kZWZhdWx0LWxpZ2h0Jykge1xyXG4gICAgICB0aGlzLnNldHRpbmdzLmxpZ2h0U2NoZW1lID0gJ294eWdlbi1taW5pbWFsLWxpZ2h0JztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNldHRpbmdzLmRhcmtTY2hlbWUgPT09ICdtaW5pbWFsLWRlZmF1bHQtZGFyaycpIHtcclxuICAgICAgdGhpcy5zZXR0aW5ncy5kYXJrU2NoZW1lID0gJ294eWdlbi1taW5pbWFsLWRhcmsnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNaWdyYXRpb24gZm9yIHdvcmtzcGFjZSBib3JkZXJzOiBjb252ZXJ0IG9sZCBib3JkZXJzVG9nZ2xlICsgd29ya3NwYWNlQm9yZGVyc0VuaGFuY2VkIHRvIG5ldyB3b3Jrc3BhY2VCb3JkZXJzIGRyb3Bkb3duXHJcbiAgICAvLyBPbmx5IG1pZ3JhdGUgaWYgd29ya3NwYWNlQm9yZGVycyBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldCBieSB0aGUgdXNlciB5ZXRcclxuICAgIGlmIChsb2FkZWREYXRhICYmIHR5cGVvZiBsb2FkZWREYXRhID09PSAnb2JqZWN0Jykge1xyXG4gICAgICBjb25zdCBsZWdhY3lEYXRhID0gbG9hZGVkRGF0YSBhcyB7IGJvcmRlcnNUb2dnbGU/OiBib29sZWFuOyB3b3Jrc3BhY2VCb3JkZXJzRW5oYW5jZWQ/OiBib29sZWFuOyB3b3Jrc3BhY2VCb3JkZXJzPzogc3RyaW5nIH07XHJcbiAgICAgIGlmIChsZWdhY3lEYXRhLmJvcmRlcnNUb2dnbGUgIT09IHVuZGVmaW5lZCB8fCBsZWdhY3lEYXRhLndvcmtzcGFjZUJvcmRlcnNFbmhhbmNlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKGxlZ2FjeURhdGEud29ya3NwYWNlQm9yZGVycyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAvLyBPbmx5IG1pZ3JhdGUgaWYgd29ya3NwYWNlQm9yZGVycyBoYXNuJ3QgYmVlbiBzZXQgeWV0IChub3QgaW4gc2F2ZWQgZGF0YSlcclxuICAgICAgICAgIGlmIChsZWdhY3lEYXRhLmJvcmRlcnNUb2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mud29ya3NwYWNlQm9yZGVycyA9ICdub25lJztcclxuICAgICAgICAgIH0gZWxzZSBpZiAobGVnYWN5RGF0YS53b3Jrc3BhY2VCb3JkZXJzRW5oYW5jZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy53b3Jrc3BhY2VCb3JkZXJzID0gJ2VuaGFuY2VkJztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Mud29ya3NwYWNlQm9yZGVycyA9ICdkZWZhdWx0JztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFNhdmUgbWlncmF0ZWQgc2V0dGluZ3NcclxuICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEVuc3VyZSBjdXN0b20gcHJlc2V0cyBhcnJheSBleGlzdHMgKGZvciBleGlzdGluZyB1c2VycylcclxuICAgIGlmICghdGhpcy5zZXR0aW5ncy5jdXN0b21QcmVzZXRzKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3MuY3VzdG9tUHJlc2V0cyA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlQ3VzdG9tUHJlc2V0cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3MuZW5hYmxlQ3VzdG9tUHJlc2V0cyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1pZ3JhdGlvbiBmb3IgYW5pbWF0aW9uIHBlcnNvbmFsaXR5OiBjb252ZXJ0ICdyZWZpbmVkJyB0byAnZGVmYXVsdCdcclxuICAgIGlmIChsb2FkZWREYXRhICYmIHR5cGVvZiBsb2FkZWREYXRhID09PSAnb2JqZWN0JyAmJiAnYW5pbWF0aW9uUGVyc29uYWxpdHknIGluIGxvYWRlZERhdGEpIHtcclxuICAgICAgY29uc3QgbGVnYWN5RGF0YSA9IGxvYWRlZERhdGEgYXMgeyBhbmltYXRpb25QZXJzb25hbGl0eT86IHN0cmluZyB9O1xyXG4gICAgICBpZiAobGVnYWN5RGF0YS5hbmltYXRpb25QZXJzb25hbGl0eSA9PT0gJ3JlZmluZWQnKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hbmltYXRpb25QZXJzb25hbGl0eSA9ICdkZWZhdWx0JztcclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBFbnN1cmUgYW5pbWF0aW9uUGVyc29uYWxpdHkgaXMgc2V0IChkZWZhdWx0IHRvICdkZWZhdWx0JyBpZiBtaXNzaW5nKVxyXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLmFuaW1hdGlvblBlcnNvbmFsaXR5KSB7XHJcbiAgICAgIHRoaXMuc2V0dGluZ3MuYW5pbWF0aW9uUGVyc29uYWxpdHkgPSAnZGVmYXVsdCc7XHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcblxyXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgfVxyXG5cclxuICAvLyBDb252ZW5pZW5jZSBtZXRob2RzIHRoYXQgZGVsZWdhdGUgdG8gbWFuYWdlcnNcclxuICByZWZyZXNoKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zdHlsZU1hbmFnZXIucmVmcmVzaCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3R5bGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnN0eWxlTWFuYWdlci51cGRhdGVTdHlsZSgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlnaHRTdHlsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc3R5bGVNYW5hZ2VyLnVwZGF0ZUxpZ2h0U3R5bGUoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURhcmtTdHlsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc3R5bGVNYW5hZ2VyLnVwZGF0ZURhcmtTdHlsZSgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlnaHRTY2hlbWUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnN0eWxlTWFuYWdlci51cGRhdGVMaWdodFNjaGVtZSgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRGFya1NjaGVtZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuc3R5bGVNYW5hZ2VyLnVwZGF0ZURhcmtTY2hlbWUoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUN1c3RvbVByZXNldENTUygpOiB2b2lkIHtcclxuICAgIHRoaXMuc3R5bGVNYW5hZ2VyLnVwZGF0ZUN1c3RvbVByZXNldENTUygpO1xyXG4gIH1cclxuXHJcbiAgc2V0Rm9udFNpemUoKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldHRpbmdzU3luY01hbmFnZXIuc2V0Rm9udFNpemUoKTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIE94eWdlbiB0aGVtZSBpcyBjdXJyZW50bHkgYWN0aXZlICh1c2VzIGNhY2hlZCB2YWx1ZSBmb3IgcGVyZm9ybWFuY2UpXHJcbiAgICogQHJldHVybnMgdHJ1ZSBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2VcclxuICAgKi9cclxuICBpc094eWdlblRoZW1lQWN0aXZlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzT3h5Z2VuQWN0aXZlO1xyXG4gIH1cclxuICBcclxuICAvKipcclxuICAgKiBDaGVjayB0aGVtZSBzdGF0ZSBmcm9tIHZhdWx0IGNvbmZpZyAoY2FsbGVkIG9ubHkgd2hlbiBuZWVkZWQpXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBwcml2YXRlIGNoZWNrT3h5Z2VuVGhlbWUoKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBjc3NUaGVtZSA9IGdldFZhdWx0Q29uZmlnKHRoaXMuYXBwLCAnY3NzVGhlbWUnKTtcclxuICAgIHJldHVybiBjc3NUaGVtZSA9PT0gT1hZR0VOX1RIRU1FX05BTUU7XHJcbiAgfVxyXG59XHJcblxyXG4iLCAiLyoqXHJcbiAqIFNldHRpbmdzIGludGVyZmFjZSBhbmQgZGVmYXVsdHNcclxuICovXHJcblxyXG5pbXBvcnQgeyBDdXN0b21Db2xvclByZXNldCB9IGZyb20gJy4uL3ByZXNldHMvQ3VzdG9tUHJlc2V0JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWluaW1hbFNldHRpbmdzIHtcclxuICBsaWdodFN0eWxlOiBzdHJpbmc7XHJcbiAgZGFya1N0eWxlOiBzdHJpbmc7XHJcbiAgbGlnaHRTY2hlbWU6IHN0cmluZztcclxuICBkYXJrU2NoZW1lOiBzdHJpbmc7XHJcbiAgZWRpdG9yRm9udDogc3RyaW5nO1xyXG4gIGNvbG9yZnVsSGVhZGluZ3M6IGJvb2xlYW47XHJcbiAgY29sb3JmdWxGcmFtZTogYm9vbGVhbjtcclxuICBjb2xvcmZ1bEFjdGl2ZVN0YXRlczogYm9vbGVhbjtcclxuICB0cmltTmFtZXM6IGJvb2xlYW47XHJcbiAgbGFiZWxlZE5hdjogYm9vbGVhbjtcclxuICB3b3Jrc3BhY2VCb3JkZXJzOiBzdHJpbmc7ICAvLyAnZW5oYW5jZWQnIHwgJ2RlZmF1bHQnIHwgJ25vbmUnXHJcbiAgbGluZUhlaWdodDogbnVtYmVyO1xyXG4gIGxpbmVXaWR0aDogbnVtYmVyO1xyXG4gIGxpbmVXaWR0aFdpZGU6IG51bWJlcjtcclxuICBtYXhXaWR0aDogbnVtYmVyO1xyXG4gIGltZ0dyaWQ6IGJvb2xlYW47XHJcbiAgZGV2QmxvY2tXaWR0aDogYm9vbGVhbjtcclxuICB0YWJsZVdpZHRoOiBzdHJpbmc7XHJcbiAgaWZyYW1lV2lkdGg6IHN0cmluZztcclxuICBpbWdXaWR0aDogc3RyaW5nO1xyXG4gIGNoYXJ0V2lkdGg6IHN0cmluZztcclxuICBtYXBXaWR0aDogc3RyaW5nO1xyXG4gIGZ1bGxXaWR0aE1lZGlhOiBib29sZWFuO1xyXG4gIG1pbmltYWxTdGF0dXM6IGJvb2xlYW47XHJcbiAgdGV4dE5vcm1hbDogbnVtYmVyO1xyXG4gIHRleHRTbWFsbDogbnVtYmVyO1xyXG4gIHVuZGVybGluZUludGVybmFsOiBib29sZWFuO1xyXG4gIHVuZGVybGluZUV4dGVybmFsOiBib29sZWFuO1xyXG4gIGZvbGRpbmc6IGJvb2xlYW47XHJcbiAgbGluZU51bWJlcnM6IGJvb2xlYW47XHJcbiAgcmVhZGFibGVMaW5lTGVuZ3RoOiBib29sZWFuO1xyXG4gIGN1c3RvbVByZXNldHM6IEN1c3RvbUNvbG9yUHJlc2V0W107XHJcbiAgZW5hYmxlQ3VzdG9tUHJlc2V0czogYm9vbGVhbjtcclxuICAvLyBTaWRlYmFyIGluZGVudGF0aW9uIGd1aWRlc1xyXG4gIG5hdkluZGVudGF0aW9uR3VpZGVXaWR0aDogc3RyaW5nOyAgLy8gJzBweCcgfCAnMXB4JyB8ICcycHgnIHwgJzNweCdcclxuICBuYXZJbmRlbnRhdGlvbkd1aWRlQ29sb3I6IHN0cmluZzsgICAvLyAndmFyKC0tdWkxKScgfCAndmFyKC0tdGV4dC1mYWludCknIHwgJ3ZhcigtLXRleHQtYWNjZW50KSdcclxuICAvLyBBbmltYXRpb24gc2V0dGluZ3NcclxuICBhbmltYXRpb25QZXJzb25hbGl0eTogJ2RlZmF1bHQnIHwgJ3BsYXlmdWwnIHwgJ29mZic7XHJcbiAgYW5pbWF0aW9uU3BlZWQ6IG51bWJlcjsgLy8gMC0yLCBkZWZhdWx0IDFcclxuICAvLyBCbHVyIGJhY2tncm91bmRcclxuICBlbmFibGVCbHVyOiBib29sZWFuO1xyXG4gIC8vIEZvbGRlciBpY29uXHJcbiAgdXNlRGVmYXVsdEZvbGRlckljb246IGJvb2xlYW47XHJcbiAgLy8gTWlncmF0aW9uIHRyYWNraW5nIChpbnRlcm5hbCB1c2UpXHJcbiAgX21pZ3JhdGlvblZlcnNpb25zPzogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNaW5pbWFsU2V0dGluZ3MgPSB7XHJcbiAgbGlnaHRTdHlsZTogJ294eWdlbi1saWdodCcsXHJcbiAgZGFya1N0eWxlOiAnb3h5Z2VuLWRhcmsnLFxyXG4gIGxpZ2h0U2NoZW1lOiAnb3h5Z2VuLW94eWdlbi1saWdodCcsXHJcbiAgZGFya1NjaGVtZTogJ294eWdlbi1veHlnZW4tZGFyaycsXHJcbiAgZWRpdG9yRm9udDogJycsXHJcbiAgbGluZUhlaWdodDogMS41LFxyXG4gIGxpbmVXaWR0aDogNDAsXHJcbiAgbGluZVdpZHRoV2lkZTogNTAsXHJcbiAgbWF4V2lkdGg6IDg4LFxyXG4gIHRleHROb3JtYWw6IDE2LFxyXG4gIHRleHRTbWFsbDogMTMsXHJcbiAgaW1nR3JpZDogZmFsc2UsXHJcbiAgaW1nV2lkdGg6ICdpbWctZGVmYXVsdC13aWR0aCcsXHJcbiAgdGFibGVXaWR0aDogJ3RhYmxlLWRlZmF1bHQtd2lkdGgnLFxyXG4gIGlmcmFtZVdpZHRoOiAnaWZyYW1lLWRlZmF1bHQtd2lkdGgnLFxyXG4gIG1hcFdpZHRoOiAnbWFwLWRlZmF1bHQtd2lkdGgnLFxyXG4gIGNoYXJ0V2lkdGg6ICdjaGFydC1kZWZhdWx0LXdpZHRoJyxcclxuICBjb2xvcmZ1bEhlYWRpbmdzOiBmYWxzZSxcclxuICBjb2xvcmZ1bEZyYW1lOiBmYWxzZSxcclxuICBjb2xvcmZ1bEFjdGl2ZVN0YXRlczogZmFsc2UsXHJcbiAgdHJpbU5hbWVzOiB0cnVlLFxyXG4gIGxhYmVsZWROYXY6IGZhbHNlLFxyXG4gIGZ1bGxXaWR0aE1lZGlhOiB0cnVlLFxyXG4gIHdvcmtzcGFjZUJvcmRlcnM6ICdlbmhhbmNlZCcsXHJcbiAgbWluaW1hbFN0YXR1czogdHJ1ZSxcclxuICB1bmRlcmxpbmVJbnRlcm5hbDogdHJ1ZSxcclxuICB1bmRlcmxpbmVFeHRlcm5hbDogdHJ1ZSxcclxuICBmb2xkaW5nOiB0cnVlLFxyXG4gIGxpbmVOdW1iZXJzOiBmYWxzZSxcclxuICByZWFkYWJsZUxpbmVMZW5ndGg6IGZhbHNlLFxyXG4gIGRldkJsb2NrV2lkdGg6IGZhbHNlLFxyXG4gIGN1c3RvbVByZXNldHM6IFtdLFxyXG4gIGVuYWJsZUN1c3RvbVByZXNldHM6IHRydWUsXHJcbiAgLy8gU2lkZWJhciBpbmRlbnRhdGlvbiBndWlkZXNcclxuICBuYXZJbmRlbnRhdGlvbkd1aWRlV2lkdGg6ICcwcHgnLFxyXG4gIG5hdkluZGVudGF0aW9uR3VpZGVDb2xvcjogJ3JnYmEodmFyKC0tbW9uby1yZ2ItMTAwKSwgMC4xMiknLFxyXG4gIC8vIEFuaW1hdGlvbiBzZXR0aW5nc1xyXG4gIGFuaW1hdGlvblBlcnNvbmFsaXR5OiAnZGVmYXVsdCcsXHJcbiAgYW5pbWF0aW9uU3BlZWQ6IDEsXHJcbiAgLy8gQmx1ciBiYWNrZ3JvdW5kXHJcbiAgZW5hYmxlQmx1cjogZmFsc2UsXHJcbiAgLy8gRm9sZGVyIGljb25cclxuICB1c2VEZWZhdWx0Rm9sZGVySWNvbjogZmFsc2UsXHJcbn07XHJcblxyXG4iLCAiLyoqXHJcbiAqIFNldHRpbmdzIFRhYiAtIFJlZmFjdG9yZWRcclxuICogQ29vcmRpbmF0ZXMgYWxsIHNldHRpbmdzIHNlY3Rpb25zXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUGx1Z2luU2V0dGluZ1RhYiwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgTWluaW1hbFRoZW1lIGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgYnVpbGRDb2xvclNjaGVtZVNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncy9zZWN0aW9ucy9Db2xvclNjaGVtZVNldHRpbmdzJztcclxuaW1wb3J0IHsgYnVpbGRGZWF0dXJlU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzL3NlY3Rpb25zL0ZlYXR1cmVTZXR0aW5ncyc7XHJcbmltcG9ydCB7IGJ1aWxkTGF5b3V0U2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzL3NlY3Rpb25zL0xheW91dFNldHRpbmdzJztcclxuaW1wb3J0IHsgYnVpbGRUeXBvZ3JhcGh5U2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzL3NlY3Rpb25zL1R5cG9ncmFwaHlTZXR0aW5ncyc7XHJcbmltcG9ydCB7IGJ1aWxkQ3VzdG9tUHJlc2V0U2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzL3NlY3Rpb25zL0N1c3RvbVByZXNldFNldHRpbmdzJztcclxuaW1wb3J0IHsgYnVpbGRBbmltYXRpb25TZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3Mvc2VjdGlvbnMvQW5pbWF0aW9uU2V0dGluZ3MnO1xyXG5cclxuLy8gUmUtZXhwb3J0IGZyb20gc2V0dGluZ3MtaW50ZXJmYWNlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XHJcbmV4cG9ydCB0eXBlIHsgTWluaW1hbFNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncy1pbnRlcmZhY2UnO1xyXG5leHBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncy1pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1pbmltYWxTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHBsdWdpbjogTWluaW1hbFRoZW1lO1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1pbmltYWxUaGVtZSkge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgY29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgIC8vIEJ1aWxkIGFsbCBzZXR0aW5ncyBzZWN0aW9uc1xyXG4gICAgYnVpbGRDb2xvclNjaGVtZVNldHRpbmdzKGNvbnRhaW5lckVsLCB0aGlzLnBsdWdpbik7XHJcbiAgICBidWlsZEN1c3RvbVByZXNldFNldHRpbmdzKGNvbnRhaW5lckVsLCB0aGlzLnBsdWdpbiwgdGhpcy5hcHAsICgpID0+IHRoaXMuZGlzcGxheSgpKTtcclxuICAgIGJ1aWxkRmVhdHVyZVNldHRpbmdzKGNvbnRhaW5lckVsLCB0aGlzLnBsdWdpbik7XHJcbiAgICBidWlsZEFuaW1hdGlvblNldHRpbmdzKGNvbnRhaW5lckVsLCB0aGlzLnBsdWdpbik7XHJcbiAgICBidWlsZExheW91dFNldHRpbmdzKGNvbnRhaW5lckVsLCB0aGlzLnBsdWdpbik7XHJcbiAgICBidWlsZFR5cG9ncmFwaHlTZXR0aW5ncyhjb250YWluZXJFbCwgdGhpcy5wbHVnaW4pO1xyXG4gIH1cclxufVxyXG5cclxuIiwgIi8qKlxyXG4gKiBDb21wYXRpYmlsaXR5IHV0aWxpdGllcyBmb3Igc2V0dGluZ3NcclxuICogUHJvdmlkZXMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgU2V0dGluZ0dyb3VwIChyZXF1aXJlcyBBUEkgMS4xMS4wKylcclxuICovXHJcblxyXG5pbXBvcnQgeyBTZXR0aW5nLCBTZXR0aW5nR3JvdXAsIHJlcXVpcmVBcGlWZXJzaW9uIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSB0aGF0IHdvcmtzIHdpdGggYm90aCBTZXR0aW5nR3JvdXAgYW5kIGZhbGxiYWNrIGNvbnRhaW5lclxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc0NvbnRhaW5lciB7XHJcbiAgYWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNldHRpbmdzIGNvbnRhaW5lciB0aGF0IHVzZXMgU2V0dGluZ0dyb3VwIGlmIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspLFxyXG4gKiBvdGhlcndpc2UgZmFsbHMgYmFjayB0byBjcmVhdGluZyBhIGhlYWRpbmcgYW5kIHVzaW5nIHRoZSBjb250YWluZXIgZGlyZWN0bHkuXHJcbiAqIFxyXG4gKiBVc2VzIHJlcXVpcmVBcGlWZXJzaW9uKCcxLjExLjAnKSB0byBjaGVjayBpZiBTZXR0aW5nR3JvdXAgaXMgYXZhaWxhYmxlLlxyXG4gKiBUaGlzIGlzIHRoZSBvZmZpY2lhbCBPYnNpZGlhbiBBUEkgbWV0aG9kIGZvciB2ZXJzaW9uIGNoZWNraW5nLlxyXG4gKiBcclxuICogQHBhcmFtIGNvbnRhaW5lckVsIC0gVGhlIGNvbnRhaW5lciBlbGVtZW50IGZvciBzZXR0aW5nc1xyXG4gKiBAcGFyYW0gaGVhZGluZyAtIFRoZSBoZWFkaW5nIHRleHQgZm9yIHRoZSBzZXR0aW5ncyBncm91cFxyXG4gKiBAcGFyYW0gbWFuaWZlc3RJZCAtIFRoZSBwbHVnaW4ncyBtYW5pZmVzdCBJRCBmb3IgQ1NTIHNjb3BpbmcgKHJlcXVpcmVkIGZvciBmYWxsYmFjayBtb2RlKVxyXG4gKiBAcmV0dXJucyBBIGNvbnRhaW5lciB0aGF0IGNhbiBiZSB1c2VkIHRvIGFkZCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNldHRpbmdzR3JvdXAoXHJcbiAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxyXG4gIGhlYWRpbmc6IHN0cmluZyxcclxuICBtYW5pZmVzdElkPzogc3RyaW5nXHJcbik6IFNldHRpbmdzQ29udGFpbmVyIHtcclxuICAvLyBDaGVjayBpZiBTZXR0aW5nR3JvdXAgaXMgYXZhaWxhYmxlIChBUEkgMS4xMS4wKylcclxuICAvLyByZXF1aXJlQXBpVmVyc2lvbiBpcyB0aGUgb2ZmaWNpYWwgT2JzaWRpYW4gQVBJIG1ldGhvZCBmb3IgdmVyc2lvbiBjaGVja2luZ1xyXG4gIGlmIChyZXF1aXJlQXBpVmVyc2lvbignMS4xMS4wJykpIHtcclxuICAgIC8vIFVzZSBTZXR0aW5nR3JvdXAgLSBpdCdzIGd1YXJhbnRlZWQgdG8gZXhpc3QgaWYgcmVxdWlyZUFwaVZlcnNpb24gcmV0dXJucyB0cnVlXHJcbiAgICBjb25zdCBncm91cCA9IG5ldyBTZXR0aW5nR3JvdXAoY29udGFpbmVyRWwpLnNldEhlYWRpbmcoaGVhZGluZyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIGdyb3VwLmFkZFNldHRpbmcoY2IpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBGYWxsYmFjayBwYXRoIChlaXRoZXIgQVBJIDwgMS4xMS4wIG9yIFNldHRpbmdHcm91cCBub3QgZm91bmQpXHJcbiAgICAvLyBBZGQgc2NvcGluZyBjbGFzcyB0byBjb250YWluZXJFbCB0byBzY29wZSBDU1MgdG8gb25seSB0aGlzIHBsdWdpbidzIHNldHRpbmdzXHJcbiAgICBpZiAobWFuaWZlc3RJZCkge1xyXG4gICAgICBjb250YWluZXJFbC5hZGRDbGFzcyhgJHttYW5pZmVzdElkfS1zZXR0aW5ncy1jb21wYXRgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmFsbGJhY2s6IENyZWF0ZSBhIGhlYWRpbmcgbWFudWFsbHkgYW5kIHVzZSBjb250YWluZXIgZGlyZWN0bHlcclxuICAgIGNvbnN0IGhlYWRpbmdFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignc2V0dGluZy1ncm91cC1oZWFkaW5nJyk7XHJcbiAgICBoZWFkaW5nRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiBoZWFkaW5nIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbCk7XHJcbiAgICAgICAgY2Ioc2V0dGluZyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4iLCAiLyoqXHJcbiAqIENvbG9yIHNjaGVtZSBzZXR0aW5ncyBzZWN0aW9uXHJcbiAqIExpZ2h0L2RhcmsgbW9kZSBjb2xvciBzY2hlbWVzIGFuZCBiYWNrZ3JvdW5kIGNvbnRyYXN0XHJcbiAqL1xyXG5cclxuaW1wb3J0IE1pbmltYWxUaGVtZSBmcm9tICcuLi8uLi9tYWluJztcclxuaW1wb3J0IHsgY3JlYXRlU2V0dGluZ3NHcm91cCB9IGZyb20gJy4uLy4uL3V0aWxzL3NldHRpbmdzLWNvbXBhdCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDb2xvclNjaGVtZVNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBNaW5pbWFsVGhlbWUpOiB2b2lkIHtcclxuICBjb25zdCBjb2xvckdyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXJFbCwgJ0NvbG9yIHNjaGVtZScsICdveHlnZW4tc2V0dGluZ3MnKTtcclxuXHJcbiAgLy8gTGlnaHQgbW9kZSBjb2xvciBzY2hlbWVcclxuICBjb2xvckdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0xpZ2h0IG1vZGUgY29sb3Igc2NoZW1lJylcclxuICAgICAgLy8gRmFsc2UgcG9zaXRpdmU6IFwiU3R5bGUgU2V0dGluZ3NcIiBhbmQgXCJEb2N1bWVudGF0aW9uXCIgYXJlIHByb3BlciBub3Vuc1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcbiAgICAgIC5zZXREZXNjKCdQcmVzZXQgY29sb3Igb3B0aW9ucyBmb3IgbGlnaHQgbW9kZS4gVG8gY3JlYXRlIGEgY3VzdG9tIGNvbG9yIHNjaGVtZSB1c2UgdGhlIFN0eWxlIFNldHRpbmdzIHBsdWdpbi4gU2VlIERvY3VtZW50YXRpb24gZm9yIGRldGFpbHMuJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAvLyBCdWlsdC1pbiBzY2hlbWVzXHJcbiAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLW94eWdlbi1saWdodCcsJ094eWdlbicpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLW1pbmltYWwtbGlnaHQnLCdNaW5pbWFsJylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tYXRvbS1saWdodCcsJ0F0b20nKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1heXUtbGlnaHQnLCdBeXUnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1jYXRwcHVjY2luLWxpZ2h0JywnQ2F0cHB1Y2NpbicpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLWVpbmstbGlnaHQnLCdFLWluayAoYmV0YSknKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1ldmVyZm9yZXN0LWxpZ2h0JywnRXZlcmZvcmVzdCcpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLWZsZXhva2ktbGlnaHQnLCdGbGV4b2tpJylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tZ3J1dmJveC1saWdodCcsJ0dydXZib3gnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1tYWNvcy1saWdodCcsJ21hY09TJylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tbm9yZC1saWdodCcsJ05vcmQnKVxyXG4gICAgICAgIC8vIEZhbHNlIHBvc2l0aXZlOiBcIlJvc1x1MDBFOSBQaW5lXCIgYW5kIFwiU2t5XCIgYXJlIHByb3BlciBub3VucyAoY29sb3Igc2NoZW1lIG5hbWVzKVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tcm9zZS1waW5lLWxpZ2h0JywnUm9zXHUwMEU5IFBpbmUnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1ub3Rpb24tbGlnaHQnLCdTa3knKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1zb2xhcml6ZWQtbGlnaHQnLCdTb2xhcml6ZWQnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi10aGluZ3MtbGlnaHQnLCdUaGluZ3MnKTtcclxuXHJcbiAgICAgIC8vIEFkZCBjdXN0b20gcHJlc2V0cyBpZiBlbmFibGVkIGFuZCBhbnkgZXhpc3RcclxuICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5lbmFibGVDdXN0b21QcmVzZXRzICYmIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0c1xyXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXHJcbiAgICAgICAgICAuZm9yRWFjaChwcmVzZXQgPT4ge1xyXG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oYG94eWdlbi1jdXN0b20tJHtwcmVzZXQuaWR9YCwgcHJlc2V0Lm5hbWUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgLy8gUmVnZW5lcmF0ZSBhbGwgQ1NTIGluY2x1ZGluZyBjdXN0b20gcHJlc2V0c1xyXG4gICAgICAgICAgICBwbHVnaW4udXBkYXRlU3R5bGUoKTtcclxuICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZUN1c3RvbVByZXNldENTUygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBMaWdodCBtb2RlIGJhY2tncm91bmQgY29udHJhc3RcclxuICBjb2xvckdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0xpZ2h0IG1vZGUgYmFja2dyb3VuZCBjb250cmFzdCcpXHJcbiAgICAgIC5zZXREZXNjKCdMZXZlbCBvZiBjb250cmFzdCBiZXR3ZWVuIHNpZGViYXIgYW5kIG1haW4gY29udGVudC4nKVxyXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1saWdodCcsICdEZWZhdWx0JylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1saWdodC13aGl0ZScsICdBbGwgd2hpdGUnKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLWxpZ2h0LXRvbmFsJywgJ0xvdyBjb250cmFzdCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tbGlnaHQtY29udHJhc3QnLCAnSGlnaCBjb250cmFzdCcpXHJcbiAgICAgICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmxpZ2h0U3R5bGUpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAvLyBSZWZyZXNoIGFsbCBzdHlsZXMgdG8gYXBwbHkgdGhlIG5ldyBjb250cmFzdCBjbGFzcyBhbmQgaGFuZGxlIHN0aWNraW5nXHJcbiAgICAgICAgICAgIHBsdWdpbi51cGRhdGVTdHlsZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBEYXJrIG1vZGUgY29sb3Igc2NoZW1lXHJcbiAgY29sb3JHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdEYXJrIG1vZGUgY29sb3Igc2NoZW1lJylcclxuICAgICAgLnNldERlc2MoJ1ByZXNldCBjb2xvcnMgb3B0aW9ucyBmb3IgZGFyayBtb2RlLicpXHJcbiAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgLy8gQnVpbHQtaW4gc2NoZW1lc1xyXG4gICAgICBkcm9wZG93blxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1veHlnZW4tZGFyaycsJ094eWdlbicpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLW1pbmltYWwtZGFyaycsJ01pbmltYWwnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1hdG9tLWRhcmsnLCdBdG9tJylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tYXl1LWRhcmsnLCdBeXUnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1jYXRwcHVjY2luLWRhcmsnLCdDYXRwcHVjY2luJylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tZHJhY3VsYS1kYXJrJywnRHJhY3VsYScpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLWVpbmstZGFyaycsJ0UtaW5rIChiZXRhKScpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLWV2ZXJmb3Jlc3QtZGFyaycsJ0V2ZXJmb3Jlc3QnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1mbGV4b2tpLWRhcmsnLCdGbGV4b2tpJylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tZ3J1dmJveC1kYXJrJywnR3J1dmJveCcpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLW1hY29zLWRhcmsnLCdtYWNPUycpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLW5vcmQtZGFyaycsJ05vcmQnKVxyXG4gICAgICAgIC8vIEZhbHNlIHBvc2l0aXZlOiBcIlJvc1x1MDBFOSBQaW5lXCIgYW5kIFwiU2t5XCIgYXJlIHByb3BlciBub3VucyAoY29sb3Igc2NoZW1lIG5hbWVzKVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBvYnNpZGlhbm1kL3VpL3NlbnRlbmNlLWNhc2VcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tcm9zZS1waW5lLWRhcmsnLCdSb3NcdTAwRTkgUGluZScpXHJcbiAgICAgICAgLmFkZE9wdGlvbignb3h5Z2VuLW5vdGlvbi1kYXJrJywnU2t5JylcclxuICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tc29sYXJpemVkLWRhcmsnLCdTb2xhcml6ZWQnKVxyXG4gICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi10aGluZ3MtZGFyaycsJ1RoaW5ncycpO1xyXG5cclxuICAgICAgLy8gQWRkIGN1c3RvbSBwcmVzZXRzIGlmIGVuYWJsZWQgYW5kIGFueSBleGlzdFxyXG4gICAgICBpZiAocGx1Z2luLnNldHRpbmdzLmVuYWJsZUN1c3RvbVByZXNldHMgJiYgcGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzXHJcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcclxuICAgICAgICAgIC5mb3JFYWNoKHByZXNldCA9PiB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbihgb3h5Z2VuLWN1c3RvbS0ke3ByZXNldC5pZH1gLCBwcmVzZXQubmFtZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmRhcmtTY2hlbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgLy8gUmVnZW5lcmF0ZSBhbGwgQ1NTIGluY2x1ZGluZyBjdXN0b20gcHJlc2V0c1xyXG4gICAgICAgICAgICBwbHVnaW4udXBkYXRlU3R5bGUoKTtcclxuICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZUN1c3RvbVByZXNldENTUygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBEYXJrIG1vZGUgYmFja2dyb3VuZCBjb250cmFzdFxyXG4gIGNvbG9yR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnRGFyayBtb2RlIGJhY2tncm91bmQgY29udHJhc3QnKVxyXG4gICAgICAuc2V0RGVzYygnTGV2ZWwgb2YgY29udHJhc3QgYmV0d2VlbiBzaWRlYmFyIGFuZCBtYWluIGNvbnRlbnQuJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tZGFyaycsICdEZWZhdWx0JylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ294eWdlbi1kYXJrLXRvbmFsJywgJ0xvdyBjb250cmFzdCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdveHlnZW4tZGFyay1ibGFjaycsICdUcnVlIGJsYWNrJylcclxuICAgICAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmRhcmtTdHlsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAvLyBSZWZyZXNoIGFsbCBzdHlsZXMgdG8gYXBwbHkgdGhlIG5ldyBjb250cmFzdCBjbGFzcyBhbmQgaGFuZGxlIHN0aWNraW5nXHJcbiAgICAgICAgICAgIHBsdWdpbi51cGRhdGVTdHlsZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4iLCAiLyoqXHJcbiAqIEZlYXR1cmUgc2V0dGluZ3Mgc2VjdGlvblxyXG4gKiBOYXZpZ2F0aW9uLCBib3JkZXJzLCBoZWFkaW5ncywgbGlua3MsIGV0Yy5cclxuICovXHJcblxyXG5pbXBvcnQgTWluaW1hbFRoZW1lIGZyb20gJy4uLy4uL21haW4nO1xyXG5pbXBvcnQgeyBNaW5pbWFsU2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncy1pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZEZlYXR1cmVTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHBsdWdpbjogTWluaW1hbFRoZW1lKTogdm9pZCB7XHJcbiAgY29uc3QgZmVhdHVyZXNHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyRWwsICdGZWF0dXJlcycsICdveHlnZW4tc2V0dGluZ3MnKTtcclxuXHJcbiAgZmVhdHVyZXNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdUZXh0IGxhYmVscyBmb3IgcHJpbWFyeSBuYXZpZ2F0aW9uJylcclxuICAgICAgLy8gRmFsc2UgcG9zaXRpdmU6IFwiRG9jdW1lbnRhdGlvblwiIGlzIGEgcHJvcGVyIG5vdW4gKHNlY3Rpb24gbmFtZSlcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG4gICAgICAuc2V0RGVzYygnTmF2aWdhdGlvbiBpdGVtcyBpbiB0aGUgbGVmdCBzaWRlYmFyIHVzZXMgdGV4dCBsYWJlbHMuIFNlZSBEb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzLicpXHJcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MubGFiZWxlZE5hdikub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmxhYmVsZWROYXYgPSB2YWx1ZTtcclxuICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZmVhdHVyZXNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdDb2xvcmZ1bCB3aW5kb3cgZnJhbWUnKVxyXG4gICAgICAuc2V0RGVzYygnVGhlIHRvcCBhcmVhIG9mIHRoZSBhcHAgdXNlcyB5b3VyIGFjY2VudCBjb2xvci4nKVxyXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmNvbG9yZnVsRnJhbWUpLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5jb2xvcmZ1bEZyYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZlYXR1cmVzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnQ29sb3JmdWwgYWN0aXZlIHN0YXRlcycpXHJcbiAgICAgIC5zZXREZXNjKCdBY3RpdmUgZmlsZSBhbmQgbWVudSBpdGVtcyB1c2UgeW91ciBhY2NlbnQgY29sb3IuJylcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5jb2xvcmZ1bEFjdGl2ZVN0YXRlcykub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmNvbG9yZnVsQWN0aXZlU3RhdGVzID0gdmFsdWU7XHJcbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZlYXR1cmVzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnQ29sb3JmdWwgaGVhZGluZ3MnKVxyXG4gICAgICAuc2V0RGVzYygnSGVhZGluZ3MgdXNlIGEgZGlmZmVyZW50IGNvbG9yIGZvciBlYWNoIHNpemUuJylcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5jb2xvcmZ1bEhlYWRpbmdzKS5vbkNoYW5nZSggKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuY29sb3JmdWxIZWFkaW5ncyA9IHZhbHVlO1xyXG4gICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBmZWF0dXJlc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ01pbmltYWwgc3RhdHVzIGJhcicpXHJcbiAgICAgIC5zZXREZXNjKCdUdXJuIG9mZiB0byB1c2UgZnVsbC13aWR0aCBzdGF0dXMgYmFyLicpXHJcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MubWluaW1hbFN0YXR1cykub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLm1pbmltYWxTdGF0dXMgPSB2YWx1ZTtcclxuICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZmVhdHVyZXNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdUcmltIGZpbGUgbmFtZXMgaW4gc2lkZWJhcnMnKVxyXG4gICAgICAuc2V0RGVzYygnVXNlIGVsbGlwc2VzIHRvIGZpdCBmaWxlIG5hbWVzIG9uIGEgc2luZ2xlIGxpbmUuJylcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy50cmltTmFtZXMpLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy50cmltTmFtZXMgPSB2YWx1ZTtcclxuICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZmVhdHVyZXNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdCb3JkZXJzJylcclxuICAgICAgLnNldERlc2MoJ0JvcmRlciBzdHlsZSBmb3Igd29ya3NwYWNlIGVsZW1lbnRzLicpXHJcbiAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbignZW5oYW5jZWQnLCAnRW5oYW5jZWQnKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignZGVmYXVsdCcsICdEZWZhdWx0JylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ25vbmUnLCAnTm9uZScpXHJcbiAgICAgICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLndvcmtzcGFjZUJvcmRlcnMpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3Mud29ya3NwYWNlQm9yZGVycyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBmZWF0dXJlc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0luZGVudGF0aW9uIGd1aWRlcyB0aGlja25lc3MnKVxyXG4gICAgICAuc2V0RGVzYygnVGhpY2tuZXNzIG9mIGluZGVudGF0aW9uIGd1aWRlcyBpbiB0aGUgc2lkZWJhciBmaWxlIGV4cGxvcmVyLicpXHJcbiAgICAgIC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbignMHB4JywgJ05vbmUnKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignMXB4JywgJ1RoaW4nKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignMnB4JywgJ01lZGl1bScpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCczcHgnLCAnVGhpY2snKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5uYXZJbmRlbnRhdGlvbkd1aWRlV2lkdGgpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MubmF2SW5kZW50YXRpb25HdWlkZVdpZHRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZlYXR1cmVzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnSW5kZW50YXRpb24gZ3VpZGVzIGNvbG9yJylcclxuICAgICAgLnNldERlc2MoJ0NvbG9yIG9mIGluZGVudGF0aW9uIGd1aWRlcyBpbiB0aGUgc2lkZWJhci4nKVxyXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5hZGRPcHRpb24oJ3JnYmEodmFyKC0tbW9uby1yZ2ItMTAwKSwgMC4xMiknLCAnU3VidGxlJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ3ZhcigtLXRleHQtZmFpbnQpJywgJ1N0cm9uZycpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCd2YXIoLS1jb2xvci1hY2NlbnQpJywgJ0FjY2VudCBjb2xvcicpXHJcbiAgICAgICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLm5hdkluZGVudGF0aW9uR3VpZGVDb2xvcilcclxuICAgICAgICAgIC5vbkNoYW5nZSggKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5uYXZJbmRlbnRhdGlvbkd1aWRlQ29sb3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZmVhdHVyZXNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdVbmRlcmxpbmUgaW50ZXJuYWwgbGlua3MnKVxyXG4gICAgICAuc2V0RGVzYygnU2hvdyB1bmRlcmxpbmVzIG9uIGludGVybmFsIGxpbmtzLicpXHJcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudW5kZXJsaW5lSW50ZXJuYWwpLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy51bmRlcmxpbmVJbnRlcm5hbCA9IHZhbHVlO1xyXG4gICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBmZWF0dXJlc0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ1VuZGVybGluZSBleHRlcm5hbCBsaW5rcycpXHJcbiAgICAgIC5zZXREZXNjKCdTaG93IHVuZGVybGluZXMgb24gZXh0ZXJuYWwgbGlua3MuJylcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy51bmRlcmxpbmVFeHRlcm5hbCkub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnVuZGVybGluZUV4dGVybmFsID0gdmFsdWU7XHJcbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZlYXR1cmVzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnTWF4aW1pemUgbWVkaWEnKVxyXG4gICAgICAuc2V0RGVzYygnSW1hZ2VzIGFuZCB2aWRlb3MgZmlsbCB0aGUgd2lkdGggb2YgdGhlIGxpbmUuJylcclxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5mdWxsV2lkdGhNZWRpYSkub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmZ1bGxXaWR0aE1lZGlhID0gdmFsdWU7XHJcbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZlYXR1cmVzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgLy8gRW5zdXJlIGVuYWJsZUJsdXIgZXhpc3RzIG9uIHNldHRpbmdzIG9iamVjdFxyXG4gICAgaWYgKCEoJ2VuYWJsZUJsdXInIGluIHBsdWdpbi5zZXR0aW5ncykpIHtcclxuICAgICAgKHBsdWdpbi5zZXR0aW5ncyBhcyBNaW5pbWFsU2V0dGluZ3MgJiB7IGVuYWJsZUJsdXI/OiBib29sZWFuIH0pLmVuYWJsZUJsdXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0VuYWJsZSBiYWNrZ3JvdW5kIGJsdXInKVxyXG4gICAgICAuc2V0RGVzYygnQWRkcyBiYWNrZ3JvdW5kIGJsdXIgdG8gbW9kYWwgZGlhbG9ncy4gRGlzYWJsZSBpZiBzY3JvbGxpbmcgYmVjb21lcyBsYWdneS4gTm90IGF2YWlsYWJsZSBvbiBtb2JpbGUgZGV2aWNlcy4nKVxyXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmVuYWJsZUJsdXIpLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lbmFibGVCbHVyID0gdmFsdWU7XHJcbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGZlYXR1cmVzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgLy8gRW5zdXJlIHVzZURlZmF1bHRGb2xkZXJJY29uIGV4aXN0cyBvbiBzZXR0aW5ncyBvYmplY3RcclxuICAgIGlmICghKCd1c2VEZWZhdWx0Rm9sZGVySWNvbicgaW4gcGx1Z2luLnNldHRpbmdzKSkge1xyXG4gICAgICAocGx1Z2luLnNldHRpbmdzIGFzIE1pbmltYWxTZXR0aW5ncyAmIHsgdXNlRGVmYXVsdEZvbGRlckljb24/OiBib29sZWFuIH0pLnVzZURlZmF1bHRGb2xkZXJJY29uID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdVc2UgZGVmYXVsdCBPYnNpZGlhbiBmb2xkZXIgaWNvbicpXHJcbiAgICAgIC8vIEZhbHNlIHBvc2l0aXZlOiBcIk9ic2lkaWFuXCIgYW5kIFwiTHVjaWRlXCIgYXJlIHByb3BlciBub3VucyAocHJvZHVjdCBuYW1lcylcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG4gICAgICAuc2V0RGVzYygnVG9nZ2xlIHRvIHVzZSBPYnNpZGlhblxcJ3MgZGVmYXVsdCBmaWxlIGV4cGxvcmVyIGljb24gaW5zdGVhZCBvZiB0aGUgZm9sZGVyLWNsb3NlZCBpY29uLicpXHJcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudXNlRGVmYXVsdEZvbGRlckljb24pLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy51c2VEZWZhdWx0Rm9sZGVySWNvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4iLCAiLyoqXHJcbiAqIExheW91dCBzZXR0aW5ncyBzZWN0aW9uXHJcbiAqIEltYWdlIGdyaWRzIGFuZCBibG9jayB3aWR0aCBzZXR0aW5ncyAoY2hhcnRzLCBpZnJhbWVzLCBpbWFnZXMsIG1hcHMsIHRhYmxlcylcclxuICovXHJcblxyXG5pbXBvcnQgTWluaW1hbFRoZW1lIGZyb20gJy4uLy4uL21haW4nO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZExheW91dFNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBNaW5pbWFsVGhlbWUpOiB2b2lkIHtcclxuICBjb25zdCBsYXlvdXRHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyRWwsICdMYXlvdXQnLCAnb3h5Z2VuLXNldHRpbmdzJyk7XHJcblxyXG4gIGxheW91dEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0ltYWdlIGdyaWRzJylcclxuICAgICAgLy8gRmFsc2UgcG9zaXRpdmU6IFwiRG9jdW1lbnRhdGlvblwiIGlzIGEgcHJvcGVyIG5vdW4gKHNlY3Rpb24gbmFtZSlcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG4gICAgICAuc2V0RGVzYygnVHVybiBjb25zZWN1dGl2ZSBpbWFnZXMgaW50byBjb2x1bW5zIFx1MjAxNCB0byBtYWtlIGEgbmV3IHJvdywgYWRkIGFuIGV4dHJhIGxpbmUgYnJlYWsgYmV0d2VlbiBpbWFnZXMuIFRoZXNlIG9wdGlvbnMgY2FuIGFsc28gYmUgZGVmaW5lZCBvbiBhIHBlci1maWxlIGJhc2lzLCBzZWUgRG9jdW1lbnRhdGlvbiBmb3IgZGV0YWlscy4nKVxyXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmltZ0dyaWQpLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5pbWdHcmlkID0gdmFsdWU7XHJcbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGxheW91dEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0NoYXJ0IHdpZHRoJylcclxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgd2lkdGggZm9yIGNoYXJ0IGJsb2Nrcy4nKVxyXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5hZGRPcHRpb24oJ2NoYXJ0LWRlZmF1bHQtd2lkdGgnLCAnRGVmYXVsdCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdjaGFydC13aWRlJywgJ1dpZGUgbGluZSB3aWR0aCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdjaGFydC1tYXgnLCAnTWF4aW11bSBsaW5lIHdpZHRoJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ2NoYXJ0LTEwMCcsICcxMDAlIHBhbmUgd2lkdGgnKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5jaGFydFdpZHRoKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmNoYXJ0V2lkdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgbGF5b3V0R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnSWZyYW1lIHdpZHRoJylcclxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgd2lkdGggZm9yIGlmcmFtZSBibG9ja3MuJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdpZnJhbWUtZGVmYXVsdC13aWR0aCcsICdEZWZhdWx0JylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ2lmcmFtZS13aWRlJywgJ1dpZGUgbGluZSB3aWR0aCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdpZnJhbWUtbWF4JywgJ01heGltdW0gbGluZSB3aWR0aCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdpZnJhbWUtMTAwJywgJzEwMCUgcGFuZSB3aWR0aCcpXHJcbiAgICAgICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmlmcmFtZVdpZHRoKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmlmcmFtZVdpZHRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGxheW91dEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0ltYWdlIHdpZHRoJylcclxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgd2lkdGggZm9yIGltYWdlIGJsb2Nrcy4nKVxyXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5hZGRPcHRpb24oJ2ltZy1kZWZhdWx0LXdpZHRoJywgJ0RlZmF1bHQnKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignaW1nLXdpZGUnLCAnV2lkZSBsaW5lIHdpZHRoJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ2ltZy1tYXgnLCAnTWF4aW11bSBsaW5lIHdpZHRoJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ2ltZy0xMDAnLCAnMTAwJSBwYW5lIHdpZHRoJylcclxuICAgICAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MuaW1nV2lkdGgpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuaW1nV2lkdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgbGF5b3V0R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnTWFwIHdpZHRoJylcclxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgd2lkdGggZm9yIG1hcCBibG9ja3MuJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdtYXAtZGVmYXVsdC13aWR0aCcsICdEZWZhdWx0JylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ21hcC13aWRlJywgJ1dpZGUgbGluZSB3aWR0aCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdtYXAtbWF4JywgJ01heGltdW0gbGluZSB3aWR0aCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdtYXAtMTAwJywgJzEwMCUgcGFuZSB3aWR0aCcpXHJcbiAgICAgICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLm1hcFdpZHRoKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLm1hcFdpZHRoID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGxheW91dEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ1RhYmxlIHdpZHRoJylcclxuICAgICAgLy8gRmFsc2UgcG9zaXRpdmU6IFwiRGF0YXZpZXdcIiBpcyBhIHByb3BlciBub3VuIChwbHVnaW4gbmFtZSlcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG9ic2lkaWFubWQvdWkvc2VudGVuY2UtY2FzZVxyXG4gICAgICAuc2V0RGVzYygnRGVmYXVsdCB3aWR0aCBmb3IgdGFibGUgYW5kIERhdGF2aWV3IGJsb2Nrcy4nKVxyXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5hZGRPcHRpb24oJ3RhYmxlLWRlZmF1bHQtd2lkdGgnLCAnRGVmYXVsdCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCd0YWJsZS13aWRlJywgJ1dpZGUgbGluZSB3aWR0aCcpXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCd0YWJsZS1tYXgnLCAnTWF4aW11bSBsaW5lIHdpZHRoJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ3RhYmxlLTEwMCcsICcxMDAlIHBhbmUgd2lkdGgnKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy50YWJsZVdpZHRoKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnRhYmxlV2lkdGggPSB2YWx1ZTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuIiwgIi8qKlxyXG4gKiBUeXBvZ3JhcGh5IHNldHRpbmdzIHNlY3Rpb25cclxuICogRm9udCBzaXplcywgbGluZSBoZWlnaHQsIGxpbmUgd2lkdGhzLCBlZGl0b3IgZm9udFxyXG4gKi9cclxuXHJcbmltcG9ydCBNaW5pbWFsVGhlbWUgZnJvbSAnLi4vLi4vbWFpbic7XHJcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVHlwb2dyYXBoeVNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBNaW5pbWFsVGhlbWUpOiB2b2lkIHtcclxuICBjb25zdCB0eXBvZ3JhcGh5R3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lckVsLCAnVHlwb2dyYXBoeScsICdveHlnZW4tc2V0dGluZ3MnKTtcclxuXHJcbiAgdHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ1RleHQgZm9udCBzaXplJylcclxuICAgICAgLnNldERlc2MoJ1VzZWQgZm9yIHRoZSBtYWluIHRleHQgKGRlZmF1bHQgMTYpLicpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgdGV4dFxyXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcxNicpXHJcbiAgICAgICAgICAuc2V0VmFsdWUoKHBsdWdpbi5zZXR0aW5ncy50ZXh0Tm9ybWFsIHx8ICcnKSArICcnKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnRleHROb3JtYWwgPSBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnNldEZvbnRTaXplKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdTbWFsbCBmb250IHNpemUnKVxyXG4gICAgICAuc2V0RGVzYygnVXNlZCBmb3IgdGV4dCBpbiB0aGUgc2lkZWJhcnMgYW5kIHRhYnMgKGRlZmF1bHQgMTMpLicpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgdGV4dFxyXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcxMycpXHJcbiAgICAgICAgICAuc2V0VmFsdWUoKHBsdWdpbi5zZXR0aW5ncy50ZXh0U21hbGwgfHwgJycpICsgJycpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MudGV4dFNtYWxsID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdMaW5lIGhlaWdodCcpXHJcbiAgICAgIC5zZXREZXNjKCdMaW5lIGhlaWdodCBvZiB0ZXh0IChkZWZhdWx0IDEuNSkuJylcclxuICAgICAgLmFkZFRleHQoKHRleHQpID0+IHtcclxuICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJzEuNScpXHJcbiAgICAgICAgICAuc2V0VmFsdWUoKHBsdWdpbi5zZXR0aW5ncy5saW5lSGVpZ2h0IHx8ICcnKSArICcnKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmxpbmVIZWlnaHQgPSBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgdHlwb2dyYXBoeUdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ05vcm1hbCBsaW5lIHdpZHRoJylcclxuICAgICAgLnNldERlc2MoJ051bWJlciBvZiBjaGFyYWN0ZXJzIHBlciBsaW5lIChkZWZhdWx0IDQwKS4nKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgIHRleHRcclxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignNDAnKVxyXG4gICAgICAgICAgLnNldFZhbHVlKChwbHVnaW4uc2V0dGluZ3MubGluZVdpZHRoIHx8ICcnKSArICcnKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmxpbmVXaWR0aCA9IHBhcnNlSW50KHZhbHVlLnRyaW0oKSk7XHJcbiAgICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHR5cG9ncmFwaHlHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XHJcbiAgICBzZXR0aW5nXHJcbiAgICAgIC5zZXROYW1lKCdXaWRlIGxpbmUgd2lkdGgnKVxyXG4gICAgICAuc2V0RGVzYygnTnVtYmVyIG9mIGNoYXJhY3RlcnMgcGVyIGxpbmUgZm9yIHdpZGUgZWxlbWVudHMgKGRlZmF1bHQgNTApLicpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgdGV4dFxyXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCc1MCcpXHJcbiAgICAgICAgICAuc2V0VmFsdWUoKHBsdWdpbi5zZXR0aW5ncy5saW5lV2lkdGhXaWRlIHx8ICcnKSArICcnKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmxpbmVXaWR0aFdpZGUgPSBwYXJzZUludCh2YWx1ZS50cmltKCkpO1xyXG4gICAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnTWF4aW11bSBsaW5lIHdpZHRoICUnKVxyXG4gICAgICAuc2V0RGVzYygnUGVyY2VudGFnZSBvZiBzcGFjZSBpbnNpZGUgYSBwYW5lIHRoYXQgYSBsaW5lIGNhbiBmaWxsIChkZWZhdWx0IDg4KS4nKVxyXG4gICAgICAuYWRkVGV4dCgodGV4dCkgPT4ge1xyXG4gICAgICAgIHRleHRcclxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignODgnKVxyXG4gICAgICAgICAgLnNldFZhbHVlKChwbHVnaW4uc2V0dGluZ3MubWF4V2lkdGggfHwgJycpICsgJycpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MubWF4V2lkdGggPSBwYXJzZUludCh2YWx1ZS50cmltKCkpO1xyXG4gICAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB0eXBvZ3JhcGh5R3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc2V0dGluZ1xyXG4gICAgICAuc2V0TmFtZSgnRWRpdG9yIGZvbnQnKVxyXG4gICAgICAuc2V0RGVzYygnT3ZlcnJpZGVzIHRoZSB0ZXh0IGZvbnQgZGVmaW5lZCBpbiBPYnNpZGlhbiBhcHBlYXJhbmNlIHNldHRpbmdzIHdoZW4gaW4gZWRpdCBtb2RlLicpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XHJcbiAgICAgICAgdGV4dFxyXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcnKVxyXG4gICAgICAgICAgLnNldFZhbHVlKChwbHVnaW4uc2V0dGluZ3MuZWRpdG9yRm9udCB8fCAnJykgKyAnJylcclxuICAgICAgICAgIC5vbkNoYW5nZSggKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5lZGl0b3JGb250ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbiIsICIvKipcbiAqIEN1c3RvbSBwcmVzZXRzIHNldHRpbmdzIHNlY3Rpb25cbiAqIEVuYWJsZS9kaXNhYmxlLCBjcmVhdGUsIGltcG9ydCwgbGlzdCwgZWRpdCwgZXhwb3J0LCBkZWxldGUgcHJlc2V0c1xuICovXG5cbmltcG9ydCB7IFNldHRpbmcsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBNaW5pbWFsVGhlbWUgZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDdXN0b21Db2xvclByZXNldCB9IGZyb20gJy4uLy4uL3ByZXNldHMvQ3VzdG9tUHJlc2V0JztcbmltcG9ydCB7IFByZXNldE1hbmFnZXIgfSBmcm9tICcuLi8uLi9wcmVzZXRzL1ByZXNldE1hbmFnZXInO1xuaW1wb3J0IHsgUHJlc2V0RWRpdG9yTW9kYWwgfSBmcm9tICcuLi8uLi9tb2RhbHMvUHJlc2V0RWRpdG9yTW9kYWwnO1xuaW1wb3J0IHsgUHJlc2V0SW1wb3J0TW9kYWwgfSBmcm9tICcuLi8uLi9tb2RhbHMvUHJlc2V0SW1wb3J0TW9kYWwnO1xuaW1wb3J0IHsgQ29uZmlybWF0aW9uTW9kYWwgfSBmcm9tICcuLi8uLi9tb2RhbHMvQ29uZmlybWF0aW9uTW9kYWwnO1xuaW1wb3J0IHsgZ2VuZXJhdGVDb2xvclN3YXRjaCB9IGZyb20gJy4uLy4uL3V0aWxzL2NvbG9yLXV0aWxzJztcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tICcuLi8uLi91dGlscy9zZXR0aW5ncy1jb21wYXQnO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDdXN0b21QcmVzZXRTZXR0aW5ncyhcbiAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBcbiAgcGx1Z2luOiBNaW5pbWFsVGhlbWUsXG4gIGFwcDogQXBwLFxuICByZWZyZXNoQ2FsbGJhY2s6ICgpID0+IHZvaWRcbik6IHZvaWQge1xuICBjb25zdCBjdXN0b21QcmVzZXRzR3JvdXAgPSBjcmVhdGVTZXR0aW5nc0dyb3VwKGNvbnRhaW5lckVsLCAnQ3VzdG9tIGNvbG9yIHNjaGVtZXMnLCAnb3h5Z2VuLXNldHRpbmdzJyk7XG5cbiAgLy8gRW5hYmxlL0Rpc2FibGUgQ3VzdG9tIFByZXNldHNcbiAgY3VzdG9tUHJlc2V0c0dyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcbiAgICBzZXR0aW5nXG4gICAgICAuc2V0TmFtZSgnRW5hYmxlIGN1c3RvbSBwcmVzZXRzJylcbiAgICAgIC5zZXREZXNjKCdBbGxvdyBjcmVhdGlvbiBhbmQgdXNlIG9mIGN1c3RvbSBjb2xvciBwcmVzZXRzJylcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICB0b2dnbGUuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmVuYWJsZUN1c3RvbVByZXNldHMpLm9uQ2hhbmdlKCAodmFsdWUpID0+IHtcbiAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ3VzdG9tUHJlc2V0cyA9IHZhbHVlO1xuXG4gICAgICAgICAgLy8gSWYgZGlzYWJsaW5nLCByZXNldCBhbnkgYWN0aXZlIGN1c3RvbSBwcmVzZXQgc2NoZW1lcyB0byBkZWZhdWx0XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IG5lZWRzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUuc3RhcnRzV2l0aCgnb3h5Z2VuLWN1c3RvbS0nKSkge1xuICAgICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUgPSAnb3h5Z2VuLW94eWdlbi1saWdodCc7XG4gICAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lLnN0YXJ0c1dpdGgoJ294eWdlbi1jdXN0b20tJykpIHtcbiAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmRhcmtTY2hlbWUgPSAnb3h5Z2VuLW94eWdlbi1kYXJrJztcbiAgICAgICAgICAgICAgbmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZVN0eWxlKCk7XG4gICAgICAgICAgICAgIHBsdWdpbi51cGRhdGVDdXN0b21QcmVzZXRDU1MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgICAgIHJlZnJlc2hDYWxsYmFjaygpOyAvLyBSZWZyZXNoIHRoZSBzZXR0aW5ncyB0YWJcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKCFwbHVnaW4uc2V0dGluZ3MuZW5hYmxlQ3VzdG9tUHJlc2V0cykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEFjdGlvbiBidXR0b25zXG4gIGN1c3RvbVByZXNldHNHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG4gICAgc2V0dGluZ1xuICAgICAgLnNldE5hbWUoJ0NyZWF0ZSBuZXcgcHJlc2V0JylcbiAgICAgIC5zZXREZXNjKCdEZXNpZ24gYSBjdXN0b20gY29sb3Igc2NoZW1lIGZyb20gc2NyYXRjaCcpXG4gICAgICAuYWRkRXh0cmFCdXR0b24oKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b25cbiAgICAgICAgICAuc2V0SWNvbigncGx1cycpXG4gICAgICAgICAgLnNldFRvb2x0aXAoJ0NyZWF0ZSBuZXcgcHJlc2V0JylcbiAgICAgICAgICAub25DbGljaygoKSA9PiBvcGVuUHJlc2V0RWRpdG9yKGFwcCwgcGx1Z2luLCBudWxsLCByZWZyZXNoQ2FsbGJhY2spKTtcbiAgICAgIH0pO1xuICB9KTtcblxuICBjdXN0b21QcmVzZXRzR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuICAgIHNldHRpbmdcbiAgICAgIC5zZXROYW1lKCdJbXBvcnQgcHJlc2V0JylcbiAgICAgIC5zZXREZXNjKCdJbXBvcnQgYSBwcmVzZXQgZnJvbSBKU09OIGRhdGEnKVxuICAgICAgLmFkZEV4dHJhQnV0dG9uKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uXG4gICAgICAgICAgLnNldEljb24oJ2Rvd25sb2FkJylcbiAgICAgICAgICAuc2V0VG9vbHRpcCgnSW1wb3J0IHByZXNldCcpXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4gb3BlblByZXNldEltcG9ydGVyKGFwcCwgcGx1Z2luLCByZWZyZXNoQ2FsbGJhY2spKTtcbiAgICAgIH0pO1xuICB9KTtcblxuICAvLyBBZGQgc3BhY2luZyBiZWZvcmUgcHJlc2V0IGxpc3QgdG8gc2VwYXJhdGUgZnJvbSB0aGUgZ3JvdXBcbiAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2JyJyk7XG5cbiAgLy8gUHJlc2V0cyBsaXN0XG4gIGlmIChwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgcHJlc2V0c0xpc3QgPSBjb250YWluZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjdXN0b20tcHJlc2V0cy1saXN0JyB9KTtcblxuICAgIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcbiAgICAgIC5mb3JFYWNoKHByZXNldCA9PiB7XG4gICAgICAgIGFkZFByZXNldExpc3RJdGVtKHByZXNldHNMaXN0LCBwcmVzZXQsIGFwcCwgcGx1Z2luLCByZWZyZXNoQ2FsbGJhY2spO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZW1wdHlTdGF0ZSA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2N1c3RvbS1wcmVzZXRzLWVtcHR5JyB9KTtcbiAgICBlbXB0eVN0YXRlLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICdObyBjdXN0b20gcHJlc2V0cyB5ZXQuIENyZWF0ZSB5b3VyIGZpcnN0IHByZXNldCB0byBnZXQgc3RhcnRlZCEnLFxuICAgICAgY2xzOiAnZW1wdHktbWVzc2FnZSdcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCBzcGFjaW5nIGFmdGVyIHByZXNldCBsaXN0L2VtcHR5IHN0YXRlIGZvciBjb25zaXN0ZW50IHNwYWNpbmcgYmVmb3JlIG5leHQgc2VjdGlvblxuICBjb250YWluZXJFbC5jcmVhdGVFbCgnYnInKTtcbn1cblxuZnVuY3Rpb24gYWRkUHJlc2V0TGlzdEl0ZW0oXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIFxuICBwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0LFxuICBhcHA6IEFwcCxcbiAgcGx1Z2luOiBNaW5pbWFsVGhlbWUsXG4gIHJlZnJlc2hDYWxsYmFjazogKCkgPT4gdm9pZFxuKTogdm9pZCB7XG4gIGNvbnN0IHByZXNldEl0ZW0gPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY3VzdG9tLXByZXNldC1pdGVtJyB9KTtcbiAgXG4gIC8vIFByZXNldCBpbmZvXG4gIGNvbnN0IHByZXNldEluZm8gPSBwcmVzZXRJdGVtLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXNldC1pbmZvJyB9KTtcbiAgXG4gIC8vIENvbG9yIHN3YXRjaFxuICBjb25zdCBzd2F0Y2ggPSBnZW5lcmF0ZUNvbG9yU3dhdGNoKHByZXNldCk7XG4gIHByZXNldEluZm8uYXBwZW5kQ2hpbGQoc3dhdGNoKTtcbiAgXG4gIC8vIFByZXNldCBkZXRhaWxzXG4gIGNvbnN0IGRldGFpbHMgPSBwcmVzZXRJbmZvLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXNldC1kZXRhaWxzJyB9KTtcbiAgZGV0YWlscy5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBwcmVzZXQubmFtZSwgY2xzOiAncHJlc2V0LW5hbWUnIH0pO1xuICBcbiAgaWYgKHByZXNldC5hdXRob3IpIHtcbiAgICBkZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGBieSAke3ByZXNldC5hdXRob3J9YCwgY2xzOiAncHJlc2V0LWF1dGhvcicgfSk7XG4gIH1cbiAgXG4gIGRldGFpbHMuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogcHJlc2V0LmlkLCBjbHM6ICdwcmVzZXQtaWQgcHJlc2V0LWlkLWRpc3BsYXknIH0pO1xuXG4gIC8vIEFjdGlvbiBidXR0b25zIHVzaW5nIHByb3BlciBPYnNpZGlhbiBBUElcbiAgbmV3IFNldHRpbmcocHJlc2V0SXRlbSlcbiAgICAuc2V0TmFtZSgnJylcbiAgICAuc2V0RGVzYygnJylcbiAgICAuYWRkRXh0cmFCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgLnNldEljb24oJ2VkaXQnKVxuICAgICAgLnNldFRvb2x0aXAoJ0VkaXQgcHJlc2V0JylcbiAgICAgIC5vbkNsaWNrKCgpID0+IG9wZW5QcmVzZXRFZGl0b3IoYXBwLCBwbHVnaW4sIHByZXNldCwgcmVmcmVzaENhbGxiYWNrKSkpXG4gICAgLmFkZEV4dHJhQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cbiAgICAgIC5zZXRJY29uKCdkb3dubG9hZCcpXG4gICAgICAuc2V0VG9vbHRpcCgnRXhwb3J0IHByZXNldCcpXG4gICAgICAub25DbGljaygoKSA9PiBleHBvcnRQcmVzZXQocHJlc2V0KSkpXG4gICAgLmFkZEV4dHJhQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cbiAgICAgIC5zZXRJY29uKCd0cmFzaCcpXG4gICAgICAuc2V0VG9vbHRpcCgnRGVsZXRlIHByZXNldCcpXG4gICAgICAub25DbGljayhhc3luYyAoKSA9PiBhd2FpdCBkZWxldGVQcmVzZXQoYXBwLCBwbHVnaW4sIHByZXNldCwgcmVmcmVzaENhbGxiYWNrKSkpO1xufVxuXG5mdW5jdGlvbiBvcGVuUHJlc2V0RWRpdG9yKFxuICBhcHA6IEFwcCxcbiAgcGx1Z2luOiBNaW5pbWFsVGhlbWUsXG4gIHByZXNldDogQ3VzdG9tQ29sb3JQcmVzZXQgfCBudWxsLFxuICByZWZyZXNoQ2FsbGJhY2s6ICgpID0+IHZvaWRcbik6IHZvaWQge1xuICBjb25zdCBtb2RhbCA9IG5ldyBQcmVzZXRFZGl0b3JNb2RhbChhcHAsIHBsdWdpbiwgcHJlc2V0LCAodXBkYXRlZFByZXNldCkgPT4ge1xuICAgIGlmIChwcmVzZXQpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBwcmVzZXRcbiAgICAgIGNvbnN0IGluZGV4ID0gcGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJlc2V0LmlkKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHNbaW5kZXhdID0gdXBkYXRlZFByZXNldDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIG5ldyBwcmVzZXRcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLnB1c2godXBkYXRlZFByZXNldCk7XG4gICAgfVxuICAgIFxuICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgXG4gICAgLy8gVXBkYXRlIHN0eWxlcyBpZiB0aGlzIHByZXNldCBpcyBjdXJyZW50bHkgYWN0aXZlXG4gICAgY29uc3QgcHJlc2V0U2NoZW1lSWQgPSBgb3h5Z2VuLWN1c3RvbS0ke3VwZGF0ZWRQcmVzZXQuaWR9YDtcbiAgICBpZiAocGx1Z2luLnNldHRpbmdzLmxpZ2h0U2NoZW1lID09PSBwcmVzZXRTY2hlbWVJZCB8fCBwbHVnaW4uc2V0dGluZ3MuZGFya1NjaGVtZSA9PT0gcHJlc2V0U2NoZW1lSWQpIHtcbiAgICAgIHBsdWdpbi51cGRhdGVTdHlsZSgpO1xuICAgICAgcGx1Z2luLnVwZGF0ZUN1c3RvbVByZXNldENTUygpO1xuICAgIH1cbiAgICBcbiAgICByZWZyZXNoQ2FsbGJhY2soKTsgLy8gUmVmcmVzaCB0aGUgc2V0dGluZ3MgdGFiXG4gIH0pO1xuICBtb2RhbC5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5QcmVzZXRJbXBvcnRlcihcbiAgYXBwOiBBcHAsXG4gIHBsdWdpbjogTWluaW1hbFRoZW1lLFxuICByZWZyZXNoQ2FsbGJhY2s6ICgpID0+IHZvaWRcbik6IHZvaWQge1xuICBjb25zdCBtb2RhbCA9IG5ldyBQcmVzZXRJbXBvcnRNb2RhbChhcHAsIHBsdWdpbiwgKGltcG9ydGVkUHJlc2V0KSA9PiB7XG4gICAgcGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMucHVzaChpbXBvcnRlZFByZXNldCk7XG4gICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICByZWZyZXNoQ2FsbGJhY2soKTsgLy8gUmVmcmVzaCB0aGUgc2V0dGluZ3MgdGFiXG4gIH0pO1xuICBtb2RhbC5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIGV4cG9ydFByZXNldChwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0KTogdm9pZCB7XG4gIGNvbnN0IGpzb24gPSBQcmVzZXRNYW5hZ2VyLmV4cG9ydFByZXNldEFzSlNPTihwcmVzZXQpO1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2pzb25dLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgXG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHVybDtcbiAgYS5kb3dubG9hZCA9IGAke3ByZXNldC5pZH0uanNvbmA7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkZWxldGVQcmVzZXQoXG4gIGFwcDogQXBwLFxuICBwbHVnaW46IE1pbmltYWxUaGVtZSxcbiAgcHJlc2V0OiBDdXN0b21Db2xvclByZXNldCxcbiAgcmVmcmVzaENhbGxiYWNrOiAoKSA9PiB2b2lkXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gQ2hlY2sgaWYgcHJlc2V0IGlzIGN1cnJlbnRseSBhY3RpdmVcbiAgY29uc3QgaXNBY3RpdmUgPSBQcmVzZXRNYW5hZ2VyLmlzUHJlc2V0QWN0aXZlKFxuICAgIHByZXNldC5pZCwgXG4gICAgcGx1Z2luLnNldHRpbmdzLmxpZ2h0U2NoZW1lLCBcbiAgICBwbHVnaW4uc2V0dGluZ3MuZGFya1NjaGVtZVxuICApO1xuICBcbiAgaWYgKGlzQWN0aXZlKSB7XG4gICAgLy8gU2hvdyB3YXJuaW5nIG1vZGFsXG4gICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgQ29uZmlybWF0aW9uTW9kYWwuc2hvdyhcbiAgICAgIGFwcCxcbiAgICAgICdEZWxldGUgYWN0aXZlIHByZXNldCcsXG4gICAgICAnVGhpcyBwcmVzZXQgaXMgY3VycmVudGx5IGFjdGl2ZS4gRGVsZXRpbmcgaXQgd2lsbCBzd2l0Y2ggdG8gdGhlIGRlZmF1bHQgc2NoZW1lLiBDb250aW51ZT8nLFxuICAgICAgJ0RlbGV0ZSdcbiAgICApO1xuICAgIFxuICAgIGlmICghY29uZmlybWVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFN3aXRjaCB0byBkZWZhdWx0IHNjaGVtZXNcbiAgICBpZiAocGx1Z2luLnNldHRpbmdzLmxpZ2h0U2NoZW1lID09PSBgb3h5Z2VuLWN1c3RvbS0ke3ByZXNldC5pZH1gKSB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUgPSAnb3h5Z2VuLW94eWdlbi1saWdodCc7XG4gICAgfVxuICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuZGFya1NjaGVtZSA9PT0gYG94eWdlbi1jdXN0b20tJHtwcmVzZXQuaWR9YCkge1xuICAgICAgcGx1Z2luLnNldHRpbmdzLmRhcmtTY2hlbWUgPSAnb3h5Z2VuLW94eWdlbi1kYXJrJztcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFJlbW92ZSBwcmVzZXQgZnJvbSBzZXR0aW5nc1xuICBwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cyA9IHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmZpbHRlcihwID0+IHAuaWQgIT09IHByZXNldC5pZCk7XG4gIGF3YWl0IHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xuICBcbiAgLy8gVXBkYXRlIHN0eWxlc1xuICBwbHVnaW4udXBkYXRlU3R5bGUoKTtcbiAgcGx1Z2luLnVwZGF0ZUN1c3RvbVByZXNldENTUygpO1xuICBcbiAgcmVmcmVzaENhbGxiYWNrKCk7IC8vIFJlZnJlc2ggdGhlIHNldHRpbmdzIHRhYlxufVxuXG4iLCAiLyoqXHJcbiAqIENTUyBQcm9wZXJ0eSBVdGlsaXRpZXNcclxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3Igc2V0dGluZyBDU1MgY3VzdG9tIHByb3BlcnRpZXMgaW4gYW4gT2JzaWRpYW4tY29tcGxpYW50IHdheVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTZXQgQ1NTIGN1c3RvbSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50XHJcbiAqIFRoaXMgaXMgYSB3cmFwcGVyIGFyb3VuZCBzZXRQcm9wZXJ0eSB0aGF0IGNhbiBiZSByZXBsYWNlZCB3aXRoIHNldENzc1Byb3BzIGlmIGF2YWlsYWJsZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENzc1Byb3BzKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBwcm9wczogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IHZvaWQge1xyXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BzKSkge1xyXG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgYSBzaW5nbGUgQ1NTIGN1c3RvbSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3NzUHJvcChlbGVtZW50OiBIVE1MRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCB2YWx1ZSk7XHJcbn1cclxuXHJcbiIsICIvKipcbiAqIENvbG9yIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBjdXN0b20gcHJlc2V0c1xuICovXG5cbmltcG9ydCB7IEhTTENvbG9yLCBDdXN0b21Db2xvclByZXNldCB9IGZyb20gJy4uL3ByZXNldHMvQ3VzdG9tUHJlc2V0JztcbmltcG9ydCB7IHNldENzc1Byb3BzIH0gZnJvbSAnLi9jc3MtcHJvcHMnO1xuXG4vKipcbiAqIENvbnZlcnQgaGV4IGNvbG9yIHRvIEhTTFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9IU0woaGV4OiBzdHJpbmcpOiBIU0xDb2xvciB7XG4gIC8vIFJlbW92ZSAjIGlmIHByZXNlbnRcbiAgaGV4ID0gaGV4LnJlcGxhY2UoJyMnLCAnJyk7XG4gIFxuICAvLyBQYXJzZSBoZXggdmFsdWVzXG4gIGNvbnN0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNikgLyAyNTU7XG4gIGNvbnN0IGcgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDIsIDQpLCAxNikgLyAyNTU7XG4gIGNvbnN0IGIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDQsIDYpLCAxNikgLyAyNTU7XG5cbiAgY29uc3QgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICBsZXQgaCA9IDAsIHMgPSAwLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gIGlmIChtYXggIT09IG1pbikge1xuICAgIGNvbnN0IGQgPSBtYXggLSBtaW47XG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgIFxuICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICBjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XG4gICAgICBjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuICAgICAgY2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcbiAgICB9XG4gICAgaCAvPSA2O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoOiBNYXRoLnJvdW5kKGggKiAzNjApLFxuICAgIHM6IE1hdGgucm91bmQocyAqIDEwMCksXG4gICAgbDogTWF0aC5yb3VuZChsICogMTAwKVxuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnQgSFNMIGNvbG9yIHRvIGhleFxuICovXG5leHBvcnQgZnVuY3Rpb24gaHNsVG9IZXgoaHNsOiBIU0xDb2xvcik6IHN0cmluZyB7XG4gIGNvbnN0IGggPSBoc2wuaCAvIDM2MDtcbiAgY29uc3QgcyA9IGhzbC5zIC8gMTAwO1xuICBjb25zdCBsID0gaHNsLmwgLyAxMDA7XG5cbiAgY29uc3QgaHVlMnJnYiA9IChwOiBudW1iZXIsIHE6IG51bWJlciwgdDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHQgPCAwKSB0ICs9IDE7XG4gICAgaWYgKHQgPiAxKSB0IC09IDE7XG4gICAgaWYgKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgIGlmICh0IDwgMS8yKSByZXR1cm4gcTtcbiAgICBpZiAodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcbiAgICByZXR1cm4gcDtcbiAgfTtcblxuICBsZXQgciwgZywgYjtcblxuICBpZiAocyA9PT0gMCkge1xuICAgIHIgPSBnID0gYiA9IGw7IC8vIGFjaHJvbWF0aWNcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICBjb25zdCBwID0gMiAqIGwgLSBxO1xuICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xuICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxLzMpO1xuICB9XG5cbiAgY29uc3QgdG9IZXggPSAoYzogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaGV4ID0gTWF0aC5yb3VuZChjICogMjU1KS50b1N0cmluZygxNik7XG4gICAgcmV0dXJuIGhleC5sZW5ndGggPT09IDEgPyAnMCcgKyBoZXggOiBoZXg7XG4gIH07XG5cbiAgcmV0dXJuIGAjJHt0b0hleChyKX0ke3RvSGV4KGcpfSR7dG9IZXgoYil9YDtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBoZXggY29sb3IgZm9ybWF0IChzdXBwb3J0cyB0cmFuc3BhcmVuY3kpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUhleChoZXg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBoZXhSZWdleCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M318W0EtRmEtZjAtOV17OH18W0EtRmEtZjAtOV17NH0pJC87XG4gIHJldHVybiBoZXhSZWdleC50ZXN0KGhleCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgSFNMIGNvbG9yIHJhbmdlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVIU0woaHNsOiBIU0xDb2xvcik6IGJvb2xlYW4ge1xuICByZXR1cm4gaHNsLmggPj0gMCAmJiBoc2wuaCA8PSAzNjAgJiZcbiAgICAgICAgIGhzbC5zID49IDAgJiYgaHNsLnMgPD0gMTAwICYmXG4gICAgICAgICBoc2wubCA+PSAwICYmIGhzbC5sIDw9IDEwMDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIGNvbG9yIHN3YXRjaCBlbGVtZW50IGZvciBwcmV2aWV3XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbG9yU3dhdGNoKHByZXNldDogQ3VzdG9tQ29sb3JQcmVzZXQpOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IHN3YXRjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzd2F0Y2guY2xhc3NOYW1lID0gJ2N1c3RvbS1wcmVzZXQtc3dhdGNoJztcbiAgY29uc3QgbGlnaHRCYXNlSGV4ID0gaHNsVG9IZXgocHJlc2V0LmxpZ2h0LmJhc2UpO1xuICBjb25zdCBsaWdodEFjY2VudEhleCA9IGhzbFRvSGV4KHByZXNldC5saWdodC5hY2NlbnQpO1xuICBjb25zdCBkYXJrQmFzZUhleCA9IGhzbFRvSGV4KHByZXNldC5kYXJrLmJhc2UpO1xuICBzZXRDc3NQcm9wcyhzd2F0Y2gsIHtcbiAgICAnLS1zd2F0Y2gtZ3JhZGllbnQtc3RhcnQnOiBsaWdodEJhc2VIZXgsXG4gICAgJy0tc3dhdGNoLWdyYWRpZW50LW1pZCc6IGxpZ2h0QWNjZW50SGV4LFxuICAgICctLXN3YXRjaC1ncmFkaWVudC1lbmQnOiBkYXJrQmFzZUhleFxuICB9KTtcbiAgcmV0dXJuIHN3YXRjaDtcbn1cblxuLy8gTm90ZTogZ2VuZXJhdGVDb2xvclN3YXRjaCBpcyB1c2VkIGluIEN1c3RvbVByZXNldFNldHRpbmdzLnRzXG5cbi8qKlxuICogU2FuaXRpemUgcHJlc2V0IG5hbWUgZm9yIGRpc3BsYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplUHJlc2V0TmFtZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbmFtZS50cmltKCkucmVwbGFjZSgvWzw+OlwiL1xcXFx8PypdL2csICcnKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHVuaXF1ZSBwcmVzZXQgSUQgZnJvbSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVByZXNldElkKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzYW5pdGl6ZVByZXNldE5hbWUobmFtZSlcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAucmVwbGFjZSgvW15hLXowLTktXS9nLCAnJylcbiAgICAuc3Vic3RyaW5nKDAsIDUwKTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBwcmVzZXQgSUQgZm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVByZXNldElkKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgaWRSZWdleCA9IC9eW2EtejAtOS1dKyQvO1xuICByZXR1cm4gaWRSZWdleC50ZXN0KGlkKSAmJiBpZC5sZW5ndGggPiAwICYmIGlkLmxlbmd0aCA8PSA1MDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBwcmVzZXQgSUQgaXMgdW5pcXVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZXNldElkVW5pcXVlKGlkOiBzdHJpbmcsIGV4aXN0aW5nUHJlc2V0czogQ3VzdG9tQ29sb3JQcmVzZXRbXSwgZXhjbHVkZUlkPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhZXhpc3RpbmdQcmVzZXRzLnNvbWUocHJlc2V0ID0+IHByZXNldC5pZCA9PT0gaWQgJiYgcHJlc2V0LmlkICE9PSBleGNsdWRlSWQpO1xufVxuXG4vKipcbiAqIEZvcm1hdCBIU0wgY29sb3IgZm9yIGRpc3BsYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEhTTChoc2w6IEhTTENvbG9yKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBoc2woJHtoc2wuaH0sICR7aHNsLnN9JSwgJHtoc2wubH0lKWA7XG59XG5cbi8qKlxuICogR2V0IGNvbnRyYXN0IHJhdGlvIGJldHdlZW4gdHdvIGNvbG9ycyAoZm9yIGFjY2Vzc2liaWxpdHkpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGNvbG9yMTogc3RyaW5nLCBjb2xvcjI6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IGdldEx1bWluYW5jZSA9IChoZXg6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJnYiA9IHBhcnNlSW50KGhleC5yZXBsYWNlKCcjJywgJycpLCAxNik7XG4gICAgY29uc3QgciA9IChyZ2IgPj4gMTYpICYgMHhmZjtcbiAgICBjb25zdCBnID0gKHJnYiA+PiA4KSAmIDB4ZmY7XG4gICAgY29uc3QgYiA9IChyZ2IgPj4gMCkgJiAweGZmO1xuICAgIFxuICAgIGNvbnN0IFtycywgZ3MsIGJzXSA9IFtyLCBnLCBiXS5tYXAoYyA9PiB7XG4gICAgICBjID0gYyAvIDI1NTtcbiAgICAgIHJldHVybiBjIDw9IDAuMDM5MjggPyBjIC8gMTIuOTIgOiBNYXRoLnBvdygoYyArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiAwLjIxMjYgKiBycyArIDAuNzE1MiAqIGdzICsgMC4wNzIyICogYnM7XG4gIH07XG5cbiAgY29uc3QgbHVtMSA9IGdldEx1bWluYW5jZShjb2xvcjEpO1xuICBjb25zdCBsdW0yID0gZ2V0THVtaW5hbmNlKGNvbG9yMik7XG4gIGNvbnN0IGJyaWdodGVzdCA9IE1hdGgubWF4KGx1bTEsIGx1bTIpO1xuICBjb25zdCBkYXJrZXN0ID0gTWF0aC5taW4obHVtMSwgbHVtMik7XG4gIFxuICByZXR1cm4gKGJyaWdodGVzdCArIDAuMDUpIC8gKGRhcmtlc3QgKyAwLjA1KTtcbn1cbiIsICIvKipcbiAqIFByZXNldCBtYW5hZ2VtZW50IGFuZCBDUlVEIG9wZXJhdGlvbnNcbiAqL1xuXG5pbXBvcnQgeyBDdXN0b21Db2xvclByZXNldCwgSFNMQ29sb3IgfSBmcm9tICcuL0N1c3RvbVByZXNldCc7XG5pbXBvcnQgeyBcbiAgdmFsaWRhdGVQcmVzZXRJZCwgXG4gIGlzUHJlc2V0SWRVbmlxdWUsIFxuICBzYW5pdGl6ZVByZXNldE5hbWUsIFxuICBnZW5lcmF0ZVByZXNldElkLFxuICBoc2xUb0hleCBcbn0gZnJvbSAnLi4vdXRpbHMvY29sb3ItdXRpbHMnO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgcGFyc2VkIEpTT04gcHJlc2V0IGRhdGEgKGJlZm9yZSB2YWxpZGF0aW9uKVxuICovXG5pbnRlcmZhY2UgUGFyc2VkUHJlc2V0SlNPTiB7XG4gIGlkPzogdW5rbm93bjtcbiAgbmFtZT86IHVua25vd247XG4gIGF1dGhvcj86IHVua25vd247XG4gIHZlcnNpb24/OiB1bmtub3duO1xuICBsaWdodD86IHtcbiAgICBiYXNlPzogdW5rbm93bjtcbiAgICBhY2NlbnQ/OiB1bmtub3duO1xuICAgIGNvbG9ycz86IHVua25vd247XG4gICAgZnJhbWVMaWdodG5lc3NPZmZzZXQ/OiB1bmtub3duO1xuICB9O1xuICBkYXJrPzoge1xuICAgIGJhc2U/OiB1bmtub3duO1xuICAgIGFjY2VudD86IHVua25vd247XG4gICAgY29sb3JzPzogdW5rbm93bjtcbiAgICBmcmFtZUxpZ2h0bmVzc09mZnNldD86IHVua25vd247XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVzZXRNYW5hZ2VyIHtcblxuICAvKipcbiAgICogVmFsaWRhdGUgcHJlc2V0IElEIGZvcm1hdCBhbmQgdW5pcXVlbmVzc1xuICAgKi9cbiAgc3RhdGljIHZhbGlkYXRlUHJlc2V0SWQoaWQ6IHN0cmluZywgZXhpc3RpbmdQcmVzZXRzOiBDdXN0b21Db2xvclByZXNldFtdLCBleGNsdWRlSWQ/OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdmFsaWRhdGVQcmVzZXRJZChpZCkgJiYgaXNQcmVzZXRJZFVuaXF1ZShpZCwgZXhpc3RpbmdQcmVzZXRzLCBleGNsdWRlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbml0aXplIHByZXNldCBuYW1lXG4gICAqL1xuICBzdGF0aWMgc2FuaXRpemVQcmVzZXROYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHNhbml0aXplUHJlc2V0TmFtZShuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJlc2V0IHdpdGggdmFsaWRhdGlvblxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVByZXNldChcbiAgICBuYW1lOiBzdHJpbmcsIFxuICAgIGF1dGhvcjogc3RyaW5nID0gJycsIFxuICAgIGV4aXN0aW5nUHJlc2V0czogQ3VzdG9tQ29sb3JQcmVzZXRbXSA9IFtdXG4gICk6IEN1c3RvbUNvbG9yUHJlc2V0IHtcbiAgICBjb25zdCBzYW5pdGl6ZWROYW1lID0gdGhpcy5zYW5pdGl6ZVByZXNldE5hbWUobmFtZSk7XG4gICAgaWYgKCFzYW5pdGl6ZWROYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXNldCBuYW1lIGNhbm5vdCBiZSBlbXB0eScpO1xuICAgIH1cblxuICAgIGxldCBpZCA9IGdlbmVyYXRlUHJlc2V0SWQoc2FuaXRpemVkTmFtZSk7XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIFxuICAgIC8vIEVuc3VyZSB1bmlxdWUgSURcbiAgICB3aGlsZSAoIXRoaXMudmFsaWRhdGVQcmVzZXRJZChpZCwgZXhpc3RpbmdQcmVzZXRzKSkge1xuICAgICAgaWQgPSBgJHtnZW5lcmF0ZVByZXNldElkKHNhbml0aXplZE5hbWUpfS0ke2NvdW50ZXJ9YDtcbiAgICAgIGNvdW50ZXIrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBuYW1lOiBzYW5pdGl6ZWROYW1lLFxuICAgICAgYXV0aG9yOiBhdXRob3IudHJpbSgpLFxuICAgICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICAgIGxpZ2h0OiB7IFxuICAgICAgICBiYXNlOiB7IGg6IDIxMCwgczogMiwgbDogOTYgfSwgIC8vIExpZ2h0IGJhY2tncm91bmRcbiAgICAgICAgYWNjZW50OiB7IGg6IDIwMCwgczogODAsIGw6IDUwIH0sXG4gICAgICAgIGNvbG9yczoge31cbiAgICAgIH0sXG4gICAgICBkYXJrOiB7IFxuICAgICAgICBiYXNlOiB7IGg6IDIxMCwgczogMiwgbDogMTMgfSwgIC8vIERhcmsgYmFja2dyb3VuZFxuICAgICAgICBhY2NlbnQ6IHsgaDogMjAwLCBzOiA4MCwgbDogNTAgfSxcbiAgICAgICAgY29sb3JzOiB7fVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIHByZXNldFxuICAgKi9cbiAgc3RhdGljIHVwZGF0ZVByZXNldChcbiAgICBpZDogc3RyaW5nLCBcbiAgICB1cGRhdGVzOiBQYXJ0aWFsPEN1c3RvbUNvbG9yUHJlc2V0PiwgXG4gICAgZXhpc3RpbmdQcmVzZXRzOiBDdXN0b21Db2xvclByZXNldFtdXG4gICk6IEN1c3RvbUNvbG9yUHJlc2V0IHtcbiAgICBjb25zdCBleGlzdGluZ1ByZXNldCA9IGV4aXN0aW5nUHJlc2V0cy5maW5kKHAgPT4gcC5pZCA9PT0gaWQpO1xuICAgIGlmICghZXhpc3RpbmdQcmVzZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUHJlc2V0IHdpdGggSUQgXCIke2lkfVwiIG5vdCBmb3VuZGApO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZWRQcmVzZXQgPSB7IC4uLmV4aXN0aW5nUHJlc2V0LCAuLi51cGRhdGVzIH07XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgbmV3IElEIGlmIGNoYW5nZWRcbiAgICBpZiAodXBkYXRlcy5pZCAmJiB1cGRhdGVzLmlkICE9PSBpZCkge1xuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlUHJlc2V0SWQodXBkYXRlcy5pZCwgZXhpc3RpbmdQcmVzZXRzLCBpZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcmVzZXQgSUQgXCIke3VwZGF0ZXMuaWR9XCIgaXMgaW52YWxpZCBvciBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNhbml0aXplIG5hbWUgaWYgY2hhbmdlZFxuICAgIGlmICh1cGRhdGVzLm5hbWUpIHtcbiAgICAgIHVwZGF0ZWRQcmVzZXQubmFtZSA9IHRoaXMuc2FuaXRpemVQcmVzZXROYW1lKHVwZGF0ZXMubmFtZSk7XG4gICAgICBpZiAoIXVwZGF0ZWRQcmVzZXQubmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXNldCBuYW1lIGNhbm5vdCBiZSBlbXB0eScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1cGRhdGVkUHJlc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHByZXNldFxuICAgKi9cbiAgc3RhdGljIGRlbGV0ZVByZXNldChpZDogc3RyaW5nLCBleGlzdGluZ1ByZXNldHM6IEN1c3RvbUNvbG9yUHJlc2V0W10pOiBDdXN0b21Db2xvclByZXNldFtdIHtcbiAgICByZXR1cm4gZXhpc3RpbmdQcmVzZXRzLmZpbHRlcihwcmVzZXQgPT4gcHJlc2V0LmlkICE9PSBpZCk7XG4gIH1cblxuICAvKipcbiAgICogRXhwb3J0IHByZXNldCBhcyBKU09OXG4gICAqL1xuICBzdGF0aWMgZXhwb3J0UHJlc2V0QXNKU09OKHByZXNldDogQ3VzdG9tQ29sb3JQcmVzZXQpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwcmVzZXQsIG51bGwsIDIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEltcG9ydCBwcmVzZXQgZnJvbSBKU09OXG4gICAqL1xuICBzdGF0aWMgaW1wb3J0UHJlc2V0RnJvbUpTT04oanNvbjogc3RyaW5nKTogQ3VzdG9tQ29sb3JQcmVzZXQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb24pIGFzIHVua25vd247XG4gICAgICBcbiAgICAgIC8vIFR5cGUgZ3VhcmQ6IGNoZWNrIGlmIHBhcnNlZCBpcyBhbiBvYmplY3RcbiAgICAgIGlmICh0eXBlb2YgcGFyc2VkICE9PSAnb2JqZWN0JyB8fCBwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByZXNldCBmb3JtYXQ6IG5vdCBhbiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IHBhcnNlZCBhcyBQYXJzZWRQcmVzZXRKU09OO1xuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgIGlmICghZGF0YS5pZCB8fCAhZGF0YS5uYW1lIHx8ICFkYXRhLmxpZ2h0IHx8ICFkYXRhLmRhcmspIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByZXNldCBmb3JtYXQ6IG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIHN0cnVjdHVyZVxuICAgICAgaWYgKCFkYXRhLmxpZ2h0LmJhc2UgfHwgIWRhdGEubGlnaHQuYWNjZW50IHx8ICFkYXRhLmRhcmsuYmFzZSB8fCAhZGF0YS5kYXJrLmFjY2VudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcHJlc2V0IGZvcm1hdDogbWlzc2luZyBiYXNlIG9yIGFjY2VudCBjb2xvcnMnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgSFNMIHJhbmdlc1xuICAgICAgY29uc3QgdmFsaWRhdGVIU0wgPSAoaHNsOiB1bmtub3duKTogaHNsIGlzIEhTTENvbG9yID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBoc2wgIT09ICdvYmplY3QnIHx8IGhzbCA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBoID0gKGhzbCBhcyB7IGg/OiB1bmtub3duIH0pLmg7XG4gICAgICAgIGNvbnN0IHMgPSAoaHNsIGFzIHsgcz86IHVua25vd24gfSkucztcbiAgICAgICAgY29uc3QgbCA9IChoc2wgYXMgeyBsPzogdW5rbm93biB9KS5sO1xuICAgICAgICByZXR1cm4gdHlwZW9mIGggPT09ICdudW1iZXInICYmIGggPj0gMCAmJiBoIDw9IDM2MCAmJlxuICAgICAgICAgICAgICAgdHlwZW9mIHMgPT09ICdudW1iZXInICYmIHMgPj0gMCAmJiBzIDw9IDEwMCAmJlxuICAgICAgICAgICAgICAgdHlwZW9mIGwgPT09ICdudW1iZXInICYmIGwgPj0gMCAmJiBsIDw9IDEwMDtcbiAgICAgIH07XG5cbiAgICAgIGlmICghdmFsaWRhdGVIU0woZGF0YS5saWdodC5iYXNlKSB8fCAhdmFsaWRhdGVIU0woZGF0YS5saWdodC5hY2NlbnQpIHx8XG4gICAgICAgICAgIXZhbGlkYXRlSFNMKGRhdGEuZGFyay5iYXNlKSB8fCAhdmFsaWRhdGVIU0woZGF0YS5kYXJrLmFjY2VudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByZXNldCBmb3JtYXQ6IEhTTCB2YWx1ZXMgb3V0IG9mIHJhbmdlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIGFuZCBleHRyYWN0IGNvbG9yc1xuICAgICAgY29uc3QgZXh0cmFjdENvbG9ycyA9IChjb2xvcnM6IHVua25vd24pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvcnMgPT09ICdvYmplY3QnICYmIGNvbG9ycyAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfTtcblxuICAgICAgLy8gVmFsaWRhdGUgZnJhbWVMaWdodG5lc3NPZmZzZXRcbiAgICAgIGNvbnN0IGV4dHJhY3RGcmFtZU9mZnNldCA9IChvZmZzZXQ6IHVua25vd24pOiBudW1iZXIgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9O1xuXG4gICAgICAvLyBTYW5pdGl6ZSBhbmQgdmFsaWRhdGUgLSBlbnN1cmUgaWQgYW5kIG5hbWUgYXJlIHN0cmluZ3NcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByZXNldCBmb3JtYXQ6IGlkIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGF0YS5uYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcHJlc2V0IGZvcm1hdDogbmFtZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBpZFN0ciA9IGRhdGEuaWQ7XG4gICAgICBjb25zdCBuYW1lU3RyID0gZGF0YS5uYW1lO1xuICAgICAgY29uc3QgYXV0aG9yU3RyID0gdHlwZW9mIGRhdGEuYXV0aG9yID09PSAnc3RyaW5nJyA/IGRhdGEuYXV0aG9yIDogJyc7XG4gICAgICBjb25zdCB2ZXJzaW9uU3RyID0gdHlwZW9mIGRhdGEudmVyc2lvbiA9PT0gJ3N0cmluZycgPyBkYXRhLnZlcnNpb24gOiAnMS4wLjAnO1xuXG4gICAgICBjb25zdCBwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0ID0ge1xuICAgICAgICBpZDogdGhpcy5zYW5pdGl6ZVByZXNldE5hbWUoaWRTdHIpLFxuICAgICAgICBuYW1lOiB0aGlzLnNhbml0aXplUHJlc2V0TmFtZShuYW1lU3RyKSxcbiAgICAgICAgYXV0aG9yOiBhdXRob3JTdHIsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb25TdHIsXG4gICAgICAgIGxpZ2h0OiB7XG4gICAgICAgICAgYmFzZTogZGF0YS5saWdodC5iYXNlLFxuICAgICAgICAgIGFjY2VudDogZGF0YS5saWdodC5hY2NlbnQsXG4gICAgICAgICAgY29sb3JzOiBleHRyYWN0Q29sb3JzKGRhdGEubGlnaHQuY29sb3JzKSxcbiAgICAgICAgICBmcmFtZUxpZ2h0bmVzc09mZnNldDogZXh0cmFjdEZyYW1lT2Zmc2V0KGRhdGEubGlnaHQuZnJhbWVMaWdodG5lc3NPZmZzZXQpXG4gICAgICAgIH0sXG4gICAgICAgIGRhcms6IHtcbiAgICAgICAgICBiYXNlOiBkYXRhLmRhcmsuYmFzZSxcbiAgICAgICAgICBhY2NlbnQ6IGRhdGEuZGFyay5hY2NlbnQsXG4gICAgICAgICAgY29sb3JzOiBleHRyYWN0Q29sb3JzKGRhdGEuZGFyay5jb2xvcnMpLFxuICAgICAgICAgIGZyYW1lTGlnaHRuZXNzT2Zmc2V0OiBleHRyYWN0RnJhbWVPZmZzZXQoZGF0YS5kYXJrLmZyYW1lTGlnaHRuZXNzT2Zmc2V0KVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoIXByZXNldC5pZCB8fCAhcHJlc2V0Lm5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByZXNldCBmb3JtYXQ6IElEIG9yIG5hbWUgaXMgZW1wdHkgYWZ0ZXIgc2FuaXRpemF0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmVzZXQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OIGZvcm1hdCcpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwcmVzZXQgYnkgSURcbiAgICovXG4gIHN0YXRpYyBnZXRQcmVzZXRCeUlkKGlkOiBzdHJpbmcsIHByZXNldHM6IEN1c3RvbUNvbG9yUHJlc2V0W10pOiBDdXN0b21Db2xvclByZXNldCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHByZXNldHMuZmluZChwcmVzZXQgPT4gcHJlc2V0LmlkID09PSBpZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcHJlc2V0IGlzIGN1cnJlbnRseSBhY3RpdmVcbiAgICovXG4gIHN0YXRpYyBpc1ByZXNldEFjdGl2ZShwcmVzZXRJZDogc3RyaW5nLCBsaWdodFNjaGVtZTogc3RyaW5nLCBkYXJrU2NoZW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbGlnaHRTY2hlbWUgPT09IGBveHlnZW4tY3VzdG9tLSR7cHJlc2V0SWR9YCB8fCBcbiAgICAgICAgICAgZGFya1NjaGVtZSA9PT0gYG94eWdlbi1jdXN0b20tJHtwcmVzZXRJZH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgcHJldmlldyBvZiB0aGUgcHJlc2V0IGNvbG9yc1xuICAgKi9cbiAgc3RhdGljIGdlbmVyYXRlUHJlc2V0UHJldmlldyhwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0KTogeyBsaWdodDogc3RyaW5nW10sIGRhcms6IHN0cmluZ1tdIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBsaWdodDogW1xuICAgICAgICBoc2xUb0hleChwcmVzZXQubGlnaHQuYmFzZSksXG4gICAgICAgIGhzbFRvSGV4KHByZXNldC5saWdodC5hY2NlbnQpLFxuICAgICAgICBwcmVzZXQubGlnaHQuY29sb3JzPy5iZzEgfHwgaHNsVG9IZXgocHJlc2V0LmxpZ2h0LmJhc2UpLFxuICAgICAgICBwcmVzZXQubGlnaHQuY29sb3JzPy50eDEgfHwgaHNsVG9IZXgoeyAuLi5wcmVzZXQubGlnaHQuYmFzZSwgbDogTWF0aC5tYXgoMCwgcHJlc2V0LmxpZ2h0LmJhc2UubCAtIDMwKSB9KVxuICAgICAgXSxcbiAgICAgIGRhcms6IFtcbiAgICAgICAgaHNsVG9IZXgocHJlc2V0LmRhcmsuYmFzZSksXG4gICAgICAgIGhzbFRvSGV4KHByZXNldC5kYXJrLmFjY2VudCksXG4gICAgICAgIHByZXNldC5kYXJrLmNvbG9ycz8uYmcxIHx8IGhzbFRvSGV4KHByZXNldC5kYXJrLmJhc2UpLFxuICAgICAgICBwcmVzZXQuZGFyay5jb2xvcnM/LnR4MSB8fCBoc2xUb0hleCh7IC4uLnByZXNldC5kYXJrLmJhc2UsIGw6IE1hdGgubWluKDEwMCwgcHJlc2V0LmRhcmsuYmFzZS5sICsgMzApIH0pXG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuIiwgIi8qKlxuICogTW9kYWwgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGN1c3RvbSBjb2xvciBwcmVzZXRzXG4gKiBSZWZhY3RvcmVkIHRvIHVzZSBleHRyYWN0ZWQgVUkgY29tcG9uZW50cyBhbmQgdXRpbGl0aWVzXG4gKi9cblxuaW1wb3J0IHsgTW9kYWwsIFNldHRpbmcsIEFwcCwgc2V0SWNvbiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEN1c3RvbUNvbG9yUHJlc2V0IH0gZnJvbSAnLi4vcHJlc2V0cy9DdXN0b21QcmVzZXQnO1xuaW1wb3J0IHsgUHJlc2V0TWFuYWdlciB9IGZyb20gJy4uL3ByZXNldHMvUHJlc2V0TWFuYWdlcic7XG5pbXBvcnQgeyBoc2xUb0hleCB9IGZyb20gJy4uL3V0aWxzL2NvbG9yLXV0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUhTTENvbnRyb2xzLCBjcmVhdGVDb2xvck92ZXJyaWRlIH0gZnJvbSAnLi9jb21wb25lbnRzL1ByZXNldENvbG9yQ29udHJvbHMnO1xuaW1wb3J0IHsgc2V0Q3NzUHJvcCB9IGZyb20gJy4uL3V0aWxzL2Nzcy1wcm9wcyc7XG5pbXBvcnQgTWluaW1hbFRoZW1lIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgY2xhc3MgUHJlc2V0RWRpdG9yTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgcHJlc2V0OiBDdXN0b21Db2xvclByZXNldDtcbiAgcHJpdmF0ZSBpc0VkaXRpbmc6IGJvb2xlYW47XG4gIHByaXZhdGUgb25TYXZlOiAocHJlc2V0OiBDdXN0b21Db2xvclByZXNldCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBwbHVnaW46IE1pbmltYWxUaGVtZTtcbiAgXG4gIC8vIEZvcm0gZWxlbWVudHNcbiAgcHJpdmF0ZSBuYW1lSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgYXV0aG9ySW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgcHJldmlld1N3YXRjaDogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsIFxuICAgIHBsdWdpbjogTWluaW1hbFRoZW1lLFxuICAgIHByZXNldDogQ3VzdG9tQ29sb3JQcmVzZXQgfCBudWxsLCBcbiAgICBvblNhdmU6IChwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0KSA9PiB2b2lkXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5pc0VkaXRpbmcgPSBwcmVzZXQgIT09IG51bGw7XG4gICAgdGhpcy5wcmVzZXQgPSBwcmVzZXQgfHwgdGhpcy5jcmVhdGVEZWZhdWx0UHJlc2V0KCk7XG4gICAgdGhpcy5vblNhdmUgPSBvblNhdmU7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZURlZmF1bHRQcmVzZXQoKTogQ3VzdG9tQ29sb3JQcmVzZXQge1xuICAgIHJldHVybiBQcmVzZXRNYW5hZ2VyLmNyZWF0ZVByZXNldCgnTmV3IFByZXNldCcsICcnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzKTtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ3ByZXNldC1lZGl0b3ItbW9kYWwnKTtcblxuICAgIC8vIEhlYWRlclxuICAgIGNvbnN0IGhlYWRlciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RhbC1oZWFkZXInIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHRoaXMuaXNFZGl0aW5nID8gJ0VkaXQgcHJlc2V0JyA6ICdDcmVhdGUgbmV3IHByZXNldCcgfSk7XG5cbiAgICAvLyBCYXNpYyBpbmZvIHNlY3Rpb25cbiAgICBjb25zdCBiYXNpY0luZm8gPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbW9kYWwtc2VjdGlvbicgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhiYXNpY0luZm8pXG4gICAgICAuc2V0TmFtZSgnUHJlc2V0IG5hbWUnKVxuICAgICAgLnNldERlc2MoJ0EgdW5pcXVlIG5hbWUgZm9yIHlvdXIgY29sb3IgcHJlc2V0JylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICB0aGlzLm5hbWVJbnB1dCA9IHRleHQuaW5wdXRFbDtcbiAgICAgICAgdGV4dC5zZXRWYWx1ZSh0aGlzLnByZXNldC5uYW1lKVxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgcHJlc2V0IG5hbWUnKVxuICAgICAgICAgIC5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByZXNldC5uYW1lID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoYmFzaWNJbmZvKVxuICAgICAgLnNldE5hbWUoJ0F1dGhvciAob3B0aW9uYWwpJylcbiAgICAgIC5zZXREZXNjKCdZb3VyIG5hbWUgb3IgdGhlIGNyZWF0b3Igb2YgdGhpcyBwcmVzZXQnKVxuICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgIHRoaXMuYXV0aG9ySW5wdXQgPSB0ZXh0LmlucHV0RWw7XG4gICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5wcmVzZXQuYXV0aG9yIHx8ICcnKVxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgYXV0aG9yIG5hbWUnKVxuICAgICAgICAgIC5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByZXNldC5hdXRob3IgPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgLy8gQ29udGVudCBhcmVhIC0gc2hvdyBib3RoIG1vZGVzIGxpbmVhcmx5XG4gICAgY29uc3QgY29udGVudEFyZWEgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbW9kZXMtY29udGFpbmVyJyB9KTtcbiAgICBcbiAgICAvLyBMaWdodCBtb2RlIHNlY3Rpb25cbiAgICBjb25zdCBsaWdodFNlY3Rpb24gPSBjb250ZW50QXJlYS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RlLXNlY3Rpb24nIH0pO1xuICAgIGxpZ2h0U2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdMaWdodCBtb2RlJyB9KTtcbiAgICB0aGlzLmJ1aWxkTW9kZUNvbnRlbnQobGlnaHRTZWN0aW9uLCAnbGlnaHQnKTtcbiAgICBcbiAgICAvLyBEYXJrIG1vZGUgc2VjdGlvblxuICAgIGNvbnN0IGRhcmtTZWN0aW9uID0gY29udGVudEFyZWEuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbW9kZS1zZWN0aW9uJyB9KTtcbiAgICBkYXJrU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdEYXJrIG1vZGUnIH0pO1xuICAgIHRoaXMuYnVpbGRNb2RlQ29udGVudChkYXJrU2VjdGlvbiwgJ2RhcmsnKTtcblxuICAgIC8vIFByZXZpZXcgc2VjdGlvblxuICAgIGNvbnN0IHByZXZpZXdTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGFsLXNlY3Rpb24nIH0pO1xuICAgIHByZXZpZXdTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1ByZXZpZXcnIH0pO1xuICAgIHRoaXMucHJldmlld1N3YXRjaCA9IHByZXZpZXdTZWN0aW9uLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXZpZXctc3dhdGNoJyB9KTtcbiAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcblxuICAgIC8vIEZvb3RlciBidXR0b25zXG4gICAgY29uc3QgZm9vdGVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGFsLWZvb3RlcicgfSk7XG4gICAgXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZm9vdGVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDYW5jZWwnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICBjYW5jZWxCdG4ub25jbGljayA9ICgpID0+IHRoaXMuY2xvc2UoKTtcbiAgICBcbiAgICBjb25zdCBzYXZlQnRuID0gZm9vdGVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogdGhpcy5pc0VkaXRpbmcgPyAnVXBkYXRlJyA6ICdDcmVhdGUnLCBcbiAgICAgIGNsczogJ21vZC1jdGEnIFxuICAgIH0pO1xuICAgIHNhdmVCdG4ub25jbGljayA9ICgpID0+IHRoaXMuc2F2ZVByZXNldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZE1vZGVDb250ZW50KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG1vZGU6ICdsaWdodCcgfCAnZGFyaycpIHtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb25zdCBwYWxldHRlID0gbW9kZSA9PT0gJ2xpZ2h0JyA/IHRoaXMucHJlc2V0LmxpZ2h0IDogdGhpcy5wcmVzZXQuZGFyaztcblxuICAgIC8vIFJlcXVpcmVkIGNvbG9ycyBzZWN0aW9uXG4gICAgY29uc3QgcmVxdWlyZWRTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2NvbG9yLXNlY3Rpb24nIH0pO1xuICAgIGNvbnN0IGhlYWRlclRleHQgPSBtb2RlID09PSAnbGlnaHQnID8gJ0xpZ2h0IHRoZW1lIGNvbG9ycycgOiAnRGFyayB0aGVtZSBjb2xvcnMnO1xuICAgIHJlcXVpcmVkU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IGhlYWRlclRleHQgfSk7XG5cbiAgICAvLyBCYXNlIGNvbG9yXG4gICAgY29uc3QgYmFzZVNlY3Rpb24gPSByZXF1aXJlZFNlY3Rpb24uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3ItZ3JvdXAnIH0pO1xuICAgIGJhc2VTZWN0aW9uLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ0Jhc2UgY29sb3InIH0pO1xuICAgIGNyZWF0ZUhTTENvbnRyb2xzKGJhc2VTZWN0aW9uLCBwYWxldHRlLmJhc2UsIChoc2wpID0+IHtcbiAgICAgIGlmIChtb2RlID09PSAnbGlnaHQnKSB7XG4gICAgICAgIHRoaXMucHJlc2V0LmxpZ2h0LmJhc2UgPSBoc2w7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByZXNldC5kYXJrLmJhc2UgPSBoc2w7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICB9KTtcblxuICAgIC8vIEFjY2VudCBjb2xvclxuICAgIGNvbnN0IGFjY2VudFNlY3Rpb24gPSByZXF1aXJlZFNlY3Rpb24uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3ItZ3JvdXAnIH0pO1xuICAgIGFjY2VudFNlY3Rpb24uY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnQWNjZW50IGNvbG9yJyB9KTtcbiAgICBjcmVhdGVIU0xDb250cm9scyhhY2NlbnRTZWN0aW9uLCBwYWxldHRlLmFjY2VudCwgKGhzbCkgPT4ge1xuICAgICAgaWYgKG1vZGUgPT09ICdsaWdodCcpIHtcbiAgICAgICAgdGhpcy5wcmVzZXQubGlnaHQuYWNjZW50ID0gaHNsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcmVzZXQuZGFyay5hY2NlbnQgPSBoc2w7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICB9KTtcblxuICAgIC8vIENvbG9yZnVsIGZyYW1lIGxpZ2h0bmVzcyBvdmVycmlkZSAob3B0aW9uYWwpXG4gICAgY29uc3QgZnJhbWVTZWN0aW9uID0gcmVxdWlyZWRTZWN0aW9uLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2NvbG9yLWdyb3VwJyB9KTtcbiAgICBmcmFtZVNlY3Rpb24uY3JlYXRlRWwoJ2xhYmVsJywgeyB0ZXh0OiAnQ29sb3JmdWwgZnJhbWUgbGlnaHRuZXNzIG92ZXJyaWRlIChvcHRpb25hbCknLCBjbHM6ICdmcmFtZS1sYWJlbCcgfSk7XG4gICAgY29uc3QgZnJhbWVEZXNjID0gZnJhbWVTZWN0aW9uLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3NldHRpbmctaXRlbS1kZXNjcmlwdGlvbiBmcmFtZS1kZXNjcmlwdGlvbicgfSk7XG4gICAgZnJhbWVEZXNjLnRleHRDb250ZW50ID0gbW9kZSA9PT0gJ2RhcmsnIFxuICAgICAgPyAnT2Zmc2V0IGZyb20gYWNjZW50IGxpZ2h0bmVzcyBmb3IgY29sb3JmdWwgZnJhbWUuIERlZmF1bHQ6IC0yNSAoZGFya2VucyBieSAyNSUpLiBMZWF2ZSBlbXB0eSBmb3IgZGVmYXVsdC4nXG4gICAgICA6ICdPZmZzZXQgZnJvbSBhY2NlbnQgbGlnaHRuZXNzIGZvciBjb2xvcmZ1bCBmcmFtZS4gRGVmYXVsdDogKzMwIChicmlnaHRlbnMgYnkgMzAlKS4gTGVhdmUgZW1wdHkgZm9yIGRlZmF1bHQuJztcbiAgICBcbiAgICBjb25zdCBmcmFtZUlucHV0ID0gZnJhbWVTZWN0aW9uLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ251bWJlcicsIGNsczogJ2ZyYW1lLWlucHV0JyB9KTtcbiAgICBmcmFtZUlucHV0LnBsYWNlaG9sZGVyID0gbW9kZSA9PT0gJ2RhcmsnID8gJy0yNScgOiAnKzMwJztcbiAgICBmcmFtZUlucHV0Lm1pbiA9ICctMTAwJztcbiAgICBmcmFtZUlucHV0Lm1heCA9ICcxMDAnO1xuICAgIGZyYW1lSW5wdXQuc3RlcCA9ICc1JztcbiAgICBpZiAocGFsZXR0ZS5mcmFtZUxpZ2h0bmVzc09mZnNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmcmFtZUlucHV0LnZhbHVlID0gcGFsZXR0ZS5mcmFtZUxpZ2h0bmVzc09mZnNldC50b1N0cmluZygpO1xuICAgIH1cbiAgICBcbiAgICBmcmFtZUlucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGZyYW1lSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAvLyBDbGVhciBvdmVycmlkZSAtIHVzZSB0aGVtZSBkZWZhdWx0XG4gICAgICAgIGlmIChtb2RlID09PSAnbGlnaHQnKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMucHJlc2V0LmxpZ2h0LmZyYW1lTGlnaHRuZXNzT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnByZXNldC5kYXJrLmZyYW1lTGlnaHRuZXNzT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgICAgIGlmIChtb2RlID09PSAnbGlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNldC5saWdodC5mcmFtZUxpZ2h0bmVzc09mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmVzZXQuZGFyay5mcmFtZUxpZ2h0bmVzc09mZnNldCA9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlUHJldmlldygpO1xuICAgIH07XG5cbiAgICAvLyBBZHZhbmNlZCBvdmVycmlkZXMgKGNvbGxhcHNpYmxlKVxuICAgIGNvbnN0IGFkdmFuY2VkU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1zZWN0aW9uJyB9KTtcbiAgICBjb25zdCBhZHZhbmNlZEhlYWRlciA9IGFkdmFuY2VkU2VjdGlvbi5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xsYXBzaWJsZS1oZWFkZXInIH0pO1xuICAgIGFkdmFuY2VkSGVhZGVyLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0FkdmFuY2VkIG92ZXJyaWRlcyAob3B0aW9uYWwpJyB9KTtcbiAgICBjb25zdCBhZHZhbmNlZFRvZ2dsZSA9IGFkdmFuY2VkSGVhZGVyLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgY2xzOiAnY29sbGFwc2UtdG9nZ2xlJyBcbiAgICB9KTtcbiAgICBzZXRJY29uKGFkdmFuY2VkVG9nZ2xlLCAnY2hldnJvbi1kb3duJyk7XG5cbiAgICAvLyBJbml0aWFsaXplIGNvbG9ycyBvYmplY3QgaWYgbm90IGV4aXN0c1xuICAgIGlmICghcGFsZXR0ZS5jb2xvcnMpIHtcbiAgICAgIHBhbGV0dGUuY29sb3JzID0ge307XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGNvbG9yIG92ZXJyaWRlc1xuICAgIGNvbnN0IGFkdmFuY2VkSXRlbXM6IEhUTUxFbGVtZW50W10gPSBbXTtcbiAgICBjb25zdCBvdmVycmlkZUtleXMgPSBbJ2JnMScsICdiZzInLCAnYmczJywgJ3VpMScsICd1aTInLCAndWkzJywgJ3R4MScsICd0eDInLCAndHgzJywgJ3R4NCcsICdobDEnLCAnaGwyJ107XG4gICAgY29uc3Qgb3ZlcnJpZGVMYWJlbHMgPSBbJ0JhY2tncm91bmQgMScsICdCYWNrZ3JvdW5kIDInLCAnQmFja2dyb3VuZCAzJywgJ1VJIDEnLCAnVUkgMicsICdVSSAzJywgJ1RleHQgMScsICdUZXh0IDInLCAnVGV4dCAzJywgJ1RleHQgNCcsICdIaWdobGlnaHQgMScsICdIaWdobGlnaHQgMiddO1xuICAgIGNvbnN0IGNvbG9ycyA9IHBhbGV0dGUuY29sb3JzOyAvLyBUeXBlU2NyaXB0IG5vdyBrbm93cyB0aGlzIGlzIGRlZmluZWRcbiAgICBcbiAgICBvdmVycmlkZUtleXMuZm9yRWFjaCgoa2V5LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGNyZWF0ZUNvbG9yT3ZlcnJpZGUoXG4gICAgICAgIGFkdmFuY2VkU2VjdGlvbiwgXG4gICAgICAgIG92ZXJyaWRlTGFiZWxzW2luZGV4XSwgXG4gICAgICAgIGtleSwgXG4gICAgICAgIGNvbG9ycywgXG4gICAgICAgIHBhbGV0dGUsXG4gICAgICAgICgpID0+IHRoaXMudXBkYXRlUHJldmlldygpXG4gICAgICApO1xuICAgICAgYWR2YW5jZWRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgaXRlbS5hZGRDbGFzcygnY29sbGFwc2libGUtY29udGVudC1pdGVtJyk7IC8vIEhpZGUgYnkgZGVmYXVsdFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5XG4gICAgYWR2YW5jZWRUb2dnbGUub25jbGljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGlzQ29sbGFwc2VkID0gIWFkdmFuY2VkSXRlbXNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdleHBhbmRlZCcpO1xuICAgICAgYWR2YW5jZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICBpdGVtLmFkZENsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2V0SWNvbihhZHZhbmNlZFRvZ2dsZSwgaXNDb2xsYXBzZWQgPyAnY2hldnJvbi11cCcgOiAnY2hldnJvbi1kb3duJyk7XG4gICAgfTtcblxuICAgIC8vIFN5bnRheCBjb2xvcnMgKGNvbGxhcHNpYmxlKVxuICAgIGNvbnN0IHN5bnRheFNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3Itc2VjdGlvbicgfSk7XG4gICAgY29uc3Qgc3ludGF4SGVhZGVyID0gc3ludGF4U2VjdGlvbi5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xsYXBzaWJsZS1oZWFkZXInIH0pO1xuICAgIHN5bnRheEhlYWRlci5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdTeW50YXggY29sb3JzIChvcHRpb25hbCknIH0pO1xuICAgIGNvbnN0IHN5bnRheFRvZ2dsZSA9IHN5bnRheEhlYWRlci5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgIGNsczogJ2NvbGxhcHNlLXRvZ2dsZScgXG4gICAgfSk7XG4gICAgc2V0SWNvbihzeW50YXhUb2dnbGUsICdjaGV2cm9uLWRvd24nKTtcblxuICAgIC8vIENyZWF0ZSBzeW50YXggY29sb3Igb3ZlcnJpZGVzXG4gICAgY29uc3Qgc3ludGF4Q29sb3JzID0gWydyZWQnLCAnb3JhbmdlJywgJ3llbGxvdycsICdncmVlbicsICdjeWFuJywgJ2JsdWUnLCAncHVycGxlJywgJ3BpbmsnXTtcbiAgICBjb25zdCBzeW50YXhJdGVtczogSFRNTEVsZW1lbnRbXSA9IFtdO1xuICAgIFxuICAgIHN5bnRheENvbG9ycy5mb3JFYWNoKGNvbG9yID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBjcmVhdGVDb2xvck92ZXJyaWRlKFxuICAgICAgICBzeW50YXhTZWN0aW9uLCBcbiAgICAgICAgY29sb3IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb2xvci5zbGljZSgxKSwgXG4gICAgICAgIGNvbG9yLCBcbiAgICAgICAgY29sb3JzLCBcbiAgICAgICAgcGFsZXR0ZSxcbiAgICAgICAgKCkgPT4gdGhpcy51cGRhdGVQcmV2aWV3KClcbiAgICAgICk7XG4gICAgICBzeW50YXhJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgaXRlbS5hZGRDbGFzcygnY29sbGFwc2libGUtY29udGVudC1pdGVtJyk7IC8vIEhpZGUgYnkgZGVmYXVsdFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5XG4gICAgc3ludGF4VG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBpc0NvbGxhcHNlZCA9ICFzeW50YXhJdGVtc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2V4cGFuZGVkJyk7XG4gICAgICBzeW50YXhJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICBpdGVtLmFkZENsYXNzKCdleHBhbmRlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2V0SWNvbihzeW50YXhUb2dnbGUsIGlzQ29sbGFwc2VkID8gJ2NoZXZyb24tdXAnIDogJ2NoZXZyb24tZG93bicpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVByZXZpZXcoKSB7XG4gICAgdGhpcy5wcmV2aWV3U3dhdGNoLmVtcHR5KCk7XG4gICAgXG4gICAgLy8gTGl2ZSBwcmV2aWV3OiB0ZW1wb3JhcmlseSB1cGRhdGUgdGhlIHBsdWdpbidzIHByZXNldCBkYXRhIHRvIHNob3cgY2hhbmdlcyBpbiByZWFsLXRpbWVcbiAgICBjb25zdCBwcmVzZXRJbmRleCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gdGhpcy5wcmVzZXQuaWQpO1xuICAgIGlmIChwcmVzZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgIC8vIFRlbXBvcmFyaWx5IHVwZGF0ZSB0aGUgcHJlc2V0IGluIHNldHRpbmdzXG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzW3ByZXNldEluZGV4XSA9IHRoaXMucHJlc2V0O1xuICAgICAgXG4gICAgICAvLyBBcHBseSBjaGFuZ2VzIGlmIHRoaXMgcHJlc2V0IGlzIGN1cnJlbnRseSBhY3RpdmVcbiAgICAgIGNvbnN0IHByZXNldFNjaGVtZUlkID0gYG94eWdlbi1jdXN0b20tJHt0aGlzLnByZXNldC5pZH1gO1xuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxpZ2h0U2NoZW1lID09PSBwcmVzZXRTY2hlbWVJZCB8fCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lID09PSBwcmVzZXRTY2hlbWVJZCkge1xuICAgICAgICB0aGlzLnBsdWdpbi51cGRhdGVTdHlsZSgpO1xuICAgICAgICB0aGlzLnBsdWdpbi51cGRhdGVDdXN0b21QcmVzZXRDU1MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IGNvbG9ycyBmb3IgYm90aCBtb2Rlc1xuICAgIGNvbnN0IGxpZ2h0UGFsZXR0ZSA9IHRoaXMucHJlc2V0LmxpZ2h0O1xuICAgIGNvbnN0IGRhcmtQYWxldHRlID0gdGhpcy5wcmVzZXQuZGFyaztcbiAgICBcbiAgICBjb25zdCBsaWdodEJhc2VIZXggPSBoc2xUb0hleChsaWdodFBhbGV0dGUuYmFzZSk7XG4gICAgY29uc3QgbGlnaHRBY2NlbnRIZXggPSBoc2xUb0hleChsaWdodFBhbGV0dGUuYWNjZW50KTtcbiAgICBjb25zdCBkYXJrQmFzZUhleCA9IGhzbFRvSGV4KGRhcmtQYWxldHRlLmJhc2UpO1xuICAgIGNvbnN0IGRhcmtBY2NlbnRIZXggPSBoc2xUb0hleChkYXJrUGFsZXR0ZS5hY2NlbnQpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBMaWdodCBNb2RlIHNlY3Rpb25cbiAgICBjb25zdCBsaWdodFJvdyA9IHRoaXMucHJldmlld1N3YXRjaC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdwcmV2aWV3LXJvdycgfSk7XG4gICAgbGlnaHRSb3cuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogJ0xpZ2h0IG1vZGUnLCBjbHM6ICdwcmV2aWV3LWxhYmVsJyB9KTtcbiAgICBjb25zdCBsaWdodENvbG9ycyA9IGxpZ2h0Um93LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXZpZXctY29sb3JzJyB9KTtcbiAgICBjb25zdCBsaWdodEJhc2VDb2xvciA9IGxpZ2h0Q29sb3JzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXZpZXctY29sb3InIH0pO1xuICAgIGxpZ2h0QmFzZUNvbG9yLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicsIGxpZ2h0QmFzZUhleCk7XG4gICAgc2V0Q3NzUHJvcChsaWdodEJhc2VDb2xvciwgJy0tcHJldmlldy1jb2xvcicsIGxpZ2h0QmFzZUhleCk7XG4gICAgY29uc3QgbGlnaHRBY2NlbnRDb2xvciA9IGxpZ2h0Q29sb3JzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXZpZXctY29sb3InIH0pO1xuICAgIGxpZ2h0QWNjZW50Q29sb3Iuc2V0QXR0cmlidXRlKCdkYXRhLWNvbG9yJywgbGlnaHRBY2NlbnRIZXgpO1xuICAgIHNldENzc1Byb3AobGlnaHRBY2NlbnRDb2xvciwgJy0tcHJldmlldy1jb2xvcicsIGxpZ2h0QWNjZW50SGV4KTtcbiAgICBcbiAgICAvLyBDcmVhdGUgRGFyayBNb2RlIHNlY3Rpb25cbiAgICBjb25zdCBkYXJrUm93ID0gdGhpcy5wcmV2aWV3U3dhdGNoLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXZpZXctcm93JyB9KTtcbiAgICBkYXJrUm93LmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdEYXJrIG1vZGUnLCBjbHM6ICdwcmV2aWV3LWxhYmVsJyB9KTtcbiAgICBjb25zdCBkYXJrQ29sb3JzID0gZGFya1Jvdy5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdwcmV2aWV3LWNvbG9ycycgfSk7XG4gICAgY29uc3QgZGFya0Jhc2VDb2xvciA9IGRhcmtDb2xvcnMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAncHJldmlldy1jb2xvcicgfSk7XG4gICAgZGFya0Jhc2VDb2xvci5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InLCBkYXJrQmFzZUhleCk7XG4gICAgc2V0Q3NzUHJvcChkYXJrQmFzZUNvbG9yLCAnLS1wcmV2aWV3LWNvbG9yJywgZGFya0Jhc2VIZXgpO1xuICAgIGNvbnN0IGRhcmtBY2NlbnRDb2xvciA9IGRhcmtDb2xvcnMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAncHJldmlldy1jb2xvcicgfSk7XG4gICAgZGFya0FjY2VudENvbG9yLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicsIGRhcmtBY2NlbnRIZXgpO1xuICAgIHNldENzc1Byb3AoZGFya0FjY2VudENvbG9yLCAnLS1wcmV2aWV3LWNvbG9yJywgZGFya0FjY2VudEhleCk7XG4gIH1cblxuICBwcml2YXRlIHNhdmVQcmVzZXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFZhbGlkYXRlIHByZXNldFxuICAgICAgaWYgKCF0aGlzLnByZXNldC5uYW1lLnRyaW0oKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXNldCBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdlbmVyYXRlIElEIGlmIGNyZWF0aW5nIG5ldyBwcmVzZXRcbiAgICAgIGlmICghdGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5wcmVzZXQuaWQgPSBQcmVzZXRNYW5hZ2VyLmNyZWF0ZVByZXNldChcbiAgICAgICAgICB0aGlzLnByZXNldC5uYW1lLCBcbiAgICAgICAgICB0aGlzLnByZXNldC5hdXRob3IgfHwgJycsIFxuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHNcbiAgICAgICAgKS5pZDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vblNhdmUodGhpcy5wcmVzZXQpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHJlc2V0OicsIGVycm9yKTtcbiAgICAgIC8vIENvdWxkIHNob3cgZXJyb3IgbWVzc2FnZSB0byB1c2VyIGhlcmVcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG5cbiIsICIvKipcclxuICogRGVmYXVsdCBjb2xvciBjYWxjdWxhdGlvbiBmb3IgcHJlc2V0IG92ZXJyaWRlc1xyXG4gKiBHZW5lcmF0ZXMgaW50ZWxsaWdlbnQgZGVmYXVsdHMgYmFzZWQgb24gYmFzZSBhbmQgYWNjZW50IGNvbG9yc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbG9yUGFsZXR0ZSB9IGZyb20gJy4uL3ByZXNldHMvQ3VzdG9tUHJlc2V0JztcclxuaW1wb3J0IHsgaHNsVG9IZXggfSBmcm9tICcuL2NvbG9yLXV0aWxzJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgZGVmYXVsdCBjb2xvciB2YWx1ZSBmb3IgYSBnaXZlbiBjb2xvciBrZXlcclxuICogQHBhcmFtIGtleSAtIENvbG9yIGtleSAoYmcxLCB0eDEsIHJlZCwgZXRjLilcclxuICogQHBhcmFtIHBhbGV0dGUgLSBCYXNlIHBhbGV0dGUgd2l0aCBiYXNlIGFuZCBhY2NlbnQgY29sb3JzXHJcbiAqIEByZXR1cm5zIEhleCBjb2xvciBzdHJpbmdcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0Q29sb3JGb3JLZXkoa2V5OiBzdHJpbmcsIHBhbGV0dGU6IENvbG9yUGFsZXR0ZSk6IHN0cmluZyB7XHJcbiAgY29uc3QgYmFzZUggPSBwYWxldHRlLmJhc2UuaDtcclxuICBjb25zdCBiYXNlUyA9IHBhbGV0dGUuYmFzZS5zO1xyXG4gIGNvbnN0IGJhc2VMID0gcGFsZXR0ZS5iYXNlLmw7XHJcbiAgY29uc3QgYWNjZW50SCA9IHBhbGV0dGUuYWNjZW50Lmg7XHJcbiAgXHJcbiAgY29uc3QgaXNMaWdodEJhc2UgPSBiYXNlTCA+IDUwO1xyXG4gIFxyXG4gIC8vIFN5bnRheCBjb2xvcnMgLSBhY3R1YWwgY29sb3JzIVxyXG4gIGNvbnN0IHN5bnRheERlZmF1bHRzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG4gICAgJ3JlZCc6ICcjZTc0YzNjJyxcclxuICAgICdvcmFuZ2UnOiAnI2U2N2UyMicsXHJcbiAgICAneWVsbG93JzogJyNmMzljMTInLFxyXG4gICAgJ2dyZWVuJzogJyMyN2FlNjAnLFxyXG4gICAgJ2N5YW4nOiAnIzE2YTA4NScsXHJcbiAgICAnYmx1ZSc6ICcjMzQ5OGRiJyxcclxuICAgICdwdXJwbGUnOiAnIzliNTliNicsXHJcbiAgICAncGluayc6ICcjZTkxZTYzJ1xyXG4gIH07XHJcbiAgXHJcbiAgaWYgKHN5bnRheERlZmF1bHRzW2tleV0pIHtcclxuICAgIHJldHVybiBzeW50YXhEZWZhdWx0c1trZXldO1xyXG4gIH1cclxuICBcclxuICAvLyBDYWxjdWxhdGUgZGVyaXZlZCBjb2xvcnMgYmFzZWQgb24gdGhlbWUgYW5kIGNvbnZlcnQgdG8gaGV4XHJcbiAgbGV0IHM6IG51bWJlciwgbDogbnVtYmVyO1xyXG4gIFxyXG4gIHN3aXRjaChrZXkpIHtcclxuICAgIGNhc2UgJ2JnMSc6XHJcbiAgICAgIHJldHVybiBoc2xUb0hleCh7IGg6IGJhc2VILCBzOiBiYXNlUywgbDogYmFzZUwgfSk7XHJcbiAgICBjYXNlICdiZzInOlxyXG4gICAgICBsID0gaXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDUpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDUpO1xyXG4gICAgICByZXR1cm4gaHNsVG9IZXgoeyBoOiBiYXNlSCwgczogYmFzZVMsIGwgfSk7XHJcbiAgICBjYXNlICdiZzMnOlxyXG4gICAgICBsID0gaXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDEwKSA6IE1hdGgubWluKDEwMCwgYmFzZUwgKyAxMCk7XHJcbiAgICAgIHJldHVybiBoc2xUb0hleCh7IGg6IGJhc2VILCBzOiBiYXNlUywgbCB9KTtcclxuICAgIGNhc2UgJ3VpMSc6XHJcbiAgICAgIGwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gMTUpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDE1KTtcclxuICAgICAgcmV0dXJuIGhzbFRvSGV4KHsgaDogYmFzZUgsIHM6IGJhc2VTLCBsIH0pO1xyXG4gICAgY2FzZSAndWkyJzpcclxuICAgICAgbCA9IGlzTGlnaHRCYXNlID8gTWF0aC5tYXgoMCwgYmFzZUwgLSAxMCkgOiBNYXRoLm1pbigxMDAsIGJhc2VMICsgMTApO1xyXG4gICAgICByZXR1cm4gaHNsVG9IZXgoeyBoOiBiYXNlSCwgczogYmFzZVMsIGwgfSk7XHJcbiAgICBjYXNlICd1aTMnOlxyXG4gICAgICBsID0gaXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDUpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDUpO1xyXG4gICAgICByZXR1cm4gaHNsVG9IZXgoeyBoOiBiYXNlSCwgczogYmFzZVMsIGwgfSk7XHJcbiAgICBjYXNlICd0eDEnOlxyXG4gICAgICBzID0gTWF0aC5tYXgoMCwgYmFzZVMgLSAxMCk7XHJcbiAgICAgIGwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gODcpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDc3KTtcclxuICAgICAgcmV0dXJuIGhzbFRvSGV4KHsgaDogYmFzZUgsIHMsIGwgfSk7XHJcbiAgICBjYXNlICd0eDInOlxyXG4gICAgICBzID0gTWF0aC5tYXgoMCwgYmFzZVMgLSAyMCk7XHJcbiAgICAgIGwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gNTMpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDQ1KTtcclxuICAgICAgcmV0dXJuIGhzbFRvSGV4KHsgaDogYmFzZUgsIHMsIGwgfSk7XHJcbiAgICBjYXNlICd0eDMnOlxyXG4gICAgICBzID0gTWF0aC5tYXgoMCwgYmFzZVMgLSAxMCk7XHJcbiAgICAgIGwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gNzgpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDMwKTtcclxuICAgICAgcmV0dXJuIGhzbFRvSGV4KHsgaDogYmFzZUgsIHMsIGwgfSk7XHJcbiAgICBjYXNlICd0eDQnOlxyXG4gICAgICBzID0gTWF0aC5tYXgoMCwgYmFzZVMgLSAxMCk7XHJcbiAgICAgIGwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gNDgpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDQwKTtcclxuICAgICAgcmV0dXJuIGhzbFRvSGV4KHsgaDogYmFzZUgsIHMsIGwgfSk7XHJcbiAgICBjYXNlICdobDEnOlxyXG4gICAgICAvLyBTZW1pLXRyYW5zcGFyZW50IGFjY2VudCBjb2xvciAtIGZvciBjb2xvciBpbnB1dCwgdXNlIG9wYXF1ZSB2ZXJzaW9uXHJcbiAgICAgIHJldHVybiBoc2xUb0hleCh7IGg6IGFjY2VudEgsIHM6IDUwLCBsOiA0MCB9KTtcclxuICAgIGNhc2UgJ2hsMic6XHJcbiAgICAgIC8vIE9yYW5nZSBoaWdobGlnaHRcclxuICAgICAgcmV0dXJuICcjZmZiMTUwJztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiAnIzAwMDAwMCc7XHJcbiAgfVxyXG59XHJcblxyXG4iLCAiLyoqXG4gKiBSZXVzYWJsZSBVSSBjb21wb25lbnRzIGZvciBwcmVzZXQgY29sb3IgY29udHJvbHNcbiAqIEhTTCBzbGlkZXJzIGFuZCBjb2xvciBvdmVycmlkZSBpbnB1dHNcbiAqL1xuXG5pbXBvcnQgeyBIU0xDb2xvciwgQ29sb3JPdmVycmlkZXMgfSBmcm9tICcuLi8uLi9wcmVzZXRzL0N1c3RvbVByZXNldCc7XG5pbXBvcnQgeyBoc2xUb0hleCwgaGV4VG9IU0wsIHZhbGlkYXRlSGV4IH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sb3ItdXRpbHMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdENvbG9yRm9yS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJlc2V0LWNvbG9yLWRlZmF1bHRzJztcbmltcG9ydCB7IHNldENzc1Byb3AgfSBmcm9tICcuLi8uLi91dGlscy9jc3MtcHJvcHMnO1xuXG4vKipcbiAqIENyZWF0ZSBIU0wgY29sb3IgY29udHJvbHMgKEgsIFMsIEwgc2xpZGVycyB3aXRoIGxpdmUgcHJldmlldylcbiAqIEBwYXJhbSBjb250YWluZXIgLSBQYXJlbnQgSFRNTEVsZW1lbnQgdG8gYXBwZW5kIGNvbnRyb2xzIHRvXG4gKiBAcGFyYW0gaHNsIC0gSW5pdGlhbCBIU0wgY29sb3IgdmFsdWVzXG4gKiBAcGFyYW0gb25DaGFuZ2UgLSBDYWxsYmFjayB3aGVuIGNvbG9yIGNoYW5nZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhTTENvbnRyb2xzKFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgaHNsOiBIU0xDb2xvciwgXG4gIG9uQ2hhbmdlOiAoaHNsOiBIU0xDb2xvcikgPT4gdm9pZFxuKTogdm9pZCB7XG4gIGNvbnN0IGNvbnRyb2xzID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2hzbC1jb250cm9scycgfSk7XG4gIFxuICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBIU0wgb2JqZWN0IHRvIGF2b2lkIG1vZGlmeWluZyB0aGUgb3JpZ2luYWxcbiAgY29uc3QgaHNsQ29weSA9IHsgLi4uaHNsIH07XG4gIFxuICAvLyBDb2xvciBwcmV2aWV3IChjbGlja2FibGUpIC0gd3JhcHBlciB3aXRoIHJlbGF0aXZlIHBvc2l0aW9uaW5nXG4gIGNvbnN0IHByZXZpZXdXcmFwcGVyID0gY29udHJvbHMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3ItcHJldmlldy13cmFwcGVyJyB9KTtcblxuICBjb25zdCBwcmV2aWV3ID0gcHJldmlld1dyYXBwZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3ItcHJldmlldycgfSk7XG4gIHNldENzc1Byb3AocHJldmlldywgJy0tcHJldmlldy1jb2xvcicsIGhzbFRvSGV4KGhzbENvcHkpKTtcbiAgcHJldmlldy50aXRsZSA9ICdDbGljayB0byBwaWNrIGEgY29sb3Igd2l0aCBoZXggaW5wdXQnO1xuICBcbiAgLy8gQ29sb3IgaW5wdXQgcG9zaXRpb25lZCBvdmVyIHRoZSBwcmV2aWV3XG4gIGNvbnN0IGNvbG9ySW5wdXQgPSBwcmV2aWV3V3JhcHBlci5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIGNsczogJ2hzbC1jb2xvci1pbnB1dC1vdmVybGF5JyB9KTtcbiAgY29sb3JJbnB1dC52YWx1ZSA9IGhzbFRvSGV4KGhzbENvcHkpO1xuICBcbiAgLy8gVXBkYXRlIHByZXZpZXcgZnVuY3Rpb25cbiAgY29uc3QgdXBkYXRlUHJldmlldyA9ICgpID0+IHtcbiAgICBjb25zdCBoZXhDb2xvciA9IGhzbFRvSGV4KGhzbENvcHkpO1xuICAgIHNldENzc1Byb3AocHJldmlldywgJy0tcHJldmlldy1jb2xvcicsIGhleENvbG9yKTtcbiAgICBjb2xvcklucHV0LnZhbHVlID0gaGV4Q29sb3I7XG4gIH07XG4gIFxuICAvLyBXaGVuIHVzZXIgcGlja3MgYSBjb2xvciB3aXRoIHRoZSBjb2xvciBpbnB1dCwgdXBkYXRlIEhTTCB2YWx1ZXNcbiAgY29sb3JJbnB1dC5vbmNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdIU0wgPSBoZXhUb0hTTChjb2xvcklucHV0LnZhbHVlKTtcbiAgICBoc2xDb3B5LmggPSBuZXdIU0wuaDtcbiAgICBoc2xDb3B5LnMgPSBuZXdIU0wucztcbiAgICBoc2xDb3B5LmwgPSBuZXdIU0wubDtcbiAgICBcbiAgICAvLyBVcGRhdGUgYWxsIHNsaWRlciB2YWx1ZXMgYW5kIGxhYmVsc1xuICAgIGh1ZVNsaWRlci52YWx1ZSA9IG5ld0hTTC5oLnRvU3RyaW5nKCk7XG4gICAgaHVlVmFsdWUudGV4dENvbnRlbnQgPSBuZXdIU0wuaC50b1N0cmluZygpO1xuICAgIHNhdFNsaWRlci52YWx1ZSA9IG5ld0hTTC5zLnRvU3RyaW5nKCk7XG4gICAgc2F0VmFsdWUudGV4dENvbnRlbnQgPSBuZXdIU0wucy50b1N0cmluZygpO1xuICAgIGxpZ2h0U2xpZGVyLnZhbHVlID0gbmV3SFNMLmwudG9TdHJpbmcoKTtcbiAgICBsaWdodFZhbHVlLnRleHRDb250ZW50ID0gbmV3SFNMLmwudG9TdHJpbmcoKTtcbiAgICBcbiAgICB1cGRhdGVQcmV2aWV3KCk7XG4gICAgb25DaGFuZ2UoaHNsQ29weSk7XG4gIH07XG4gIFxuICAvLyBIdWVcbiAgY29uc3QgaHVlQ29udHJvbCA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2hzbC1jb250cm9sJyB9KTtcbiAgaHVlQ29udHJvbC5jcmVhdGVFbCgnbGFiZWwnLCB7IHRleHQ6ICdIdWUnIH0pO1xuICBjb25zdCBodWVTbGlkZXIgPSBodWVDb250cm9sLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3JhbmdlJyB9KTtcbiAgaHVlU2xpZGVyLm1pbiA9ICcwJztcbiAgaHVlU2xpZGVyLm1heCA9ICczNjAnO1xuICBjb25zdCBodWVWYWx1ZSA9IGh1ZUNvbnRyb2wuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGhzbC5oLnRvU3RyaW5nKCkgfSk7XG4gIGh1ZVNsaWRlci52YWx1ZSA9IGhzbC5oLnRvU3RyaW5nKCk7XG4gIGh1ZVNsaWRlci5vbmlucHV0ID0gKCkgPT4ge1xuICAgIGhzbENvcHkuaCA9IHBhcnNlSW50KGh1ZVNsaWRlci52YWx1ZSk7XG4gICAgaHVlVmFsdWUudGV4dENvbnRlbnQgPSBoc2xDb3B5LmgudG9TdHJpbmcoKTtcbiAgICB1cGRhdGVQcmV2aWV3KCk7XG4gICAgb25DaGFuZ2UoaHNsQ29weSk7XG4gIH07XG5cbiAgLy8gU2F0dXJhdGlvblxuICBjb25zdCBzYXRDb250cm9sID0gY29udHJvbHMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnaHNsLWNvbnRyb2wnIH0pO1xuICBzYXRDb250cm9sLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ1NhdHVyYXRpb24nIH0pO1xuICBjb25zdCBzYXRTbGlkZXIgPSBzYXRDb250cm9sLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3JhbmdlJyB9KTtcbiAgc2F0U2xpZGVyLm1pbiA9ICcwJztcbiAgc2F0U2xpZGVyLm1heCA9ICcxMDAnO1xuICBjb25zdCBzYXRWYWx1ZSA9IHNhdENvbnRyb2wuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGhzbC5zLnRvU3RyaW5nKCkgfSk7XG4gIHNhdFNsaWRlci52YWx1ZSA9IGhzbC5zLnRvU3RyaW5nKCk7XG4gIHNhdFNsaWRlci5vbmlucHV0ID0gKCkgPT4ge1xuICAgIGhzbENvcHkucyA9IHBhcnNlSW50KHNhdFNsaWRlci52YWx1ZSk7XG4gICAgc2F0VmFsdWUudGV4dENvbnRlbnQgPSBoc2xDb3B5LnMudG9TdHJpbmcoKTtcbiAgICB1cGRhdGVQcmV2aWV3KCk7XG4gICAgb25DaGFuZ2UoaHNsQ29weSk7XG4gIH07XG5cbiAgLy8gTGlnaHRuZXNzXG4gIGNvbnN0IGxpZ2h0Q29udHJvbCA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2hzbC1jb250cm9sJyB9KTtcbiAgbGlnaHRDb250cm9sLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogJ0xpZ2h0bmVzcycgfSk7XG4gIGNvbnN0IGxpZ2h0U2xpZGVyID0gbGlnaHRDb250cm9sLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ3JhbmdlJyB9KTtcbiAgbGlnaHRTbGlkZXIubWluID0gJzAnO1xuICBsaWdodFNsaWRlci5tYXggPSAnMTAwJztcbiAgY29uc3QgbGlnaHRWYWx1ZSA9IGxpZ2h0Q29udHJvbC5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogaHNsLmwudG9TdHJpbmcoKSB9KTtcbiAgbGlnaHRTbGlkZXIudmFsdWUgPSBoc2wubC50b1N0cmluZygpO1xuICBsaWdodFNsaWRlci5vbmlucHV0ID0gKCkgPT4ge1xuICAgIGhzbENvcHkubCA9IHBhcnNlSW50KGxpZ2h0U2xpZGVyLnZhbHVlKTtcbiAgICBsaWdodFZhbHVlLnRleHRDb250ZW50ID0gaHNsQ29weS5sLnRvU3RyaW5nKCk7XG4gICAgdXBkYXRlUHJldmlldygpO1xuICAgIG9uQ2hhbmdlKGhzbENvcHkpO1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGNvbG9yIG92ZXJyaWRlIHRvZ2dsZSBhbmQgaW5wdXRcbiAqIEBwYXJhbSBjb250YWluZXIgLSBQYXJlbnQgSFRNTEVsZW1lbnRcbiAqIEBwYXJhbSBsYWJlbCAtIERpc3BsYXkgbGFiZWwgZm9yIHRoZSBjb2xvclxuICogQHBhcmFtIGtleSAtIENvbG9yIGtleSBpbiB0aGUgcGFsZXR0ZS5jb2xvcnMgb2JqZWN0XG4gKiBAcGFyYW0gY29sb3JzIC0gVGhlIGNvbG9ycyBvYmplY3QgdG8gbW9kaWZ5XG4gKiBAcGFyYW0gcGFsZXR0ZSAtIFRoZSBwYWxldHRlIGZvciBjYWxjdWxhdGluZyBkZWZhdWx0c1xuICogQHBhcmFtIG9uVXBkYXRlIC0gQ2FsbGJhY2sgd2hlbiBjb2xvciBpcyB0b2dnbGVkIG9yIGNoYW5nZWRcbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIG92ZXJyaWRlIEhUTUxFbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2xvck92ZXJyaWRlKFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50LCBcbiAgbGFiZWw6IHN0cmluZywgXG4gIGtleTogc3RyaW5nLCBcbiAgY29sb3JzOiBDb2xvck92ZXJyaWRlcywgXG4gIHBhbGV0dGU6IHsgYmFzZTogSFNMQ29sb3I7IGFjY2VudDogSFNMQ29sb3I7IGNvbG9ycz86IENvbG9yT3ZlcnJpZGVzIH0sXG4gIG9uVXBkYXRlOiAoKSA9PiB2b2lkXG4pOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IG92ZXJyaWRlID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2NvbG9yLW92ZXJyaWRlIGNvbGxhcHNpYmxlLWl0ZW0nIH0pO1xuICBcbiAgY29uc3QgaGVhZGVyID0gb3ZlcnJpZGUuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnb3ZlcnJpZGUtaGVhZGVyJyB9KTtcbiAgY29uc3QgdG9nZ2xlID0gaGVhZGVyLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdHlwZTogJ2NoZWNrYm94JyB9KTtcbiAgaGVhZGVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgdGV4dDogbGFiZWwgfSk7XG4gIFxuICAvLyBDcmVhdGUgY29sb3IgcGlja2VyIHdpdGggc2FtZSBwYXR0ZXJuIGFzIEhTTCBjb250cm9sc1xuICBjb25zdCBjb2xvcklucHV0V3JhcHBlciA9IGhlYWRlci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1pbnB1dC13cmFwcGVyJyB9KTtcbiAgXG4gIC8vIFZpc2libGUgY29sb3IgcHJldmlld1xuICBjb25zdCBjb2xvclByZXZpZXcgPSBjb2xvcklucHV0V3JhcHBlci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1wcmV2aWV3LXN3YXRjaCcgfSk7XG4gIFxuICAvLyBIaWRkZW4gY29sb3IgaW5wdXQgcG9zaXRpb25lZCBvdmVyIHRoZSBwcmV2aWV3XG4gIGNvbnN0IGNvbG9ySW5wdXQgPSBjb2xvcklucHV0V3JhcHBlci5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjb2xvcicsIGNsczogJ2hzbC1jb2xvci1pbnB1dC1vdmVybGF5JyB9KTtcbiAgY29sb3JJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gIFxuICAvLyBTdG9yZSB0aGUgb3JpZ2luYWwgY29sb3IgdmFsdWUgd2hlbiB0b2dnbGluZyBvZmZcbiAgbGV0IG9yaWdpbmFsQ29sb3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjb2xvciBwcmV2aWV3XG4gIGNvbnN0IHVwZGF0ZUNvbG9yUHJldmlldyA9IChjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgc2V0Q3NzUHJvcChjb2xvclByZXZpZXcsICctLXByZXZpZXctY29sb3InLCBjb2xvcik7XG4gICAgY29sb3JJbnB1dC52YWx1ZSA9IGNvbG9yO1xuICB9O1xuICBcbiAgaWYgKGNvbG9yc1trZXldKSB7XG4gICAgdG9nZ2xlLmNoZWNrZWQgPSB0cnVlO1xuICAgIGNvbG9ySW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB1cGRhdGVDb2xvclByZXZpZXcoY29sb3JzW2tleV0pO1xuICAgIG9yaWdpbmFsQ29sb3IgPSBjb2xvcnNba2V5XTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTaG93IGRlZmF1bHQgY29sb3IgcHJldmlldyBldmVuIHdoZW4gZGlzYWJsZWRcbiAgICBjb25zdCBkZWZhdWx0Q29sb3IgPSBnZXREZWZhdWx0Q29sb3JGb3JLZXkoa2V5LCBwYWxldHRlKTtcbiAgICB1cGRhdGVDb2xvclByZXZpZXcoZGVmYXVsdENvbG9yKTtcbiAgICBvcmlnaW5hbENvbG9yID0gZGVmYXVsdENvbG9yO1xuICB9XG4gIFxuICAvLyBNYWtlIGNsaWNraW5nIHRoZSBjb2xvciBpbnB1dCBhdXRvbWF0aWNhbGx5IGNoZWNrIHRoZSB0b2dnbGVcbiAgY29sb3JJbnB1dC5vbmNsaWNrID0gKCkgPT4ge1xuICAgIGlmICghdG9nZ2xlLmNoZWNrZWQpIHtcbiAgICAgIHRvZ2dsZS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgIGNvbG9ySW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIC8vIFVzZSBzdG9yZWQgb3JpZ2luYWxDb2xvciwgb3IgZGVmYXVsdCB0byBjdXJyZW50IGNvbG9yLCBvciBjYWxjdWxhdGUgc2Vuc2libGUgZGVmYXVsdFxuICAgICAgY29uc3QgcmVzdG9yZWRDb2xvciA9IG9yaWdpbmFsQ29sb3IgfHwgY29sb3JzW2tleV0gfHwgZ2V0RGVmYXVsdENvbG9yRm9yS2V5KGtleSwgcGFsZXR0ZSk7XG4gICAgICBjb2xvcnNba2V5XSA9IHJlc3RvcmVkQ29sb3I7XG4gICAgICB1cGRhdGVDb2xvclByZXZpZXcocmVzdG9yZWRDb2xvcik7XG4gICAgICBvcmlnaW5hbENvbG9yID0gcmVzdG9yZWRDb2xvcjtcbiAgICAgIG9uVXBkYXRlKCk7XG4gICAgfVxuICB9O1xuICBcbiAgdG9nZ2xlLm9uY2hhbmdlID0gKCkgPT4ge1xuICAgIGlmICh0b2dnbGUuY2hlY2tlZCkge1xuICAgICAgY29sb3JJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgLy8gVXNlIHN0b3JlZCBvcmlnaW5hbENvbG9yLCBvciBkZWZhdWx0IHRvIGN1cnJlbnQgY29sb3IsIG9yIGNhbGN1bGF0ZSBzZW5zaWJsZSBkZWZhdWx0XG4gICAgICBjb25zdCByZXN0b3JlZENvbG9yID0gb3JpZ2luYWxDb2xvciB8fCBjb2xvcnNba2V5XSB8fCBnZXREZWZhdWx0Q29sb3JGb3JLZXkoa2V5LCBwYWxldHRlKTtcbiAgICAgIGNvbG9yc1trZXldID0gcmVzdG9yZWRDb2xvcjtcbiAgICAgIHVwZGF0ZUNvbG9yUHJldmlldyhyZXN0b3JlZENvbG9yKTtcbiAgICAgIG9yaWdpbmFsQ29sb3IgPSByZXN0b3JlZENvbG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2xvcklucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IHZhbHVlIGJlZm9yZSBkZWxldGluZ1xuICAgICAgb3JpZ2luYWxDb2xvciA9IGNvbG9yc1trZXldIHx8IG9yaWdpbmFsQ29sb3I7XG4gICAgICBkZWxldGUgY29sb3JzW2tleV07XG4gICAgfVxuICAgIG9uVXBkYXRlKCk7XG4gIH07XG4gIFxuICBjb2xvcklucHV0Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgIGlmICh2YWxpZGF0ZUhleChjb2xvcklucHV0LnZhbHVlKSkge1xuICAgICAgY29sb3JzW2tleV0gPSBjb2xvcklucHV0LnZhbHVlO1xuICAgICAgb3JpZ2luYWxDb2xvciA9IGNvbG9ySW5wdXQudmFsdWU7XG4gICAgICB1cGRhdGVDb2xvclByZXZpZXcoY29sb3JJbnB1dC52YWx1ZSk7XG4gICAgICBvblVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEFsc28gaGFuZGxlIGlucHV0IGV2ZW50IGZvciByZWFsLXRpbWUgdXBkYXRlc1xuICBjb2xvcklucHV0Lm9uaW5wdXQgPSAoKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRlSGV4KGNvbG9ySW5wdXQudmFsdWUpKSB7XG4gICAgICBjb2xvcnNba2V5XSA9IGNvbG9ySW5wdXQudmFsdWU7XG4gICAgICBvcmlnaW5hbENvbG9yID0gY29sb3JJbnB1dC52YWx1ZTtcbiAgICAgIHVwZGF0ZUNvbG9yUHJldmlldyhjb2xvcklucHV0LnZhbHVlKTtcbiAgICAgIG9uVXBkYXRlKCk7XG4gICAgfVxuICB9O1xuICBcbiAgcmV0dXJuIG92ZXJyaWRlO1xufVxuXG4iLCAiLyoqXG4gKiBNb2RhbCBmb3IgaW1wb3J0aW5nIGN1c3RvbSBjb2xvciBwcmVzZXRzIGZyb20gSlNPTlxuICovXG5cbmltcG9ydCB7IE1vZGFsLCBTZXR0aW5nLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBDdXN0b21Db2xvclByZXNldCB9IGZyb20gJy4uL3ByZXNldHMvQ3VzdG9tUHJlc2V0JztcbmltcG9ydCB7IFByZXNldE1hbmFnZXIgfSBmcm9tICcuLi9wcmVzZXRzL1ByZXNldE1hbmFnZXInO1xuaW1wb3J0IHsgc2V0Q3NzUHJvcCB9IGZyb20gJy4uL3V0aWxzL2Nzcy1wcm9wcyc7XG5pbXBvcnQgTWluaW1hbFRoZW1lIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgY2xhc3MgUHJlc2V0SW1wb3J0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgb25JbXBvcnQ6IChwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0KSA9PiB2b2lkO1xuICBwcml2YXRlIHBsdWdpbjogTWluaW1hbFRoZW1lO1xuICBwcml2YXRlIHRleHRBcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICBwcml2YXRlIHByZXZpZXdDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGltcG9ydEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHByaXZhdGUgcGFyc2VkUHJlc2V0OiBDdXN0b21Db2xvclByZXNldCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLCBcbiAgICBwbHVnaW46IE1pbmltYWxUaGVtZSxcbiAgICBvbkltcG9ydDogKHByZXNldDogQ3VzdG9tQ29sb3JQcmVzZXQpID0+IHZvaWRcbiAgKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLm9uSW1wb3J0ID0gb25JbXBvcnQ7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCdwcmVzZXQtaW1wb3J0LW1vZGFsJyk7XG5cbiAgICAvLyBIZWFkZXJcbiAgICBjb25zdCBoZWFkZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbW9kYWwtaGVhZGVyJyB9KTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnSW1wb3J0IGN1c3RvbSBwcmVzZXQnIH0pO1xuXG4gICAgLy8gSW5zdHJ1Y3Rpb25zXG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGFsLXNlY3Rpb24nIH0pO1xuICAgIGluc3RydWN0aW9ucy5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiAnUGFzdGUgYSBKU09OIHByZXNldCBiZWxvdy4gWW91IGNhbiBleHBvcnQgcHJlc2V0cyBmcm9tIHRoaXMgcGx1Z2luIG9yIGNyZWF0ZSB0aGVtIG1hbnVhbGx5IGZvbGxvd2luZyB0aGUgY29ycmVjdCBmb3JtYXQuJyBcbiAgICB9KTtcblxuICAgIC8vIEpTT04gaW5wdXQgYXJlYVxuICAgIGNvbnN0IGlucHV0U2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RhbC1zZWN0aW9uJyB9KTtcbiAgICBpbnB1dFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnSlNPTiBwcmVzZXQgZGF0YScgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhpbnB1dFNlY3Rpb24pXG4gICAgICAuc2V0TmFtZSgnUHJlc2V0IEpTT04nKVxuICAgICAgLnNldERlc2MoJ1Bhc3RlIHRoZSBjb21wbGV0ZSBKU09OIHByZXNldCBkYXRhIGhlcmUnKVxuICAgICAgLmFkZFRleHRBcmVhKHRleHQgPT4ge1xuICAgICAgICB0aGlzLnRleHRBcmVhID0gdGV4dC5pbnB1dEVsO1xuICAgICAgICB0aGlzLnRleHRBcmVhLmFkZENsYXNzKCdwcmVzZXQtanNvbi1pbnB1dCcpO1xuICAgICAgICB0ZXh0LnNldFBsYWNlaG9sZGVyKCdQYXN0ZSBKU09OIHByZXNldCBkYXRhIGhlcmUuLi4nKVxuICAgICAgICAgIC5vbkNoYW5nZSh2YWx1ZSA9PiB0aGlzLnBhcnNlSlNPTih2YWx1ZSkpO1xuICAgICAgfSk7XG5cbiAgICAvLyBQcmV2aWV3IHNlY3Rpb25cbiAgICBjb25zdCBwcmV2aWV3U2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RhbC1zZWN0aW9uJyB9KTtcbiAgICBwcmV2aWV3U2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdQcmV2aWV3JyB9KTtcbiAgICB0aGlzLnByZXZpZXdDb250YWluZXIgPSBwcmV2aWV3U2VjdGlvbi5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdwcmV2aWV3LWNvbnRhaW5lcicgfSk7XG4gICAgdGhpcy5wcmV2aWV3Q29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICdFbnRlciB2YWxpZCBKU09OIHRvIHNlZSBhIHByZXZpZXcgb2YgdGhlIHByZXNldCcsXG4gICAgICBjbHM6ICdwcmV2aWV3LXBsYWNlaG9sZGVyJ1xuICAgIH0pO1xuXG4gICAgLy8gRXJyb3IgZGlzcGxheVxuICAgIGNvbnN0IGVycm9yU2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RhbC1zZWN0aW9uIGVycm9yLXNlY3Rpb24gaGlkZGVuJyB9KTtcbiAgICBlcnJvclNlY3Rpb24uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZXJyb3ItbWVzc2FnZScgfSk7XG5cbiAgICAvLyBGb290ZXIgYnV0dG9uc1xuICAgIGNvbnN0IGZvb3RlciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RhbC1mb290ZXInIH0pO1xuICAgIFxuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGZvb3Rlci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJywgY2xzOiAnbW9kLWN0YScgfSk7XG4gICAgY2FuY2VsQnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgXG4gICAgdGhpcy5pbXBvcnRCdXR0b24gPSBmb290ZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAnSW1wb3J0IHByZXNldCcsIFxuICAgICAgY2xzOiAnbW9kLWN0YScgXG4gICAgfSk7XG4gICAgdGhpcy5pbXBvcnRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuaW1wb3J0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmltcG9ydFByZXNldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZUpTT04oanNvblN0cmluZzogc3RyaW5nKSB7XG4gICAgY29uc3QgZXJyb3JTZWN0aW9uID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLmVycm9yLXNlY3Rpb24nKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbWVzc2FnZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIFxuICAgIC8vIENsZWFyIHByZXZpb3VzIHN0YXRlXG4gICAgdGhpcy5wYXJzZWRQcmVzZXQgPSBudWxsO1xuICAgIHRoaXMuaW1wb3J0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBlcnJvclNlY3Rpb24uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIHRoaXMucHJldmlld0NvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgaWYgKCFqc29uU3RyaW5nLnRyaW0oKSkge1xuICAgICAgdGhpcy5wcmV2aWV3Q29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgICAgdGV4dDogJ0VudGVyIHZhbGlkIEpTT04gdG8gc2VlIGEgcHJldmlldyBvZiB0aGUgcHJlc2V0JyxcbiAgICAgICAgY2xzOiAncHJldmlldy1wbGFjZWhvbGRlcidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBQYXJzZSBhbmQgdmFsaWRhdGUgdGhlIEpTT05cbiAgICAgIHRoaXMucGFyc2VkUHJlc2V0ID0gUHJlc2V0TWFuYWdlci5pbXBvcnRQcmVzZXRGcm9tSlNPTihqc29uU3RyaW5nKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIElEIGNvbmZsaWN0c1xuICAgICAgY29uc3QgZXhpc3RpbmdQcmVzZXQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmZpbmQocCA9PiBwLmlkID09PSB0aGlzLnBhcnNlZFByZXNldCEuaWQpO1xuICAgICAgaWYgKGV4aXN0aW5nUHJlc2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBwcmVzZXQgd2l0aCBJRCBcIiR7dGhpcy5wYXJzZWRQcmVzZXQuaWR9XCIgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSByZW5hbWUgdGhlIHByZXNldC5gKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvdyBwcmV2aWV3XG4gICAgICB0aGlzLnNob3dQcmV2aWV3KHRoaXMucGFyc2VkUHJlc2V0KTtcbiAgICAgIHRoaXMuaW1wb3J0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU2hvdyBlcnJvclxuICAgICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnSW52YWxpZCBKU09OIGZvcm1hdCc7XG4gICAgICBlcnJvclNlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgXG4gICAgICB0aGlzLnByZXZpZXdDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgICB0ZXh0OiAnRml4IHRoZSBKU09OIGVycm9ycyBhYm92ZSB0byBzZWUgYSBwcmV2aWV3JyxcbiAgICAgICAgY2xzOiAncHJldmlldy1lcnJvcidcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd1ByZXZpZXcocHJlc2V0OiBDdXN0b21Db2xvclByZXNldCkge1xuICAgIHRoaXMucHJldmlld0NvbnRhaW5lci5lbXB0eSgpO1xuXG4gICAgLy8gUHJlc2V0IGluZm9cbiAgICBjb25zdCBpbmZvID0gdGhpcy5wcmV2aWV3Q29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ByZXNldC1pbmZvJyB9KTtcbiAgICBcbiAgICBjb25zdCBuYW1lUm93ID0gaW5mby5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdpbmZvLXJvdycgfSk7XG4gICAgbmFtZVJvdy5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnTmFtZTogJyB9KTtcbiAgICBuYW1lUm93LmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBwcmVzZXQubmFtZSB9KTtcblxuICAgIGlmIChwcmVzZXQuYXV0aG9yKSB7XG4gICAgICBjb25zdCBhdXRob3JSb3cgPSBpbmZvLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2luZm8tcm93JyB9KTtcbiAgICAgIGF1dGhvclJvdy5jcmVhdGVFbCgnc3Ryb25nJywgeyB0ZXh0OiAnQXV0aG9yOiAnIH0pO1xuICAgICAgYXV0aG9yUm93LmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBwcmVzZXQuYXV0aG9yIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHZlcnNpb25Sb3cgPSBpbmZvLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2luZm8tcm93JyB9KTtcbiAgICB2ZXJzaW9uUm93LmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdWZXJzaW9uOiAnIH0pO1xuICAgIHZlcnNpb25Sb3cuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHByZXNldC52ZXJzaW9uIHx8ICcxLjAuMCcgfSk7XG5cbiAgICBjb25zdCBpZFJvdyA9IGluZm8uY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnaW5mby1yb3cnIH0pO1xuICAgIGlkUm93LmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdJRDogJyB9KTtcbiAgICBpZFJvdy5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogcHJlc2V0LmlkLCBjbHM6ICdwcmVzZXQtaWQnIH0pO1xuXG4gICAgLy8gQ29sb3IgcHJldmlldyBzZWN0aW9uXG4gICAgY29uc3QgcHJldmlldyA9IHRoaXMucHJldmlld0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1wcmV2aWV3LXNlY3Rpb24nIH0pO1xuICAgIHByZXZpZXcuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQ29sb3IgcHJldmlldycgfSk7XG5cbiAgICAvLyBNb2RlIHRvZ2dsZVxuICAgIGNvbnN0IG1vZGVUb2dnbGUgPSBwcmV2aWV3LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGUtdG9nZ2xlJyB9KTtcbiAgICBjb25zdCBsaWdodE1vZGVCdG4gPSBtb2RlVG9nZ2xlLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogJ0xpZ2h0IG1vZGUnLCBcbiAgICAgIGNsczogJ21vZGUtYnRuIGFjdGl2ZScgXG4gICAgfSk7XG4gICAgY29uc3QgZGFya01vZGVCdG4gPSBtb2RlVG9nZ2xlLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogJ0RhcmsgbW9kZScsIFxuICAgICAgY2xzOiAnbW9kZS1idG4nIFxuICAgIH0pO1xuXG4gICAgLy8gQ29sb3Igc3dhdGNoZXMgY29udGFpbmVyXG4gICAgY29uc3Qgc3dhdGNoQ29udGFpbmVyID0gcHJldmlldy5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdzd2F0Y2gtY29udGFpbmVyJyB9KTtcbiAgICBcbiAgICAvLyBMaWdodCBtb2RlIHN3YXRjaGVzXG4gICAgY29uc3QgbGlnaHRTd2F0Y2hlcyA9IHN3YXRjaENvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdtb2RlLXN3YXRjaGVzIGFjdGl2ZScgfSk7XG4gICAgY29uc3QgbGlnaHRCYXNlU3dhdGNoUHJldmlldyA9IGxpZ2h0U3dhdGNoZXMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3Itc3dhdGNoJyB9KTtcbiAgICBjb25zdCBsaWdodEJhc2VIU0wgPSBgJHtwcmVzZXQubGlnaHQuYmFzZS5ofSwgJHtwcmVzZXQubGlnaHQuYmFzZS5zfSUsICR7cHJlc2V0LmxpZ2h0LmJhc2UubH0lYDtcbiAgICBsaWdodEJhc2VTd2F0Y2hQcmV2aWV3LnNldEF0dHJpYnV0ZSgnZGF0YS1oc2wnLCBsaWdodEJhc2VIU0wpO1xuICAgIHNldENzc1Byb3AobGlnaHRCYXNlU3dhdGNoUHJldmlldywgJy0tc3dhdGNoLWhzbCcsIGxpZ2h0QmFzZUhTTCk7XG4gICAgbGlnaHRCYXNlU3dhdGNoUHJldmlldy50aXRsZSA9IGBCYXNlOiBoc2woJHtwcmVzZXQubGlnaHQuYmFzZS5ofSwgJHtwcmVzZXQubGlnaHQuYmFzZS5zfSUsICR7cHJlc2V0LmxpZ2h0LmJhc2UubH0lKWA7XG4gICAgXG4gICAgY29uc3QgbGlnaHRBY2NlbnRTd2F0Y2hQcmV2aWV3ID0gbGlnaHRTd2F0Y2hlcy5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1zd2F0Y2gnIH0pO1xuICAgIGNvbnN0IGxpZ2h0QWNjZW50SFNMID0gYCR7cHJlc2V0LmxpZ2h0LmFjY2VudC5ofSwgJHtwcmVzZXQubGlnaHQuYWNjZW50LnN9JSwgJHtwcmVzZXQubGlnaHQuYWNjZW50Lmx9JWA7XG4gICAgbGlnaHRBY2NlbnRTd2F0Y2hQcmV2aWV3LnNldEF0dHJpYnV0ZSgnZGF0YS1oc2wnLCBsaWdodEFjY2VudEhTTCk7XG4gICAgc2V0Q3NzUHJvcChsaWdodEFjY2VudFN3YXRjaFByZXZpZXcsICctLXN3YXRjaC1oc2wnLCBsaWdodEFjY2VudEhTTCk7XG4gICAgbGlnaHRBY2NlbnRTd2F0Y2hQcmV2aWV3LnRpdGxlID0gYEFjY2VudDogaHNsKCR7cHJlc2V0LmxpZ2h0LmFjY2VudC5ofSwgJHtwcmVzZXQubGlnaHQuYWNjZW50LnN9JSwgJHtwcmVzZXQubGlnaHQuYWNjZW50Lmx9JSlgO1xuXG4gICAgLy8gRGFyayBtb2RlIHN3YXRjaGVzXG4gICAgY29uc3QgZGFya1N3YXRjaGVzID0gc3dhdGNoQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGUtc3dhdGNoZXMnIH0pO1xuICAgIGNvbnN0IGRhcmtCYXNlU3dhdGNoUHJldmlldyA9IGRhcmtTd2F0Y2hlcy5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1zd2F0Y2gnIH0pO1xuICAgIGNvbnN0IGRhcmtCYXNlSFNMID0gYCR7cHJlc2V0LmRhcmsuYmFzZS5ofSwgJHtwcmVzZXQuZGFyay5iYXNlLnN9JSwgJHtwcmVzZXQuZGFyay5iYXNlLmx9JWA7XG4gICAgZGFya0Jhc2VTd2F0Y2hQcmV2aWV3LnNldEF0dHJpYnV0ZSgnZGF0YS1oc2wnLCBkYXJrQmFzZUhTTCk7XG4gICAgc2V0Q3NzUHJvcChkYXJrQmFzZVN3YXRjaFByZXZpZXcsICctLXN3YXRjaC1oc2wnLCBkYXJrQmFzZUhTTCk7XG4gICAgZGFya0Jhc2VTd2F0Y2hQcmV2aWV3LnRpdGxlID0gYEJhc2U6IGhzbCgke3ByZXNldC5kYXJrLmJhc2UuaH0sICR7cHJlc2V0LmRhcmsuYmFzZS5zfSUsICR7cHJlc2V0LmRhcmsuYmFzZS5sfSUpYDtcbiAgICBcbiAgICBjb25zdCBkYXJrQWNjZW50U3dhdGNoUHJldmlldyA9IGRhcmtTd2F0Y2hlcy5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1zd2F0Y2gnIH0pO1xuICAgIGNvbnN0IGRhcmtBY2NlbnRIU0wgPSBgJHtwcmVzZXQuZGFyay5hY2NlbnQuaH0sICR7cHJlc2V0LmRhcmsuYWNjZW50LnN9JSwgJHtwcmVzZXQuZGFyay5hY2NlbnQubH0lYDtcbiAgICBkYXJrQWNjZW50U3dhdGNoUHJldmlldy5zZXRBdHRyaWJ1dGUoJ2RhdGEtaHNsJywgZGFya0FjY2VudEhTTCk7XG4gICAgc2V0Q3NzUHJvcChkYXJrQWNjZW50U3dhdGNoUHJldmlldywgJy0tc3dhdGNoLWhzbCcsIGRhcmtBY2NlbnRIU0wpO1xuICAgIGRhcmtBY2NlbnRTd2F0Y2hQcmV2aWV3LnRpdGxlID0gYEFjY2VudDogaHNsKCR7cHJlc2V0LmRhcmsuYWNjZW50Lmh9LCAke3ByZXNldC5kYXJrLmFjY2VudC5zfSUsICR7cHJlc2V0LmRhcmsuYWNjZW50Lmx9JSlgO1xuXG4gICAgLy8gTW9kZSB0b2dnbGUgZnVuY3Rpb25hbGl0eVxuICAgIGxpZ2h0TW9kZUJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgbGlnaHRNb2RlQnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgZGFya01vZGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBsaWdodFN3YXRjaGVzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgZGFya1N3YXRjaGVzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH07XG5cbiAgICBkYXJrTW9kZUJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgZGFya01vZGVCdG4uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBsaWdodE1vZGVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkYXJrU3dhdGNoZXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBsaWdodFN3YXRjaGVzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH07XG5cbiAgICAvLyBDb2xvciBkZXRhaWxzXG4gICAgY29uc3QgZGV0YWlscyA9IHRoaXMucHJldmlld0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdjb2xvci1kZXRhaWxzLXNlY3Rpb24nIH0pO1xuICAgIGRldGFpbHMuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQ29sb3IgdmFsdWVzJyB9KTtcblxuICAgIGNvbnN0IGxpZ2h0RGV0YWlscyA9IGRldGFpbHMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnbW9kZS1kZXRhaWxzJyB9KTtcbiAgICBsaWdodERldGFpbHMuY3JlYXRlRWwoJ2g1JywgeyB0ZXh0OiAnTGlnaHQgbW9kZScgfSk7XG4gICAgXG4gICAgY29uc3QgbGlnaHRCYXNlID0gbGlnaHREZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2NvbG9yLWRldGFpbCcgfSk7XG4gICAgY29uc3QgbGlnaHRCYXNlU3dhdGNoRGV0YWlsID0gbGlnaHRCYXNlLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2RldGFpbC1zd2F0Y2gnIH0pO1xuICAgIGNvbnN0IGxpZ2h0QmFzZUhTTERldGFpbCA9IGAke3ByZXNldC5saWdodC5iYXNlLmh9LCAke3ByZXNldC5saWdodC5iYXNlLnN9JSwgJHtwcmVzZXQubGlnaHQuYmFzZS5sfSVgO1xuICAgIGxpZ2h0QmFzZVN3YXRjaERldGFpbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaHNsJywgbGlnaHRCYXNlSFNMRGV0YWlsKTtcbiAgICBzZXRDc3NQcm9wKGxpZ2h0QmFzZVN3YXRjaERldGFpbCwgJy0tZGV0YWlsLWhzbCcsIGxpZ2h0QmFzZUhTTERldGFpbCk7XG4gICAgbGlnaHRCYXNlLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnQmFzZTogJyB9KTtcbiAgICBsaWdodEJhc2UuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGBoc2woJHtwcmVzZXQubGlnaHQuYmFzZS5ofSwgJHtwcmVzZXQubGlnaHQuYmFzZS5zfSUsICR7cHJlc2V0LmxpZ2h0LmJhc2UubH0lKWAgfSk7XG4gICAgXG4gICAgY29uc3QgbGlnaHRBY2NlbnQgPSBsaWdodERldGFpbHMuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnY29sb3ItZGV0YWlsJyB9KTtcbiAgICBjb25zdCBsaWdodEFjY2VudFN3YXRjaERldGFpbCA9IGxpZ2h0QWNjZW50LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2RldGFpbC1zd2F0Y2gnIH0pO1xuICAgIGNvbnN0IGxpZ2h0QWNjZW50SFNMRGV0YWlsID0gYCR7cHJlc2V0LmxpZ2h0LmFjY2VudC5ofSwgJHtwcmVzZXQubGlnaHQuYWNjZW50LnN9JSwgJHtwcmVzZXQubGlnaHQuYWNjZW50Lmx9JWA7XG4gICAgbGlnaHRBY2NlbnRTd2F0Y2hEZXRhaWwuc2V0QXR0cmlidXRlKCdkYXRhLWhzbCcsIGxpZ2h0QWNjZW50SFNMRGV0YWlsKTtcbiAgICBzZXRDc3NQcm9wKGxpZ2h0QWNjZW50U3dhdGNoRGV0YWlsLCAnLS1kZXRhaWwtaHNsJywgbGlnaHRBY2NlbnRIU0xEZXRhaWwpO1xuICAgIGxpZ2h0QWNjZW50LmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnQWNjZW50OiAnIH0pO1xuICAgIGxpZ2h0QWNjZW50LmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBgaHNsKCR7cHJlc2V0LmxpZ2h0LmFjY2VudC5ofSwgJHtwcmVzZXQubGlnaHQuYWNjZW50LnN9JSwgJHtwcmVzZXQubGlnaHQuYWNjZW50Lmx9JSlgIH0pO1xuXG4gICAgY29uc3QgZGFya0RldGFpbHMgPSBkZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGUtZGV0YWlscycgfSk7XG4gICAgZGFya0RldGFpbHMuY3JlYXRlRWwoJ2g1JywgeyB0ZXh0OiAnRGFyayBtb2RlJyB9KTtcbiAgICBcbiAgICBjb25zdCBkYXJrQmFzZSA9IGRhcmtEZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2NvbG9yLWRldGFpbCcgfSk7XG4gICAgY29uc3QgZGFya0Jhc2VTd2F0Y2hEZXRhaWwgPSBkYXJrQmFzZS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdkZXRhaWwtc3dhdGNoJyB9KTtcbiAgICBjb25zdCBkYXJrQmFzZUhTTERldGFpbCA9IGAke3ByZXNldC5kYXJrLmJhc2UuaH0sICR7cHJlc2V0LmRhcmsuYmFzZS5zfSUsICR7cHJlc2V0LmRhcmsuYmFzZS5sfSVgO1xuICAgIGRhcmtCYXNlU3dhdGNoRGV0YWlsLnNldEF0dHJpYnV0ZSgnZGF0YS1oc2wnLCBkYXJrQmFzZUhTTERldGFpbCk7XG4gICAgc2V0Q3NzUHJvcChkYXJrQmFzZVN3YXRjaERldGFpbCwgJy0tZGV0YWlsLWhzbCcsIGRhcmtCYXNlSFNMRGV0YWlsKTtcbiAgICBkYXJrQmFzZS5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogJ0Jhc2U6ICcgfSk7XG4gICAgZGFya0Jhc2UuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGBoc2woJHtwcmVzZXQuZGFyay5iYXNlLmh9LCAke3ByZXNldC5kYXJrLmJhc2Uuc30lLCAke3ByZXNldC5kYXJrLmJhc2UubH0lKWAgfSk7XG4gICAgXG4gICAgY29uc3QgZGFya0FjY2VudCA9IGRhcmtEZXRhaWxzLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2NvbG9yLWRldGFpbCcgfSk7XG4gICAgY29uc3QgZGFya0FjY2VudFN3YXRjaERldGFpbCA9IGRhcmtBY2NlbnQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZGV0YWlsLXN3YXRjaCcgfSk7XG4gICAgY29uc3QgZGFya0FjY2VudEhTTERldGFpbCA9IGAke3ByZXNldC5kYXJrLmFjY2VudC5ofSwgJHtwcmVzZXQuZGFyay5hY2NlbnQuc30lLCAke3ByZXNldC5kYXJrLmFjY2VudC5sfSVgO1xuICAgIGRhcmtBY2NlbnRTd2F0Y2hEZXRhaWwuc2V0QXR0cmlidXRlKCdkYXRhLWhzbCcsIGRhcmtBY2NlbnRIU0xEZXRhaWwpO1xuICAgIHNldENzc1Byb3AoZGFya0FjY2VudFN3YXRjaERldGFpbCwgJy0tZGV0YWlsLWhzbCcsIGRhcmtBY2NlbnRIU0xEZXRhaWwpO1xuICAgIGRhcmtBY2NlbnQuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdBY2NlbnQ6ICcgfSk7XG4gICAgZGFya0FjY2VudC5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogYGhzbCgke3ByZXNldC5kYXJrLmFjY2VudC5ofSwgJHtwcmVzZXQuZGFyay5hY2NlbnQuc30lLCAke3ByZXNldC5kYXJrLmFjY2VudC5sfSUpYCB9KTtcblxuICAgIC8vIFNob3cgb3ZlcnJpZGUgY291bnQgaWYgYW55XG4gICAgY29uc3QgbGlnaHRPdmVycmlkZXMgPSBPYmplY3Qua2V5cyhwcmVzZXQubGlnaHQuY29sb3JzIHx8IHt9KS5sZW5ndGg7XG4gICAgY29uc3QgZGFya092ZXJyaWRlcyA9IE9iamVjdC5rZXlzKHByZXNldC5kYXJrLmNvbG9ycyB8fCB7fSkubGVuZ3RoO1xuICAgIFxuICAgIGlmIChsaWdodE92ZXJyaWRlcyA+IDAgfHwgZGFya092ZXJyaWRlcyA+IDApIHtcbiAgICAgIGNvbnN0IG92ZXJyaWRlc0luZm8gPSB0aGlzLnByZXZpZXdDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnb3ZlcnJpZGVzLWluZm8nIH0pO1xuICAgICAgb3ZlcnJpZGVzSW5mby5jcmVhdGVFbCgncCcsIHsgXG4gICAgICAgIHRleHQ6IGBDdXN0b20gb3ZlcnJpZGVzOiAke2xpZ2h0T3ZlcnJpZGVzfSBsaWdodCBtb2RlLCAke2RhcmtPdmVycmlkZXN9IGRhcmsgbW9kZWAgXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGltcG9ydFByZXNldCgpIHtcbiAgICBpZiAodGhpcy5wYXJzZWRQcmVzZXQpIHtcbiAgICAgIHRoaXMub25JbXBvcnQodGhpcy5wYXJzZWRQcmVzZXQpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IE1vZGFsLCBBcHAgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBjbGFzcyBDb25maXJtYXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSByZXNvbHZlOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHByaXZhdGUgdGl0bGU6IHN0cmluZztcbiAgcHJpdmF0ZSBtZXNzYWdlOiBzdHJpbmc7XG4gIHByaXZhdGUgY29uZmlybVRleHQ6IHN0cmluZztcbiAgcHJpdmF0ZSBjYW5jZWxUZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBwOiBBcHAsXG4gICAgdGl0bGU6IHN0cmluZyxcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgY29uZmlybVRleHQ6IHN0cmluZyA9ICdZZXMnLFxuICAgIGNhbmNlbFRleHQ6IHN0cmluZyA9ICdDYW5jZWwnXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5jb25maXJtVGV4dCA9IGNvbmZpcm1UZXh0O1xuICAgIHRoaXMuY2FuY2VsVGV4dCA9IGNhbmNlbFRleHQ7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAvLyBUaXRsZVxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IHRoaXMudGl0bGUgfSk7XG5cbiAgICAvLyBNZXNzYWdlXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiB0aGlzLm1lc3NhZ2UgfSk7XG5cbiAgICAvLyBCdXR0b25zIGNvbnRhaW5lclxuICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ21vZGFsLWJ1dHRvbi1jb250YWluZXInKTtcblxuICAgIC8vIENhbmNlbCBidXR0b25cbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6IHRoaXMuY2FuY2VsVGV4dCxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgdGhpcy5yZXNvbHZlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIC8vIENvbmZpcm0gYnV0dG9uXG4gICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogdGhpcy5jb25maXJtVGV4dCxcbiAgICAgIGNsczogJ21vZC1jdGEgY29uZmlybS1idXR0b24nXG4gICAgfSk7XG4gICAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMucmVzb2x2ZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIC8vIEZvY3VzIHRoZSBjb25maXJtIGJ1dHRvblxuICAgIGNvbmZpcm1CdXR0b24uZm9jdXMoKTtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cblxuICAvLyBTdGF0aWMgbWV0aG9kIHRvIHNob3cgdGhlIG1vZGFsIGFuZCByZXR1cm4gYSBwcm9taXNlXG4gIHN0YXRpYyBhc3luYyBzaG93KFxuICAgIGFwcDogQXBwLFxuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGNvbmZpcm1UZXh0OiBzdHJpbmcgPSAnWWVzJyxcbiAgICBjYW5jZWxUZXh0OiBzdHJpbmcgPSAnQ2FuY2VsJ1xuICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IENvbmZpcm1hdGlvbk1vZGFsKGFwcCwgdGl0bGUsIG1lc3NhZ2UsIGNvbmZpcm1UZXh0LCBjYW5jZWxUZXh0KTtcbiAgICAgIG1vZGFsLnJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgbW9kYWwub3BlbigpO1xuICAgIH0pO1xuICB9XG59XG4iLCAiLyoqXHJcbiAqIEFuaW1hdGlvbiBzZXR0aW5ncyBzZWN0aW9uXHJcbiAqIENvbnRyb2xzIGFuaW1hdGlvbiBwZXJzb25hbGl0eSBhbmQgc3BlZWRcclxuICovXHJcblxyXG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgTWluaW1hbFRoZW1lIGZyb20gJy4uLy4uL21haW4nO1xyXG5pbXBvcnQgeyBjcmVhdGVTZXR0aW5nc0dyb3VwIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0dGluZ3MtY29tcGF0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFuaW1hdGlvblNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBNaW5pbWFsVGhlbWUpOiB2b2lkIHtcclxuICBjb25zdCBhbmltYXRpb25Hcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoY29udGFpbmVyRWwsICdBbmltYXRpb25zJywgJ294eWdlbi1zZXR0aW5ncycpO1xyXG5cclxuICAvLyBEZWNsYXJlIHNwZWVkU2V0dGluZyB2YXJpYWJsZSBmaXJzdCBzbyBpdCBjYW4gYmUgcmVmZXJlbmNlZCBpbiBwZXJzb25hbGl0eSBvbkNoYW5nZVxyXG4gIGxldCBzcGVlZFNldHRpbmc6IFNldHRpbmc7XHJcblxyXG4gIC8vIEFuaW1hdGlvbiBQZXJzb25hbGl0eSBkcm9wZG93blxyXG4gIGFuaW1hdGlvbkdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0FuaW1hdGlvbiBwZXJzb25hbGl0eScpXHJcbiAgICAgIC8vIEZhbHNlIHBvc2l0aXZlOiBUZXh0IGlzIGFscmVhZHkgaW4gc2VudGVuY2UgY2FzZTsgXCJEZWZhdWx0XCIsIFwiUGxheWZ1bFwiLCBhbmQgXCJPZmZcIiBhcmUgb3B0aW9uIGxhYmVsc1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JzaWRpYW5tZC91aS9zZW50ZW5jZS1jYXNlXHJcbiAgICAgIC5zZXREZXNjKCdDaG9vc2UgdGhlIGFuaW1hdGlvbiBzdHlsZTogRGVmYXVsdCAoc21vb3RoKSwgUGxheWZ1bCAoYm91bmN5KSwgb3IgT2ZmIChkaXNhYmxlZCkuJylcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgIGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9uKCdkZWZhdWx0JywgJ0RlZmF1bHQnKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbigncGxheWZ1bCcsICdQbGF5ZnVsJylcclxuICAgICAgICAgIC5hZGRPcHRpb24oJ29mZicsICdPZmYnKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy5hbmltYXRpb25QZXJzb25hbGl0eSB8fCAnZGVmYXVsdCcpXHJcbiAgICAgICAgICAub25DaGFuZ2UoICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuYW5pbWF0aW9uUGVyc29uYWxpdHkgPSB2YWx1ZSBhcyAnZGVmYXVsdCcgfCAncGxheWZ1bCcgfCAnb2ZmJztcclxuICAgICAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2goKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzcGVlZCBzbGlkZXIgdmlzaWJpbGl0eSB1c2luZyBDU1MgY2xhc3NcclxuICAgICAgICAgICAgaWYgKHNwZWVkU2V0dGluZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnb2ZmJykge1xyXG4gICAgICAgICAgICAgICAgc3BlZWRTZXR0aW5nLnNldHRpbmdFbC5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNwZWVkU2V0dGluZy5zZXR0aW5nRWwucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBBbmltYXRpb24gU3BlZWQgc2xpZGVyXHJcbiAgYW5pbWF0aW9uR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG4gICAgc3BlZWRTZXR0aW5nID0gc2V0dGluZztcclxuICAgIHNldHRpbmdcclxuICAgICAgLnNldE5hbWUoJ0FuaW1hdGlvbiBzcGVlZCcpXHJcbiAgICAgIC5zZXREZXNjKCdDb250cm9sIHRoZSBzcGVlZCBvZiBhbmltYXRpb25zLiBSYW5nZTogMCAoZGlzYWJsZWQpIHRvIDIgKGhhbGYgc3BlZWQgLyBzbG93ZXIpLiBEZWZhdWx0OiAxIChub3JtYWwgc3BlZWQpLiBMb3dlciB2YWx1ZXMgPSBmYXN0ZXIgYW5pbWF0aW9ucywgaGlnaGVyIHZhbHVlcyA9IHNsb3dlciBhbmltYXRpb25zLicpXHJcbiAgICAgIC5hZGRTbGlkZXIoKHNsaWRlcikgPT4ge1xyXG4gICAgICAgIHNsaWRlclxyXG4gICAgICAgICAgLnNldExpbWl0cygwLCAyLCAwLjEpXHJcbiAgICAgICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLmFuaW1hdGlvblNwZWVkKVxyXG4gICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcclxuICAgICAgICAgIC5vbkNoYW5nZSggKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5hbmltYXRpb25TcGVlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICBwbHVnaW4ucmVmcmVzaCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIEhpZGUgc3BlZWQgc2xpZGVyIGlmIGFuaW1hdGlvbnMgYXJlIG9mZiB1c2luZyBDU1MgY2xhc3NcclxuICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuYW5pbWF0aW9uUGVyc29uYWxpdHkgPT09ICdvZmYnKSB7XHJcbiAgICAgIHNwZWVkU2V0dGluZy5zZXR0aW5nRWwuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4iLCAiLyoqXHJcbiAqIFByZXNldCBDU1MgR2VuZXJhdGlvblxyXG4gKiBHZW5lcmF0ZXMgQ1NTIHJ1bGVzIGZvciBjdXN0b20gY29sb3IgcHJlc2V0c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IEN1c3RvbUNvbG9yUHJlc2V0IH0gZnJvbSAnLi9DdXN0b21QcmVzZXQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByZXNldENTU0dlbmVyYXRvciB7XHJcbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzIGFzIGFuIG9iamVjdCBmb3IgZGlyZWN0IGFwcGxpY2F0aW9uIHRvIGJvZHkgZWxlbWVudFxyXG4gICAqIFRoaXMgYXZvaWRzIGNyZWF0aW5nIHN0eWxlIGVsZW1lbnRzIGFuZCBjb21wbGllcyB3aXRoIE9ic2lkaWFuIGd1aWRlbGluZXNcclxuICAgKi9cclxuICBzdGF0aWMgZ2VuZXJhdGVQcm9wZXJ0aWVzKHByZXNldDogQ3VzdG9tQ29sb3JQcmVzZXQsIG1vZGU6ICdsaWdodCcgfCAnZGFyaycpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcclxuICAgIGNvbnN0IHBhbGV0dGUgPSBtb2RlID09PSAnbGlnaHQnID8gcHJlc2V0LmxpZ2h0IDogcHJlc2V0LmRhcms7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBhbGwgZGVyaXZlZCBjb2xvcnMgYmFzZWQgb24gdGhlIHRoZW1lJ3MgY29sb3Igc3lzdGVtXHJcbiAgICBjb25zdCBiYXNlSCA9IHBhbGV0dGUuYmFzZS5oO1xyXG4gICAgY29uc3QgYmFzZVMgPSBwYWxldHRlLmJhc2UucztcclxuICAgIGNvbnN0IGJhc2VMID0gcGFsZXR0ZS5iYXNlLmw7XHJcbiAgICBjb25zdCBhY2NlbnRIID0gcGFsZXR0ZS5hY2NlbnQuaDtcclxuICAgIGNvbnN0IGFjY2VudFMgPSBwYWxldHRlLmFjY2VudC5zO1xyXG4gICAgY29uc3QgYWNjZW50TCA9IHBhbGV0dGUuYWNjZW50Lmw7XHJcbiAgICBcclxuICAgIC8vIERldGVybWluZSBpZiB0aGlzIGlzIGEgbGlnaHQgb3IgZGFyayB0aGVtZSBiYXNlZCBvbiBiYXNlIGxpZ2h0bmVzc1xyXG4gICAgY29uc3QgaXNMaWdodE1vZGUgPSBtb2RlID09PSAnbGlnaHQnO1xyXG4gICAgY29uc3QgaXNMaWdodEJhc2UgPSBiYXNlTCA+IDUwO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgY29sb3IgdmFsdWVzXHJcbiAgICBjb25zdCBiZzEgPSBgaHNsKCR7YmFzZUh9LCAke2Jhc2VTfSUsICR7YmFzZUx9JSlgO1xyXG4gICAgY29uc3QgYmcyID0gYGhzbCgke2Jhc2VIfSwgJHtiYXNlU30lLCAke2lzTGlnaHRCYXNlID8gTWF0aC5tYXgoMCwgYmFzZUwgLSA1KSA6IE1hdGgubWluKDEwMCwgYmFzZUwgKyA1KX0lKWA7XHJcbiAgICBjb25zdCBiZzMgPSBgaHNsKCR7YmFzZUh9LCAke2Jhc2VTfSUsICR7aXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDEwKSA6IE1hdGgubWluKDEwMCwgYmFzZUwgKyAxMCl9JSlgO1xyXG4gICAgXHJcbiAgICAvLyBVSSBjb2xvcnMgKGJvcmRlcnMsIGRpdmlkZXJzLCBldGMuKSAtIGRhcmtlciBmb3IgbGlnaHQgbW9kZSwgbGlnaHRlciBmb3IgZGFyayBtb2RlXHJcbiAgICBjb25zdCB1aTFMID0gaXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDE1KSA6IE1hdGgubWluKDEwMCwgYmFzZUwgKyAxNSk7XHJcbiAgICBjb25zdCB1aTJMID0gaXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDEwKSA6IE1hdGgubWluKDEwMCwgYmFzZUwgKyAxMCk7XHJcbiAgICBjb25zdCB1aTNMID0gaXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDUpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDUpO1xyXG4gICAgXHJcbiAgICBjb25zdCB1aTEgPSBgaHNsKCR7YmFzZUh9LCAke2Jhc2VTfSUsICR7dWkxTH0lKWA7XHJcbiAgICBjb25zdCB1aTIgPSBgaHNsKCR7YmFzZUh9LCAke2Jhc2VTfSUsICR7dWkyTH0lKWA7XHJcbiAgICBjb25zdCB1aTMgPSBgaHNsKCR7YmFzZUh9LCAke2Jhc2VTfSUsICR7dWkzTH0lKWA7XHJcbiAgICBcclxuICAgIC8vIFRleHQgY29sb3JzIC0gZW5zdXJlIHByb3BlciBjb250cmFzdFxyXG4gICAgY29uc3QgdHgxTCA9IGlzTGlnaHRCYXNlID8gMTUgOiA4NTtcclxuICAgIGNvbnN0IHR4MkwgPSBpc0xpZ2h0QmFzZSA/IDI1IDogNzU7XHJcbiAgICBjb25zdCB0eDNMID0gaXNMaWdodEJhc2UgPyAzNSA6IDY1O1xyXG4gICAgY29uc3QgdHg0TCA9IGlzTGlnaHRCYXNlID8gMzAgOiA3MDtcclxuICAgIFxyXG4gICAgY29uc3QgdHgxID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDEwKX0lLCAke3R4MUx9JSlgO1xyXG4gICAgY29uc3QgdHgyID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDIwKX0lLCAke3R4Mkx9JSlgO1xyXG4gICAgY29uc3QgdHgzID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDEwKX0lLCAke3R4M0x9JSlgO1xyXG4gICAgY29uc3QgdHg0ID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDEwKX0lLCAke3R4NEx9JSlgO1xyXG4gICAgXHJcbiAgICAvLyBIaWdobGlnaHQgY29sb3JzXHJcbiAgICBjb25zdCBobDEgPSBgaHNsYSgke2FjY2VudEh9LCA1MCUsIDQwJSwgMzAlKWA7XHJcbiAgICBjb25zdCBobDIgPSBgcmdiYSgyNTUsIDE3NywgODAsIDAuMylgO1xyXG4gICAgXHJcbiAgICAvLyBTcGVjaWFsIGNvbG9yc1xyXG4gICAgY29uc3Qgc3AxID0gaXNMaWdodE1vZGUgPyAnd2hpdGUnIDogJ2JsYWNrJztcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIHByb3BlciBjb250cmFzdCBmb3IgYWNjZW50IGNvbG9yIHVzaW5nIHJlbGF0aXZlIGx1bWluYW5jZVxyXG4gICAgY29uc3QgaHNsVG9SZ2IgPSAoaDogbnVtYmVyLCBzOiBudW1iZXIsIGw6IG51bWJlcik6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9PiB7XHJcbiAgICAgIGggPSBoIC8gMzYwO1xyXG4gICAgICBzID0gcyAvIDEwMDtcclxuICAgICAgbCA9IGwgLyAxMDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBodWUycmdiID0gKHA6IG51bWJlciwgcTogbnVtYmVyLCB0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodCA8IDApIHQgKz0gMTtcclxuICAgICAgICBpZiAodCA+IDEpIHQgLT0gMTtcclxuICAgICAgICBpZiAodCA8IDEvNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XHJcbiAgICAgICAgaWYgKHQgPCAxLzIpIHJldHVybiBxO1xyXG4gICAgICAgIGlmICh0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xyXG4gICAgICAgIHJldHVybiBwO1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgaWYgKHMgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gW2wsIGwsIGxdO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcclxuICAgICAgY29uc3QgcCA9IDIgKiBsIC0gcTtcclxuICAgICAgY29uc3QgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XHJcbiAgICAgIGNvbnN0IGcgPSBodWUycmdiKHAsIHEsIGgpO1xyXG4gICAgICBjb25zdCBiID0gaHVlMnJnYihwLCBxLCBoIC0gMS8zKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBbciwgZywgYl07XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBjb25zdCBbciwgZywgYl0gPSBoc2xUb1JnYihhY2NlbnRILCBhY2NlbnRTLCBhY2NlbnRMKTtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIHJlbGF0aXZlIGx1bWluYW5jZSAoV0NBRyBmb3JtdWxhKVxyXG4gICAgY29uc3QgbHVtaW5hbmNlID0gMC4yMTI2ICogKHIgPD0gMC4wMzkyOCA/IHIgLyAxMi45MiA6IE1hdGgucG93KChyICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgKyAwLjcxNTIgKiAoZyA8PSAwLjAzOTI4ID8gZyAvIDEyLjkyIDogTWF0aC5wb3coKGcgKyAwLjA1NSkgLyAxLjA1NSwgMi40KSlcclxuICAgICAgICAgICAgICAgICAgICArIDAuMDcyMiAqIChiIDw9IDAuMDM5MjggPyBiIC8gMTIuOTIgOiBNYXRoLnBvdygoYiArIDAuMDU1KSAvIDEuMDU1LCAyLjQpKTtcclxuICAgIFxyXG4gICAgLy8gVXNlIHdoaXRlIHRleHQgaWYgbHVtaW5hbmNlIGlzIGxvdyAoZGFyayBjb2xvciksIGJsYWNrIHRleHQgaWYgaGlnaCAobGlnaHQgY29sb3IpXHJcbiAgICBjb25zdCB0ZXh0T25BY2NlbnQgPSBsdW1pbmFuY2UgPiAwLjUgPyAnYmxhY2snIDogJ3doaXRlJztcclxuICAgIFxyXG4gICAgLy8gQnVpbGQgcHJvcGVydGllcyBvYmplY3RcclxuICAgIGNvbnN0IHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAnLS1iYXNlLWgnOiBgJHtiYXNlSH1gLFxyXG4gICAgICAnLS1iYXNlLXMnOiBgJHtiYXNlU30lYCxcclxuICAgICAgJy0tYmFzZS1sJzogYCR7YmFzZUx9JWAsXHJcbiAgICAgICctLWFjY2VudC1oJzogYCR7YWNjZW50SH1gLFxyXG4gICAgICAnLS1hY2NlbnQtcyc6IGAke2FjY2VudFN9JWAsXHJcbiAgICAgICctLWFjY2VudC1sJzogYCR7YWNjZW50TH0lYCxcclxuICAgICAgJy0tYmcxJzogYmcxLFxyXG4gICAgICAnLS1iZzInOiBiZzIsXHJcbiAgICAgICctLWJnLXRhYic6IGJnMixcclxuICAgICAgJy0tYmczJzogYmczLFxyXG4gICAgICAnLS11aTEnOiB1aTEsXHJcbiAgICAgICctLXVpMic6IHVpMixcclxuICAgICAgJy0tdWkzJzogdWkzLFxyXG4gICAgICAnLS10eDEnOiB0eDEsXHJcbiAgICAgICctLXR4Mic6IHR4MixcclxuICAgICAgJy0tdHgzJzogdHgzLFxyXG4gICAgICAnLS10eDQnOiB0eDQsXHJcbiAgICAgICctLWhsMSc6IGhsMSxcclxuICAgICAgJy0taGwyJzogaGwyLFxyXG4gICAgICAnLS1zcDEnOiBzcDEsXHJcbiAgICAgICctLXRleHQtb24tYWNjZW50JzogdGV4dE9uQWNjZW50LFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gRXh0ZW5kZWQgY29sb3IgcGFsZXR0ZVxyXG4gICAgY29uc3QgZXh0ZW5kZWRTID0gYWNjZW50UztcclxuICAgIGNvbnN0IGV4dGVuZGVkTCA9IGlzTGlnaHRCYXNlID8gNTUgOiA2NTtcclxuICAgIFxyXG4gICAgcHJvcHNbJy0tY29sb3ItcmVkJ10gPSBgaHNsKDAsICR7ZXh0ZW5kZWRTfSUsICR7ZXh0ZW5kZWRMfSUpYDtcclxuICAgIHByb3BzWyctLWNvbG9yLW9yYW5nZSddID0gYGhzbCgyNSwgJHtleHRlbmRlZFN9JSwgJHtleHRlbmRlZEx9JSlgO1xyXG4gICAgcHJvcHNbJy0tY29sb3IteWVsbG93J10gPSBgaHNsKDUwLCAke2V4dGVuZGVkU30lLCAke2V4dGVuZGVkTH0lKWA7XHJcbiAgICBwcm9wc1snLS1jb2xvci1ncmVlbiddID0gYGhzbCgxMzAsICR7ZXh0ZW5kZWRTfSUsICR7ZXh0ZW5kZWRMfSUpYDtcclxuICAgIHByb3BzWyctLWNvbG9yLWN5YW4nXSA9IGBoc2woMTgwLCAke2V4dGVuZGVkU30lLCAke2V4dGVuZGVkTH0lKWA7XHJcbiAgICBwcm9wc1snLS1jb2xvci1ibHVlJ10gPSBgaHNsKDIyMCwgJHtleHRlbmRlZFN9JSwgJHtleHRlbmRlZEx9JSlgO1xyXG4gICAgcHJvcHNbJy0tY29sb3ItcHVycGxlJ10gPSBgaHNsKDI4MCwgJHtleHRlbmRlZFN9JSwgJHtleHRlbmRlZEx9JSlgO1xyXG4gICAgcHJvcHNbJy0tY29sb3ItcGluayddID0gYGhzbCgzMzAsICR7ZXh0ZW5kZWRTfSUsICR7ZXh0ZW5kZWRMfSUpYDtcclxuICAgIFxyXG4gICAgLy8gT3B0aW9uYWwgZnJhbWUgbGlnaHRuZXNzIG92ZXJyaWRlXHJcbiAgICBpZiAocGFsZXR0ZS5mcmFtZUxpZ2h0bmVzc09mZnNldCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGNvbnN0IGZyYW1lTCA9IGFjY2VudEwgKyBwYWxldHRlLmZyYW1lTGlnaHRuZXNzT2Zmc2V0O1xyXG4gICAgICBwcm9wc1snLS1mcmFtZS1iYWNrZ3JvdW5kLWwnXSA9IGAke2ZyYW1lTH0lYDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gT3B0aW9uYWwgY29sb3Igb3ZlcnJpZGVzXHJcbiAgICBpZiAocGFsZXR0ZS5jb2xvcnMpIHtcclxuICAgICAgY29uc3Qgb3ZlcnJpZGVzID0gW1xyXG4gICAgICAgICdiZzEnLCAnYmcyJywgJ2JnMycsXHJcbiAgICAgICAgJ3VpMScsICd1aTInLCAndWkzJyxcclxuICAgICAgICAndHgxJywgJ3R4MicsICd0eDMnLCAndHg0JyxcclxuICAgICAgICAnaGwxJywgJ2hsMicsXHJcbiAgICAgICAgJ3JlZCcsICdvcmFuZ2UnLCAneWVsbG93JywgJ2dyZWVuJywgJ2N5YW4nLCAnYmx1ZScsICdwdXJwbGUnLCAncGluaydcclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIG92ZXJyaWRlcy5mb3JFYWNoKGNvbG9yS2V5ID0+IHtcclxuICAgICAgICBjb25zdCBjb2xvciA9IHBhbGV0dGUuY29sb3JzPy5bY29sb3JLZXkgYXMga2V5b2YgdHlwZW9mIHBhbGV0dGUuY29sb3JzXTtcclxuICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgIHN3aXRjaCAoY29sb3JLZXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnYmcxJzpcclxuICAgICAgICAgICAgY2FzZSAnYmcyJzpcclxuICAgICAgICAgICAgY2FzZSAnYmczJzpcclxuICAgICAgICAgICAgY2FzZSAndWkxJzpcclxuICAgICAgICAgICAgY2FzZSAndWkyJzpcclxuICAgICAgICAgICAgY2FzZSAndWkzJzpcclxuICAgICAgICAgICAgY2FzZSAndHgxJzpcclxuICAgICAgICAgICAgY2FzZSAndHgyJzpcclxuICAgICAgICAgICAgY2FzZSAndHgzJzpcclxuICAgICAgICAgICAgY2FzZSAndHg0JzpcclxuICAgICAgICAgICAgY2FzZSAnaGwxJzpcclxuICAgICAgICAgICAgY2FzZSAnaGwyJzpcclxuICAgICAgICAgICAgICBwcm9wc1tgLS0ke2NvbG9yS2V5fWBdID0gY29sb3I7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgcHJvcHNbYC0tY29sb3ItJHtjb2xvcktleX1gXSA9IGNvbG9yO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBwcm9wcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlIENTUyBmb3IgYSBjdXN0b20gcHJlc2V0IHVzaW5nIE94eWdlbiBjdXN0b20gdmFyaWFibGVzXHJcbiAgICogVGhpcyBhbGxvd3MgU3R5bGUgU2V0dGluZ3MgdG8gb3ZlcnJpZGUgT2JzaWRpYW4gbmF0aXZlIHZhcmlhYmxlc1xyXG4gICAqIEBkZXByZWNhdGVkIFVzZSBnZW5lcmF0ZVByb3BlcnRpZXMgaW5zdGVhZCB0byBhdm9pZCBjcmVhdGluZyBzdHlsZSBlbGVtZW50c1xyXG4gICAqL1xyXG4gIHN0YXRpYyBnZW5lcmF0ZUNTUyhwcmVzZXQ6IEN1c3RvbUNvbG9yUHJlc2V0LCBtb2RlOiAnbGlnaHQnIHwgJ2RhcmsnKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHBhbGV0dGUgPSBtb2RlID09PSAnbGlnaHQnID8gcHJlc2V0LmxpZ2h0IDogcHJlc2V0LmRhcms7XHJcbiAgICBjb25zdCB0aGVtZUNsYXNzID0gbW9kZSA9PT0gJ2xpZ2h0JyA/ICd0aGVtZS1saWdodCcgOiAndGhlbWUtZGFyayc7XHJcbiAgICBjb25zdCBjbGFzc05hbWUgPSBgb3h5Z2VuLWN1c3RvbS0ke3ByZXNldC5pZH1gO1xyXG4gICAgXHJcbiAgICAvLyBVc2Ugc2ltcGxlciBzZWxlY3RvciAtIG1vZGlmaWVzIE94eWdlbiBjdXN0b20gdmFyaWFibGVzLCBub3QgT2JzaWRpYW4gbmF0aXZlXHJcbiAgICBsZXQgY3NzID0gYC4ke3RoZW1lQ2xhc3N9LiR7Y2xhc3NOYW1lfSB7XFxuYDtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIGFsbCBkZXJpdmVkIGNvbG9ycyBiYXNlZCBvbiB0aGUgdGhlbWUncyBjb2xvciBzeXN0ZW1cclxuICAgIGNvbnN0IGJhc2VIID0gcGFsZXR0ZS5iYXNlLmg7XHJcbiAgICBjb25zdCBiYXNlUyA9IHBhbGV0dGUuYmFzZS5zO1xyXG4gICAgY29uc3QgYmFzZUwgPSBwYWxldHRlLmJhc2UubDtcclxuICAgIGNvbnN0IGFjY2VudEggPSBwYWxldHRlLmFjY2VudC5oO1xyXG4gICAgY29uc3QgYWNjZW50UyA9IHBhbGV0dGUuYWNjZW50LnM7XHJcbiAgICBjb25zdCBhY2NlbnRMID0gcGFsZXR0ZS5hY2NlbnQubDtcclxuICAgIFxyXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgaXMgYSBsaWdodCBvciBkYXJrIHRoZW1lIGJhc2VkIG9uIGJhc2UgbGlnaHRuZXNzXHJcbiAgICBjb25zdCBpc0xpZ2h0TW9kZSA9IG1vZGUgPT09ICdsaWdodCc7XHJcbiAgICBjb25zdCBpc0xpZ2h0QmFzZSA9IGJhc2VMID4gNTA7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBjb2xvciB2YWx1ZXNcclxuICAgIGNvbnN0IGJnMSA9IGBoc2woJHtiYXNlSH0sICR7YmFzZVN9JSwgJHtiYXNlTH0lKWA7XHJcbiAgICBjb25zdCBiZzIgPSBgaHNsKCR7YmFzZUh9LCAke2Jhc2VTfSUsICR7aXNMaWdodEJhc2UgPyBNYXRoLm1heCgwLCBiYXNlTCAtIDUpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDUpfSUpYDtcclxuICAgIGNvbnN0IGJnMyA9IGBoc2woJHtiYXNlSH0sICR7YmFzZVN9JSwgJHtpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gMTApIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDEwKX0lKWA7XHJcbiAgICBcclxuICAgIC8vIFVJIGNvbG9ycyAoYm9yZGVycywgZGl2aWRlcnMsIGV0Yy4pIC0gZGFya2VyIGZvciBsaWdodCBtb2RlLCBsaWdodGVyIGZvciBkYXJrIG1vZGVcclxuICAgIGNvbnN0IHVpMUwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gMTUpIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDE1KTtcclxuICAgIGNvbnN0IHVpMkwgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gMTApIDogTWF0aC5taW4oMTAwLCBiYXNlTCArIDEwKTtcclxuICAgIGNvbnN0IHVpM0wgPSBpc0xpZ2h0QmFzZSA/IE1hdGgubWF4KDAsIGJhc2VMIC0gNSkgOiBNYXRoLm1pbigxMDAsIGJhc2VMICsgNSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHVpMSA9IGBoc2woJHtiYXNlSH0sICR7YmFzZVN9JSwgJHt1aTFMfSUpYDtcclxuICAgIGNvbnN0IHVpMiA9IGBoc2woJHtiYXNlSH0sICR7YmFzZVN9JSwgJHt1aTJMfSUpYDtcclxuICAgIGNvbnN0IHVpMyA9IGBoc2woJHtiYXNlSH0sICR7YmFzZVN9JSwgJHt1aTNMfSUpYDtcclxuICAgIFxyXG4gICAgLy8gVGV4dCBjb2xvcnMgLSBlbnN1cmUgcHJvcGVyIGNvbnRyYXN0XHJcbiAgICBjb25zdCB0eDFMID0gaXNMaWdodEJhc2UgPyAxNSA6IDg1OyAgLy8gVmVyeSBkYXJrIHRleHQgZm9yIGxpZ2h0IGJnLCB2ZXJ5IGxpZ2h0IHRleHQgZm9yIGRhcmsgYmdcclxuICAgIGNvbnN0IHR4MkwgPSBpc0xpZ2h0QmFzZSA/IDI1IDogNzU7XHJcbiAgICBjb25zdCB0eDNMID0gaXNMaWdodEJhc2UgPyAzNSA6IDY1O1xyXG4gICAgY29uc3QgdHg0TCA9IGlzTGlnaHRCYXNlID8gMzAgOiA3MDtcclxuICAgIFxyXG4gICAgY29uc3QgdHgxID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDEwKX0lLCAke3R4MUx9JSlgO1xyXG4gICAgY29uc3QgdHgyID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDIwKX0lLCAke3R4Mkx9JSlgO1xyXG4gICAgY29uc3QgdHgzID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDEwKX0lLCAke3R4M0x9JSlgO1xyXG4gICAgY29uc3QgdHg0ID0gYGhzbCgke2Jhc2VIfSwgJHtNYXRoLm1heCgwLCBiYXNlUyAtIDEwKX0lLCAke3R4NEx9JSlgO1xyXG4gICAgXHJcbiAgICAvLyBBY2NlbnQgY29sb3JzIC0gTm90IGNhbGN1bGF0ZWQgaGVyZSBhbnltb3JlXHJcbiAgICAvLyBMZXQgdGhlIE94eWdlbiB0aGVtZSBjYWxjdWxhdGUgYXgxL2F4Mi9heDMgZnJvbSAtLWFjY2VudC1oL3MvbFxyXG4gICAgLy8gVGhpcyBhbGxvd3MgT2JzaWRpYW4ncyBuYXRpdmUgYWNjZW50IHBpY2tlciB0byBvdmVycmlkZSBwcm9wZXJseVxyXG4gICAgXHJcbiAgICAvLyBIaWdobGlnaHQgY29sb3JzXHJcbiAgICBjb25zdCBobDEgPSBgaHNsYSgke2FjY2VudEh9LCA1MCUsIDQwJSwgMzAlKWA7XHJcbiAgICBjb25zdCBobDIgPSBgcmdiYSgyNTUsIDE3NywgODAsIDAuMylgO1xyXG4gICAgXHJcbiAgICAvLyBTcGVjaWFsIGNvbG9yc1xyXG4gICAgY29uc3Qgc3AxID0gaXNMaWdodE1vZGUgPyAnd2hpdGUnIDogJ2JsYWNrJztcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIHByb3BlciBjb250cmFzdCBmb3IgYWNjZW50IGNvbG9yIHVzaW5nIHJlbGF0aXZlIGx1bWluYW5jZVxyXG4gICAgLy8gQ29udmVydCBIU0wgdG8gUkdCIGZvciBsdW1pbmFuY2UgY2FsY3VsYXRpb25cclxuICAgIGNvbnN0IGhzbFRvUmdiID0gKGg6IG51bWJlciwgczogbnVtYmVyLCBsOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPT4ge1xyXG4gICAgICBoID0gaCAvIDM2MDtcclxuICAgICAgcyA9IHMgLyAxMDA7XHJcbiAgICAgIGwgPSBsIC8gMTAwO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgaHVlMnJnYiA9IChwOiBudW1iZXIsIHE6IG51bWJlciwgdDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHQgPCAwKSB0ICs9IDE7XHJcbiAgICAgICAgaWYgKHQgPiAxKSB0IC09IDE7XHJcbiAgICAgICAgaWYgKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xyXG4gICAgICAgIGlmICh0IDwgMS8yKSByZXR1cm4gcTtcclxuICAgICAgICBpZiAodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcclxuICAgICAgICByZXR1cm4gcDtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFtsLCBsLCBsXTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XHJcbiAgICAgIGNvbnN0IHAgPSAyICogbCAtIHE7XHJcbiAgICAgIGNvbnN0IHIgPSBodWUycmdiKHAsIHEsIGggKyAxLzMpO1xyXG4gICAgICBjb25zdCBnID0gaHVlMnJnYihwLCBxLCBoKTtcclxuICAgICAgY29uc3QgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gW3IsIGcsIGJdO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3QgW3IsIGcsIGJdID0gaHNsVG9SZ2IoYWNjZW50SCwgYWNjZW50UywgYWNjZW50TCk7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSByZWxhdGl2ZSBsdW1pbmFuY2UgKFdDQUcgZm9ybXVsYSlcclxuICAgIGNvbnN0IGx1bWluYW5jZSA9IDAuMjEyNiAqIChyIDw9IDAuMDM5MjggPyByIC8gMTIuOTIgOiBNYXRoLnBvdygociArIDAuMDU1KSAvIDEuMDU1LCAyLjQpKVxyXG4gICAgICAgICAgICAgICAgICAgICsgMC43MTUyICogKGcgPD0gMC4wMzkyOCA/IGcgLyAxMi45MiA6IE1hdGgucG93KChnICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkpXHJcbiAgICAgICAgICAgICAgICAgICAgKyAwLjA3MjIgKiAoYiA8PSAwLjAzOTI4ID8gYiAvIDEyLjkyIDogTWF0aC5wb3coKGIgKyAwLjA1NSkgLyAxLjA1NSwgMi40KSk7XHJcbiAgICBcclxuICAgIC8vIFVzZSB3aGl0ZSB0ZXh0IGlmIGx1bWluYW5jZSBpcyBsb3cgKGRhcmsgY29sb3IpLCBibGFjayB0ZXh0IGlmIGhpZ2ggKGxpZ2h0IGNvbG9yKVxyXG4gICAgLy8gVGhyZXNob2xkIG9mIDAuNSB3b3JrcyB3ZWxsIGZvciBtb3N0IGNhc2VzIChXQ0FHIHVzZXMgMC4xNzkgZm9yIEFBIGNvbnRyYXN0KVxyXG4gICAgY29uc3QgdGV4dE9uQWNjZW50ID0gbHVtaW5hbmNlID4gMC41ID8gJ2JsYWNrJyA6ICd3aGl0ZSc7XHJcbiAgICBcclxuICAgIC8vID09PSBCQVNFIEhTTCBWQUxVRVMgKFJlcXVpcmVkIGZvciBjb2xvcmZ1bC1mcmFtZSBhbmQgY29sb3JmdWwtaGVhZGluZ3MpID09PVxyXG4gICAgY3NzICs9IGAgIC0tYmFzZS1oOiAke2Jhc2VIfTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tYmFzZS1zOiAke2Jhc2VTfSU7XFxuYDtcclxuICAgIGNzcyArPSBgICAtLWJhc2UtbDogJHtiYXNlTH0lO1xcbmA7XHJcbiAgICBjc3MgKz0gYFxcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS1hY2NlbnQtaDogJHthY2NlbnRIfTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tYWNjZW50LXM6ICR7YWNjZW50U30lO1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS1hY2NlbnQtbDogJHthY2NlbnRMfSU7XFxuYDtcclxuICAgIGNzcyArPSBgXFxuYDtcclxuICAgIFxyXG4gICAgLy8gPT09IE9YWUdFTiBDVVNUT00gVkFSSUFCTEVTIChDb3JlIHRoZW1lIGNvbG9ycykgPT09XHJcbiAgICAvLyBCYWNrZ3JvdW5kc1xyXG4gICAgY3NzICs9IGAgIC0tYmcxOiAke2JnMX07XFxuYDtcclxuICAgIGNzcyArPSBgICAtLWJnMjogJHtiZzJ9O1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS1iZy10YWI6ICR7YmcyfTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tYmczOiAke2JnM307XFxuYDtcclxuICAgIGNzcyArPSBgXFxuYDtcclxuICAgIFxyXG4gICAgLy8gVUkgRWxlbWVudHNcclxuICAgIGNzcyArPSBgICAtLXVpMTogJHt1aTF9O1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS11aTI6ICR7dWkyfTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tdWkzOiAke3VpM307XFxuYDtcclxuICAgIGNzcyArPSBgXFxuYDtcclxuICAgIFxyXG4gICAgLy8gVGV4dCBDb2xvcnNcclxuICAgIGNzcyArPSBgICAtLXR4MTogJHt0eDF9O1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS10eDI6ICR7dHgyfTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tdHgzOiAke3R4M307XFxuYDtcclxuICAgIGNzcyArPSBgICAtLXR4NDogJHt0eDR9O1xcbmA7XHJcbiAgICBjc3MgKz0gYFxcbmA7XHJcbiAgICBcclxuICAgIC8vIEFjY2VudCBDb2xvcnMgLSBEb24ndCBzZXQgYXgxL2F4Mi9heDMgZXhwbGljaXRseVxyXG4gICAgLy8gTGV0IHRoZSBPeHlnZW4gdGhlbWUgQ1NTIGNhbGN1bGF0ZSB0aGVzZSBmcm9tIC0tYWNjZW50LWgvcy9sXHJcbiAgICAvLyBUaGlzIGFsbG93cyBPYnNpZGlhbidzIG5hdGl2ZSBhY2NlbnQgY29sb3IgcGlja2VyIHRvIHdvcmsgcHJvcGVybHlcclxuICAgIC8vIGNzcyArPSBgICAtLWF4MTogJHtheDF9O1xcbmA7XHJcbiAgICAvLyBjc3MgKz0gYCAgLS1heDI6ICR7YXgyfTtcXG5gO1xyXG4gICAgLy8gY3NzICs9IGAgIC0tYXgzOiAke2F4M307XFxuYDtcclxuICAgIC8vIGNzcyArPSBgXFxuYDtcclxuICAgIFxyXG4gICAgLy8gSGlnaGxpZ2h0c1xyXG4gICAgY3NzICs9IGAgIC0taGwxOiAke2hsMX07XFxuYDtcclxuICAgIGNzcyArPSBgICAtLWhsMjogJHtobDJ9O1xcbmA7XHJcbiAgICBjc3MgKz0gYFxcbmA7XHJcbiAgICBcclxuICAgIC8vIFNwZWNpYWxcclxuICAgIGNzcyArPSBgICAtLXNwMTogJHtzcDF9O1xcbmA7XHJcbiAgICBjc3MgKz0gYFxcbmA7XHJcbiAgICBcclxuICAgIC8vIFRleHQgb24gYWNjZW50IChmb3IgcHJvcGVyIGNvbnRyYXN0IG9uIGFjY2VudC1jb2xvcmVkIGJhY2tncm91bmRzKVxyXG4gICAgY3NzICs9IGAgIC0tdGV4dC1vbi1hY2NlbnQ6ICR7dGV4dE9uQWNjZW50fTtcXG5gO1xyXG4gICAgY3NzICs9IGBcXG5gO1xyXG4gICAgXHJcbiAgICAvLyA9PT0gRVhURU5ERUQgQ09MT1IgUEFMRVRURSA9PT1cclxuICAgIC8vIEdlbmVyYXRlIGV4dGVuZGVkIHBhbGV0dGUgYmFzZWQgb24gYWNjZW50IGNvbG9yIGZvciBjb2xvcmZ1bCBoZWFkaW5ncy9mcmFtZXNcclxuICAgIC8vIFVzZXMgZml4ZWQgaHVlcyB3aXRoIHRoZSBwcmVzZXQncyBzYXR1cmF0aW9uIGFuZCBhZGp1c3RlZCBsaWdodG5lc3NcclxuICAgIGNvbnN0IGV4dGVuZGVkUyA9IGFjY2VudFM7XHJcbiAgICBjb25zdCBleHRlbmRlZEwgPSBpc0xpZ2h0QmFzZSA/IDU1IDogNjU7IC8vIFNsaWdodGx5IGRpZmZlcmVudCBmb3IgbGlnaHQgdnMgZGFya1xyXG4gICAgXHJcbiAgICBjc3MgKz0gYCAgLS1jb2xvci1yZWQ6IGhzbCgwLCAke2V4dGVuZGVkU30lLCAke2V4dGVuZGVkTH0lKTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tY29sb3Itb3JhbmdlOiBoc2woMjUsICR7ZXh0ZW5kZWRTfSUsICR7ZXh0ZW5kZWRMfSUpO1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS1jb2xvci15ZWxsb3c6IGhzbCg1MCwgJHtleHRlbmRlZFN9JSwgJHtleHRlbmRlZEx9JSk7XFxuYDtcclxuICAgIGNzcyArPSBgICAtLWNvbG9yLWdyZWVuOiBoc2woMTMwLCAke2V4dGVuZGVkU30lLCAke2V4dGVuZGVkTH0lKTtcXG5gO1xyXG4gICAgY3NzICs9IGAgIC0tY29sb3ItY3lhbjogaHNsKDE4MCwgJHtleHRlbmRlZFN9JSwgJHtleHRlbmRlZEx9JSk7XFxuYDtcclxuICAgIGNzcyArPSBgICAtLWNvbG9yLWJsdWU6IGhzbCgyMjAsICR7ZXh0ZW5kZWRTfSUsICR7ZXh0ZW5kZWRMfSUpO1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS1jb2xvci1wdXJwbGU6IGhzbCgyODAsICR7ZXh0ZW5kZWRTfSUsICR7ZXh0ZW5kZWRMfSUpO1xcbmA7XHJcbiAgICBjc3MgKz0gYCAgLS1jb2xvci1waW5rOiBoc2woMzMwLCAke2V4dGVuZGVkU30lLCAke2V4dGVuZGVkTH0lKTtcXG5gO1xyXG4gICAgY3NzICs9IGBcXG5gO1xyXG4gICAgXHJcbiAgICAvLyA9PT0gQ09MT1JGVUwgRlJBTUUgT1ZFUlJJREUgPT09XHJcbiAgICAvLyBPcHRpb25hbCBvdmVycmlkZSBmb3IgY29sb3JmdWwtZnJhbWUgbGlnaHRuZXNzXHJcbiAgICAvLyBEZWZhdWx0IE94eWdlbiBiZWhhdmlvcjogZGFyayBtb2RlIC0yNSUsIGxpZ2h0IG1vZGUgKzMwJVxyXG4gICAgaWYgKHBhbGV0dGUuZnJhbWVMaWdodG5lc3NPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCBmcmFtZUwgPSBhY2NlbnRMICsgcGFsZXR0ZS5mcmFtZUxpZ2h0bmVzc09mZnNldDtcclxuICAgICAgY3NzICs9IGAgIC0tZnJhbWUtYmFja2dyb3VuZC1sOiAke2ZyYW1lTH0lO1xcbmA7XHJcbiAgICAgIGNzcyArPSBgXFxuYDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gT3B0aW9uYWwgY29sb3Igb3ZlcnJpZGVzIChpZiB1c2VyIHByb3ZpZGVkIHNwZWNpZmljIGNvbG9ycylcclxuICAgIGlmIChwYWxldHRlLmNvbG9ycykge1xyXG4gICAgICBjb25zdCBvdmVycmlkZXMgPSBbXHJcbiAgICAgICAgJ2JnMScsICdiZzInLCAnYmczJyxcclxuICAgICAgICAndWkxJywgJ3VpMicsICd1aTMnLFxyXG4gICAgICAgICd0eDEnLCAndHgyJywgJ3R4MycsICd0eDQnLFxyXG4gICAgICAgICdobDEnLCAnaGwyJyxcclxuICAgICAgICAncmVkJywgJ29yYW5nZScsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnY3lhbicsICdibHVlJywgJ3B1cnBsZScsICdwaW5rJ1xyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgb3ZlcnJpZGVzLmZvckVhY2goY29sb3JLZXkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gcGFsZXR0ZS5jb2xvcnM/Lltjb2xvcktleSBhcyBrZXlvZiB0eXBlb2YgcGFsZXR0ZS5jb2xvcnNdO1xyXG4gICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgLy8gTWFwIGN1c3RvbSBvdmVycmlkZXMgdG8gYXBwcm9wcmlhdGUgT2JzaWRpYW4gdmFyaWFibGVzXHJcbiAgICAgICAgICBzd2l0Y2ggKGNvbG9yS2V5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2JnMSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JnMic6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JnMyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3VpMSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3VpMic6XHJcbiAgICAgICAgICAgIGNhc2UgJ3VpMyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3R4MSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3R4Mic6XHJcbiAgICAgICAgICAgIGNhc2UgJ3R4Myc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3R4NCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2hsMSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2hsMic6XHJcbiAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgT3h5Z2VuIGN1c3RvbSB2YXJpYWJsZXMgZGlyZWN0bHkgKG5vICFpbXBvcnRhbnQpXHJcbiAgICAgICAgICAgICAgY3NzICs9IGAgIC0tJHtjb2xvcktleX06ICR7Y29sb3J9O1xcbmA7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIEZvciBhY2NlbnQgY29sb3JzLCB3ZSBuZWVkIHRvIGRldGVybWluZSB3aGljaCBheCB2YXJpYWJsZSB0aGlzIHNob3VsZCBtYXAgdG9cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgbWFwcGluZyAtIGluIHByYWN0aWNlLCB5b3UgbWlnaHQgd2FudCBtb3JlIHNvcGhpc3RpY2F0ZWQgbG9naWNcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAvLyBGb3Igc3ludGF4IGNvbG9ycyBhbmQgb3RoZXIgY3VzdG9tIGNvbG9ycywgd2UgY2FuIGFkZCB0aGVtIGFzIGN1c3RvbSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgY3NzICs9IGAgIC0tY29sb3ItJHtjb2xvcktleX06ICR7Y29sb3J9O1xcbmA7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY3NzICs9ICd9XFxuJztcclxuICAgIFxyXG4gICAgcmV0dXJuIGNzcztcclxuICB9XHJcbn1cclxuXHJcbiIsICIvKipcclxuICogQ3VzdG9tIFByZXNldCBDU1MgTWFuYWdlbWVudFxyXG4gKiBIYW5kbGVzIGdlbmVyYXRpb24gYW5kIGluamVjdGlvbiBvZiBDU1MgZm9yIGN1c3RvbSBjb2xvciBwcmVzZXRzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUGx1Z2luQ29udGV4dCB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgUHJlc2V0Q1NTR2VuZXJhdG9yIH0gZnJvbSAnLi4vcHJlc2V0cy9wcmVzZXQtY3NzLWdlbmVyYXRvcic7XHJcbmltcG9ydCB7IHNldENzc1Byb3BzIH0gZnJvbSAnLi4vdXRpbHMvY3NzLXByb3BzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDdXN0b21QcmVzZXRDU1Mge1xyXG4gIHByaXZhdGUgcGx1Z2luOiBQbHVnaW5Db250ZXh0O1xyXG4gIHByaXZhdGUgaXNVcGRhdGluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogUGx1Z2luQ29udGV4dCkge1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgfVxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemUgY3VzdG9tIHByZXNldCBDU1NcclxuICAgKiBVc2VzIENTUyBjdXN0b20gcHJvcGVydGllcyBvbiBib2R5IGVsZW1lbnQgaW5zdGVhZCBvZiBjcmVhdGluZyBzdHlsZSBlbGVtZW50c1xyXG4gICAqL1xyXG4gIGluaXRpYWxpemUoKTogdm9pZCB7XHJcbiAgICAvLyBPbmx5IGluaXRpYWxpemUgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDU1MoKTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIGN1c3RvbSBwcmVzZXQgQ1NTIGJhc2VkIG9uIGN1cnJlbnQgc2V0dGluZ3NcclxuICAgKiBVc2VzIENTUyBjdXN0b20gcHJvcGVydGllcyBvbiBib2R5IGVsZW1lbnQgaW5zdGVhZCBvZiBjcmVhdGluZyBzdHlsZSBlbGVtZW50c1xyXG4gICAqIFRoaXMgY29tcGxpZXMgd2l0aCBPYnNpZGlhbiBndWlkZWxpbmVzIHRvIGF2b2lkIGNyZWF0aW5nIHN0eWxlIGVsZW1lbnRzXHJcbiAgICovXHJcbiAgdXBkYXRlQ1NTKCk6IHZvaWQge1xyXG4gICAgLy8gUHJldmVudCByZS1lbnRyYW50IHVwZGF0ZXMgKGZpeGVzIGluZmluaXRlIGxvb3ApXHJcbiAgICBpZiAodGhpcy5pc1VwZGF0aW5nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gT25seSB1cGRhdGUgQ1NTIGlmIE94eWdlbiB0aGVtZSBpcyBhY3RpdmVcclxuICAgIGlmICghdGhpcy5wbHVnaW4uaXNPeHlnZW5UaGVtZUFjdGl2ZSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU2V0IGZsYWcgdG8gcHJldmVudCByZS1lbnRyYW50IGNhbGxzXHJcbiAgICB0aGlzLmlzVXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBSZW1vdmUgYWxsIGN1c3RvbSBwcmVzZXQgY2xhc3NlcyBmcm9tIGJvZHlcclxuICAgIGNvbnN0IGFsbFByZXNldENsYXNzZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0KS5maWx0ZXIoY2xzID0+IFxyXG4gICAgICBjbHMuc3RhcnRzV2l0aCgnb3h5Z2VuLWN1c3RvbS0nKVxyXG4gICAgKTtcclxuICAgIGFsbFByZXNldENsYXNzZXMuZm9yRWFjaChjbHMgPT4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKGNscykpO1xyXG4gICAgXHJcbiAgICAvLyBSZW1vdmUgYWxsIGN1c3RvbSBwcmVzZXQgQ1NTIHByb3BlcnRpZXNcclxuICAgIC8vIExpc3Qgb2YgYWxsIHBvc3NpYmxlIGN1c3RvbSBwcmVzZXQgQ1NTIHByb3BlcnRpZXNcclxuICAgIGNvbnN0IHByZXNldFByb3BlcnRpZXMgPSBbXHJcbiAgICAgICctLWJhc2UtaCcsICctLWJhc2UtcycsICctLWJhc2UtbCcsXHJcbiAgICAgICctLWFjY2VudC1oJywgJy0tYWNjZW50LXMnLCAnLS1hY2NlbnQtbCcsXHJcbiAgICAgICctLWJnMScsICctLWJnMicsICctLWJnLXRhYicsICctLWJnMycsXHJcbiAgICAgICctLXVpMScsICctLXVpMicsICctLXVpMycsXHJcbiAgICAgICctLXR4MScsICctLXR4MicsICctLXR4MycsICctLXR4NCcsXHJcbiAgICAgICctLWhsMScsICctLWhsMicsXHJcbiAgICAgICctLXNwMScsXHJcbiAgICAgICctLXRleHQtb24tYWNjZW50JyxcclxuICAgICAgJy0tY29sb3ItcmVkJywgJy0tY29sb3Itb3JhbmdlJywgJy0tY29sb3IteWVsbG93JywgJy0tY29sb3ItZ3JlZW4nLFxyXG4gICAgICAnLS1jb2xvci1jeWFuJywgJy0tY29sb3ItYmx1ZScsICctLWNvbG9yLXB1cnBsZScsICctLWNvbG9yLXBpbmsnLFxyXG4gICAgICAnLS1mcmFtZS1iYWNrZ3JvdW5kLWwnXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBwcmVzZXRQcm9wZXJ0aWVzLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gRmluZCBhY3RpdmUgcHJlc2V0c1xyXG4gICAgY29uc3QgYWN0aXZlTGlnaHRQcmVzZXQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmZpbmQocCA9PiBcclxuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUgPT09IGBveHlnZW4tY3VzdG9tLSR7cC5pZH1gXHJcbiAgICApO1xyXG4gICAgY29uc3QgYWN0aXZlRGFya1ByZXNldCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMuZmluZChwID0+IFxyXG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lID09PSBgb3h5Z2VuLWN1c3RvbS0ke3AuaWR9YFxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gRGV0ZXJtaW5lIGN1cnJlbnQgdGhlbWUgbW9kZVxyXG4gICAgY29uc3QgaXNMaWdodE1vZGUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndGhlbWUtbGlnaHQnKTtcclxuICAgIGNvbnN0IGFjdGl2ZVByZXNldCA9IGlzTGlnaHRNb2RlID8gYWN0aXZlTGlnaHRQcmVzZXQgOiBhY3RpdmVEYXJrUHJlc2V0O1xyXG4gICAgXHJcbiAgICAvLyBBcHBseSBwcm9wZXJ0aWVzIGZvciB0aGUgYWN0aXZlIHByZXNldFxyXG4gICAgaWYgKGFjdGl2ZVByZXNldCkge1xyXG4gICAgICBjb25zdCBwcmVzZXRDbGFzcyA9IGBveHlnZW4tY3VzdG9tLSR7YWN0aXZlUHJlc2V0LmlkfWA7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChwcmVzZXRDbGFzcyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtb2RlID0gaXNMaWdodE1vZGUgPyAnbGlnaHQnIDogJ2RhcmsnO1xyXG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gUHJlc2V0Q1NTR2VuZXJhdG9yLmdlbmVyYXRlUHJvcGVydGllcyhhY3RpdmVQcmVzZXQsIG1vZGUpO1xyXG4gICAgICBzZXRDc3NQcm9wcyhkb2N1bWVudC5ib2R5LCBwcm9wZXJ0aWVzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2xlYXIgdGhlIHVwZGF0aW5nIGZsYWcgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byBhbGxvdyBDU1MgdG8gc2V0dGxlXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5pc1VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICB9LCA1MCk7XHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIC8qKlxyXG4gICAqIENsZWFudXAgLSByZW1vdmUgYWxsIGN1c3RvbSBwcmVzZXQgY2xhc3NlcyBhbmQgQ1NTIHByb3BlcnRpZXNcclxuICAgKi9cclxuICBjbGVhbnVwKCk6IHZvaWQge1xyXG4gICAgLy8gUmVtb3ZlIGFsbCBjdXN0b20gcHJlc2V0IGNsYXNzZXNcclxuICAgIGNvbnN0IGFsbFByZXNldENsYXNzZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0KS5maWx0ZXIoY2xzID0+IFxyXG4gICAgICBjbHMuc3RhcnRzV2l0aCgnb3h5Z2VuLWN1c3RvbS0nKVxyXG4gICAgKTtcclxuICAgIGFsbFByZXNldENsYXNzZXMuZm9yRWFjaChjbHMgPT4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKGNscykpO1xyXG4gICAgXHJcbiAgICAvLyBSZW1vdmUgYWxsIGN1c3RvbSBwcmVzZXQgQ1NTIHByb3BlcnRpZXNcclxuICAgIGNvbnN0IHByZXNldFByb3BlcnRpZXMgPSBbXHJcbiAgICAgICctLWJhc2UtaCcsICctLWJhc2UtcycsICctLWJhc2UtbCcsXHJcbiAgICAgICctLWFjY2VudC1oJywgJy0tYWNjZW50LXMnLCAnLS1hY2NlbnQtbCcsXHJcbiAgICAgICctLWJnMScsICctLWJnMicsICctLWJnLXRhYicsICctLWJnMycsXHJcbiAgICAgICctLXVpMScsICctLXVpMicsICctLXVpMycsXHJcbiAgICAgICctLXR4MScsICctLXR4MicsICctLXR4MycsICctLXR4NCcsXHJcbiAgICAgICctLWhsMScsICctLWhsMicsXHJcbiAgICAgICctLXNwMScsXHJcbiAgICAgICctLXRleHQtb24tYWNjZW50JyxcclxuICAgICAgJy0tY29sb3ItcmVkJywgJy0tY29sb3Itb3JhbmdlJywgJy0tY29sb3IteWVsbG93JywgJy0tY29sb3ItZ3JlZW4nLFxyXG4gICAgICAnLS1jb2xvci1jeWFuJywgJy0tY29sb3ItYmx1ZScsICctLWNvbG9yLXB1cnBsZScsICctLWNvbG9yLXBpbmsnLFxyXG4gICAgICAnLS1mcmFtZS1iYWNrZ3JvdW5kLWwnXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBwcmVzZXRQcm9wZXJ0aWVzLmZvckVhY2gocHJvcCA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbiIsICIvKipcbiAqIENlbnRyYWwgY29uc3RhbnRzIGZvciB0aGUgT3h5Z2VuIFNldHRpbmdzIHBsdWdpblxuICogRWxpbWluYXRlcyBtYWdpYyBzdHJpbmdzIGFuZCBwcm92aWRlcyBzaW5nbGUgc291cmNlIG9mIHRydXRoXG4gKi9cblxuLy8gUGx1Z2luIGlkZW50aWZpY2F0aW9uXG5leHBvcnQgY29uc3QgUExVR0lOX0lEID0gJ294eWdlbi1zZXR0aW5ncyc7XG5leHBvcnQgY29uc3QgUExVR0lOX05BTUUgPSAnT3h5Z2VuIFRoZW1lIFNldHRpbmdzJztcblxuLy8gQ1NTIGNsYXNzIG5hbWVzXG5leHBvcnQgY29uc3QgQ1NTX0NMQVNTRVMgPSB7XG4gIFBMVUdJTl9USEVNRTogJ294eWdlbi10aGVtZScsXG4gIFRIRU1FX0xJR0hUOiAndGhlbWUtbGlnaHQnLFxuICBUSEVNRV9EQVJLOiAndGhlbWUtZGFyaycsXG4gIENVU1RPTV9QUkVTRVRTX1NUWUxFOiAnb3h5Z2VuLWN1c3RvbS1wcmVzZXRzJyxcbiAgVEhFTUVfT1ZFUlJJREU6ICdkYXRhLXRoZW1lLW92ZXJyaWRlJyxcbn0gYXMgY29uc3Q7XG5cbi8vIExpZ2h0IG1vZGUgc3R5bGVzXG5leHBvcnQgY29uc3QgTElHSFRfU1RZTEVTID0gW1xuICAnb3h5Z2VuLWxpZ2h0JyxcbiAgJ294eWdlbi1saWdodC10b25hbCcsXG4gICdveHlnZW4tbGlnaHQtY29udHJhc3QnLFxuICAnb3h5Z2VuLWxpZ2h0LXdoaXRlJ1xuXSBhcyBjb25zdDtcblxuLy8gRGFyayBtb2RlIHN0eWxlc1xuZXhwb3J0IGNvbnN0IERBUktfU1RZTEVTID0gW1xuICAnb3h5Z2VuLWRhcmsnLFxuICAnb3h5Z2VuLWRhcmstdG9uYWwnLFxuICAnb3h5Z2VuLWRhcmstYmxhY2snXG5dIGFzIGNvbnN0O1xuXG4vLyBMaWdodCBjb2xvciBzY2hlbWVzIChidWlsdC1pbilcbmV4cG9ydCBjb25zdCBMSUdIVF9TQ0hFTUVTID0gW1xuICAnb3h5Z2VuLW94eWdlbi1saWdodCcsXG4gICdveHlnZW4tbWluaW1hbC1saWdodCcsXG4gICdveHlnZW4tYXRvbS1saWdodCcsXG4gICdveHlnZW4tYXl1LWxpZ2h0JyxcbiAgJ294eWdlbi1jYXRwcHVjY2luLWxpZ2h0JyxcbiAgJ294eWdlbi1laW5rLWxpZ2h0JyxcbiAgJ294eWdlbi1ldmVyZm9yZXN0LWxpZ2h0JyxcbiAgJ294eWdlbi1mbGV4b2tpLWxpZ2h0JyxcbiAgJ294eWdlbi1ncnV2Ym94LWxpZ2h0JyxcbiAgJ294eWdlbi1tYWNvcy1saWdodCcsXG4gICdveHlnZW4tbm9yZC1saWdodCcsXG4gICdveHlnZW4tcm9zZS1waW5lLWxpZ2h0JyxcbiAgJ294eWdlbi1ub3Rpb24tbGlnaHQnLFxuICAnb3h5Z2VuLXNvbGFyaXplZC1saWdodCcsXG4gICdveHlnZW4tdGhpbmdzLWxpZ2h0J1xuXSBhcyBjb25zdDtcblxuLy8gRGFyayBjb2xvciBzY2hlbWVzIChidWlsdC1pbilcbmV4cG9ydCBjb25zdCBEQVJLX1NDSEVNRVMgPSBbXG4gICdveHlnZW4tb3h5Z2VuLWRhcmsnLFxuICAnb3h5Z2VuLW1pbmltYWwtZGFyaycsXG4gICdveHlnZW4tYXRvbS1kYXJrJyxcbiAgJ294eWdlbi1heXUtZGFyaycsXG4gICdveHlnZW4tY2F0cHB1Y2Npbi1kYXJrJyxcbiAgJ294eWdlbi1kcmFjdWxhLWRhcmsnLFxuICAnb3h5Z2VuLWVpbmstZGFyaycsXG4gICdveHlnZW4tZXZlcmZvcmVzdC1kYXJrJyxcbiAgJ294eWdlbi1mbGV4b2tpLWRhcmsnLFxuICAnb3h5Z2VuLWdydXZib3gtZGFyaycsXG4gICdveHlnZW4tbWFjb3MtZGFyaycsXG4gICdveHlnZW4tbm9yZC1kYXJrJyxcbiAgJ294eWdlbi1yb3NlLXBpbmUtZGFyaycsXG4gICdveHlnZW4tbm90aW9uLWRhcmsnLFxuICAnb3h5Z2VuLXNvbGFyaXplZC1kYXJrJyxcbiAgJ294eWdlbi10aGluZ3MtZGFyaydcbl0gYXMgY29uc3Q7XG5cbi8vIEltYWdlIGdyaWQgc3R5bGVzXG5leHBvcnQgY29uc3QgSU1BR0VfR1JJRF9TVFlMRVMgPSBbXG4gICdpbWctZ3JpZCcsXG4gICdpbWctZ3JpZC1yYXRpbycsXG4gICdpbWctbm9ncmlkJ1xuXSBhcyBjb25zdDtcblxuLy8gV2lkdGggc3R5bGUgb3B0aW9uc1xuZXhwb3J0IGNvbnN0IFRBQkxFX1dJRFRIX1NUWUxFUyA9IFtcbiAgJ3RhYmxlLTEwMCcsXG4gICd0YWJsZS1kZWZhdWx0LXdpZHRoJyxcbiAgJ3RhYmxlLXdpZGUnLFxuICAndGFibGUtbWF4J1xuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IElGUkFNRV9XSURUSF9TVFlMRVMgPSBbXG4gICdpZnJhbWUtMTAwJyxcbiAgJ2lmcmFtZS1kZWZhdWx0LXdpZHRoJyxcbiAgJ2lmcmFtZS13aWRlJyxcbiAgJ2lmcmFtZS1tYXgnXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgSU1BR0VfV0lEVEhfU1RZTEVTID0gW1xuICAnaW1nLTEwMCcsXG4gICdpbWctZGVmYXVsdC13aWR0aCcsXG4gICdpbWctd2lkZScsXG4gICdpbWctbWF4J1xuXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IE1BUF9XSURUSF9TVFlMRVMgPSBbXG4gICdtYXAtMTAwJyxcbiAgJ21hcC1kZWZhdWx0LXdpZHRoJyxcbiAgJ21hcC13aWRlJyxcbiAgJ21hcC1tYXgnXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgQ0hBUlRfV0lEVEhfU1RZTEVTID0gW1xuICAnY2hhcnQtMTAwJyxcbiAgJ2NoYXJ0LWRlZmF1bHQtd2lkdGgnLFxuICAnY2hhcnQtd2lkZScsXG4gICdjaGFydC1tYXgnXG5dIGFzIGNvbnN0O1xuXG4vLyBDb21tYW5kIElEc1xuZXhwb3J0IGNvbnN0IENPTU1BTkRfSURTID0ge1xuICAvLyBGb250IGNvbW1hbmRzXG4gIElOQ1JFQVNFX0ZPTlQ6ICdpbmNyZWFzZS1ib2R5LWZvbnQtc2l6ZScsXG4gIERFQ1JFQVNFX0ZPTlQ6ICdkZWNyZWFzZS1ib2R5LWZvbnQtc2l6ZScsXG4gIFxuICAvLyBTdHlsZSBjeWNsaW5nIGNvbW1hbmRzXG4gIENZQ0xFX0RBUktfU1RZTEU6ICd0b2dnbGUtbWluaW1hbC1kYXJrLWN5Y2xlJyxcbiAgQ1lDTEVfTElHSFRfU1RZTEU6ICd0b2dnbGUtbWluaW1hbC1saWdodC1jeWNsZScsXG4gIFxuICAvLyBGZWF0dXJlIHRvZ2dsZSBjb21tYW5kc1xuICBUT0dHTEVfQk9SREVSUzogJ3RvZ2dsZS1oaWRkZW4tYm9yZGVycycsXG4gIFRPR0dMRV9DT0xPUkZVTF9IRUFESU5HUzogJ3RvZ2dsZS1jb2xvcmZ1bC1oZWFkaW5ncycsXG4gIFRPR0dMRV9DT0xPUkZVTF9GUkFNRTogJ3RvZ2dsZS1taW5pbWFsLWNvbG9yZnVsLWZyYW1lJyxcbiAgVE9HR0xFX0lNQUdFX0dSSUQ6ICd0b2dnbGUtbWluaW1hbC1pbWctZ3JpZCcsXG4gIFRPR0dMRV9USEVNRTogJ3RvZ2dsZS1taW5pbWFsLXN3aXRjaCcsXG4gIFxuICAvLyBXaWR0aCBjeWNsaW5nIGNvbW1hbmRzXG4gIENZQ0xFX1RBQkxFX1dJRFRIOiAnY3ljbGUtbWluaW1hbC10YWJsZS13aWR0aCcsXG4gIENZQ0xFX0lNQUdFX1dJRFRIOiAnY3ljbGUtbWluaW1hbC1pbWFnZS13aWR0aCcsXG4gIENZQ0xFX0lGUkFNRV9XSURUSDogJ2N5Y2xlLW1pbmltYWwtaWZyYW1lLXdpZHRoJyxcbiAgQ1lDTEVfQ0hBUlRfV0lEVEg6ICdjeWNsZS1taW5pbWFsLWNoYXJ0LXdpZHRoJyxcbiAgQ1lDTEVfTUFQX1dJRFRIOiAnY3ljbGUtbWluaW1hbC1tYXAtd2lkdGgnLFxuICBcbiAgLy8gTGlnaHQgc3R5bGUgY29tbWFuZHNcbiAgTElHSFRfREVGQVVMVDogJ3RvZ2dsZS1taW5pbWFsLWxpZ2h0LWRlZmF1bHQnLFxuICBMSUdIVF9XSElURTogJ3RvZ2dsZS1taW5pbWFsLWxpZ2h0LXdoaXRlJyxcbiAgTElHSFRfVE9OQUw6ICd0b2dnbGUtbWluaW1hbC1saWdodC10b25hbCcsXG4gIExJR0hUX0NPTlRSQVNUOiAndG9nZ2xlLW1pbmltYWwtbGlnaHQtY29udHJhc3QnLFxuICBcbiAgLy8gRGFyayBzdHlsZSBjb21tYW5kc1xuICBEQVJLX0RFRkFVTFQ6ICd0b2dnbGUtbWluaW1hbC1kYXJrLWRlZmF1bHQnLFxuICBEQVJLX1RPTkFMOiAndG9nZ2xlLW1pbmltYWwtZGFyay10b25hbCcsXG4gIERBUktfQkxBQ0s6ICd0b2dnbGUtbWluaW1hbC1kYXJrLWJsYWNrJyxcbiAgXG4gIC8vIEN1c3RvbSBwcmVzZXQgY29tbWFuZHNcbiAgQ1JFQVRFX1BSRVNFVDogJ2NyZWF0ZS1jdXN0b20tcHJlc2V0JyxcbiAgSU1QT1JUX1BSRVNFVDogJ2ltcG9ydC1jdXN0b20tcHJlc2V0JyxcbiAgQ1lDTEVfUFJFU0VUU19MSUdIVDogJ2N5Y2xlLWN1c3RvbS1wcmVzZXRzLWxpZ2h0JyxcbiAgQ1lDTEVfUFJFU0VUU19EQVJLOiAnY3ljbGUtY3VzdG9tLXByZXNldHMtZGFyaycsXG4gIFxuICAvLyBEZXYgY29tbWFuZHNcbiAgREVWX0JMT0NLX1dJRFRIOiAndG9nZ2xlLW1pbmltYWwtZGV2LWJsb2NrLXdpZHRoJyxcbiAgXG4gIC8vIFNldHRpbmdzIGNvbW1hbmRcbiAgT1BFTl9TRVRUSU5HUzogJ294eWdlbi1zZXR0aW5nczpvcGVuLXNldHRpbmdzJyxcbn0gYXMgY29uc3Q7XG5cbi8vIFNjaGVtZSBjb21tYW5kIElEIHByZWZpeGVzXG5leHBvcnQgY29uc3QgU0NIRU1FX0NPTU1BTkRfUFJFRklYID0ge1xuICBMSUdIVDogJ3RvZ2dsZS1taW5pbWFsLScsXG4gIERBUks6ICd0b2dnbGUtbWluaW1hbC0nLFxufSBhcyBjb25zdDtcblxuLy8gRGVmYXVsdCB2YWx1ZXNcbmV4cG9ydCBjb25zdCBERUZBVUxUUyA9IHtcbiAgRk9OVF9TSVpFX05PUk1BTDogMTYsXG4gIEZPTlRfU0laRV9TTUFMTDogMTMsXG4gIExJTkVfSEVJR0hUOiAxLjUsXG4gIExJTkVfV0lEVEg6IDQwLFxuICBMSU5FX1dJRFRIX1dJREU6IDUwLFxuICBNQVhfV0lEVEg6IDg4LFxuICBGT05UX1NURVA6IDAuNSxcbn0gYXMgY29uc3Q7XG5cbi8vIE9ic2lkaWFuIHZhdWx0IGNvbmZpZyBrZXlzXG5leHBvcnQgY29uc3QgVkFVTFRfQ09ORklHID0ge1xuICBCQVNFX0ZPTlRfU0laRTogJ2Jhc2VGb250U2l6ZScsXG4gIEZPTERfSEVBRElORzogJ2ZvbGRIZWFkaW5nJyxcbiAgU0hPV19MSU5FX05VTUJFUjogJ3Nob3dMaW5lTnVtYmVyJyxcbiAgUkVBREFCTEVfTElORV9MRU5HVEg6ICdyZWFkYWJsZUxpbmVMZW5ndGgnLFxuICBUSEVNRTogJ3RoZW1lJyxcbn0gYXMgY29uc3Q7XG5cbi8vIE9ic2lkaWFuIHRoZW1lIG5hbWVzXG5leHBvcnQgY29uc3QgT0JTSURJQU5fVEhFTUVTID0ge1xuICBMSUdIVDogJ21vb25zdG9uZScsXG4gIERBUks6ICdvYnNpZGlhbicsXG4gIFNZU1RFTTogJ3N5c3RlbScsXG59IGFzIGNvbnN0O1xuXG4vLyBPeHlnZW4gdGhlbWUgbmFtZSBmb3IgZGV0ZWN0aW9uXG5leHBvcnQgY29uc3QgT1hZR0VOX1RIRU1FX05BTUUgPSAnT3h5Z2VuJztcblxuLy8gQ3VzdG9tIHByZXNldCBwcmVmaXhcbmV4cG9ydCBjb25zdCBDVVNUT01fUFJFU0VUX1BSRUZJWCA9ICdveHlnZW4tY3VzdG9tLSc7XG5cblxuLy8gU2NoZW1lIGRpc3BsYXkgbmFtZXMgZm9yIGRyb3Bkb3duc1xuZXhwb3J0IGNvbnN0IFNDSEVNRV9ESVNQTEFZX05BTUVTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAvLyBMaWdodCBzY2hlbWVzXG4gICdveHlnZW4tb3h5Z2VuLWxpZ2h0JzogJ094eWdlbicsXG4gICdveHlnZW4tbWluaW1hbC1saWdodCc6ICdNaW5pbWFsJyxcbiAgJ294eWdlbi1hdG9tLWxpZ2h0JzogJ0F0b20nLFxuICAnb3h5Z2VuLWF5dS1saWdodCc6ICdBeXUnLFxuICAnb3h5Z2VuLWNhdHBwdWNjaW4tbGlnaHQnOiAnQ2F0cHB1Y2NpbicsXG4gICdveHlnZW4tZWluay1saWdodCc6ICdFLWluayAoYmV0YSknLFxuICAnb3h5Z2VuLWV2ZXJmb3Jlc3QtbGlnaHQnOiAnRXZlcmZvcmVzdCcsXG4gICdveHlnZW4tZmxleG9raS1saWdodCc6ICdGbGV4b2tpJyxcbiAgJ294eWdlbi1ncnV2Ym94LWxpZ2h0JzogJ0dydXZib3gnLFxuICAnb3h5Z2VuLW1hY29zLWxpZ2h0JzogJ21hY09TJyxcbiAgJ294eWdlbi1ub3JkLWxpZ2h0JzogJ05vcmQnLFxuICAnb3h5Z2VuLXJvc2UtcGluZS1saWdodCc6ICdSb3NcdTAwRTkgUGluZScsXG4gICdveHlnZW4tbm90aW9uLWxpZ2h0JzogJ1NreScsXG4gICdveHlnZW4tc29sYXJpemVkLWxpZ2h0JzogJ1NvbGFyaXplZCcsXG4gICdveHlnZW4tdGhpbmdzLWxpZ2h0JzogJ1RoaW5ncycsXG4gIC8vIERhcmsgc2NoZW1lc1xuICAnb3h5Z2VuLW94eWdlbi1kYXJrJzogJ094eWdlbicsXG4gICdveHlnZW4tbWluaW1hbC1kYXJrJzogJ01pbmltYWwnLFxuICAnb3h5Z2VuLWF0b20tZGFyayc6ICdBdG9tJyxcbiAgJ294eWdlbi1heXUtZGFyayc6ICdBeXUnLFxuICAnb3h5Z2VuLWNhdHBwdWNjaW4tZGFyayc6ICdDYXRwcHVjY2luJyxcbiAgJ294eWdlbi1kcmFjdWxhLWRhcmsnOiAnRHJhY3VsYScsXG4gICdveHlnZW4tZWluay1kYXJrJzogJ0UtaW5rIChiZXRhKScsXG4gICdveHlnZW4tZXZlcmZvcmVzdC1kYXJrJzogJ0V2ZXJmb3Jlc3QnLFxuICAnb3h5Z2VuLWZsZXhva2ktZGFyayc6ICdGbGV4b2tpJyxcbiAgJ294eWdlbi1ncnV2Ym94LWRhcmsnOiAnR3J1dmJveCcsXG4gICdveHlnZW4tbWFjb3MtZGFyayc6ICdtYWNPUycsXG4gICdveHlnZW4tbm9yZC1kYXJrJzogJ05vcmQnLFxuICAnb3h5Z2VuLXJvc2UtcGluZS1kYXJrJzogJ1Jvc1x1MDBFOSBQaW5lJyxcbiAgJ294eWdlbi1ub3Rpb24tZGFyayc6ICdTa3knLFxuICAnb3h5Z2VuLXNvbGFyaXplZC1kYXJrJzogJ1NvbGFyaXplZCcsXG4gICdveHlnZW4tdGhpbmdzLWRhcmsnOiAnVGhpbmdzJyxcbn0gYXMgY29uc3Q7XG5cbiIsICIvKipcbiAqIFR5cGUgZXh0ZW5zaW9ucyBmb3IgT2JzaWRpYW4gaW50ZXJuYWwgQVBJc1xuICogVGhlc2UgYXJlIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJIGJ1dCBhcmUgY29tbW9ubHkgdXNlZFxuICovXG5cbmltcG9ydCB7IEFwcCB9IGZyb20gJ29ic2lkaWFuJztcblxuLyoqXG4gKiBFeHRlbmRlZCBBcHAgaW50ZXJmYWNlIHdpdGggaW50ZXJuYWwgdmF1bHQgbWV0aG9kc1xuICogVXNlcyBpbnRlcnNlY3Rpb24gdHlwZSB0byBhZGQgbWV0aG9kcyB3aXRob3V0IGNvbmZsaWN0aW5nIHdpdGggZXhpc3RpbmcgVmF1bHQgdHlwZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEV4dGVuZGVkQXBwIGV4dGVuZHMgT21pdDxBcHAsICd2YXVsdCcgfCAnc2V0VGhlbWUnIHwgJ3VwZGF0ZUZvbnRTaXplJz4ge1xuICB2YXVsdDogQXBwWyd2YXVsdCddICYge1xuICAgIGdldENvbmZpZyhrZXk6IHN0cmluZyk6IHVua25vd247XG4gICAgc2V0Q29uZmlnKGtleTogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IHZvaWQ7XG4gICAgb24oZXZlbnQ6ICdjb25maWctY2hhbmdlZCcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogeyBvZmY6ICgpID0+IHZvaWQgfTtcbiAgfTtcbiAgc2V0VGhlbWUodGhlbWU6IHN0cmluZyk6IHZvaWQ7XG4gIHVwZGF0ZUZvbnRTaXplKCk6IHZvaWQ7XG59XG5cbi8qKlxuICogVHlwZSBndWFyZCB0byBjaGVjayBpZiBhcHAgaGFzIGV4dGVuZGVkIG1ldGhvZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0V4dGVuZGVkQXBwKGFwcDogQXBwKTogYXBwIGlzIEV4dGVuZGVkQXBwIHtcbiAgY29uc3QgZXh0QXBwID0gYXBwIGFzIHVua25vd24gYXMgRXh0ZW5kZWRBcHA7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIGV4dEFwcC52YXVsdD8uZ2V0Q29uZmlnID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIGV4dEFwcC5zZXRUaGVtZSA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufVxuXG4vKipcbiAqIFNhZmVseSBhY2Nlc3MgdmF1bHQgY29uZmlnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYXVsdENvbmZpZyhhcHA6IEFwcCwga2V5OiBzdHJpbmcpOiB1bmtub3duIHtcbiAgY29uc3QgZXh0QXBwID0gYXBwIGFzIHVua25vd24gYXMgRXh0ZW5kZWRBcHA7XG4gIHJldHVybiBleHRBcHAudmF1bHQuZ2V0Q29uZmlnKGtleSk7XG59XG5cbi8qKlxuICogU2FmZWx5IHNldCB2YXVsdCBjb25maWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFZhdWx0Q29uZmlnKGFwcDogQXBwLCBrZXk6IHN0cmluZywgdmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgY29uc3QgZXh0QXBwID0gYXBwIGFzIHVua25vd24gYXMgRXh0ZW5kZWRBcHA7XG4gIGV4dEFwcC52YXVsdC5zZXRDb25maWcoa2V5LCB2YWx1ZSk7XG59XG5cbi8qKlxuICogU2FmZWx5IHNldCB0aGVtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VGhlbWUoYXBwOiBBcHAsIHRoZW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgZXh0QXBwID0gYXBwIGFzIHVua25vd24gYXMgRXh0ZW5kZWRBcHA7XG4gIGV4dEFwcC5zZXRUaGVtZSh0aGVtZSk7XG59XG5cbi8qKlxuICogU2FmZWx5IHJlZ2lzdGVyIHZhdWx0IGV2ZW50IGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvblZhdWx0Q29uZmlnQ2hhbmdlZChhcHA6IEFwcCwgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB7IG9mZjogKCkgPT4gdm9pZCB9IHtcbiAgY29uc3QgZXh0QXBwID0gYXBwIGFzIHVua25vd24gYXMgRXh0ZW5kZWRBcHA7XG4gIHJldHVybiBleHRBcHAudmF1bHQub24oJ2NvbmZpZy1jaGFuZ2VkJywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIFNhZmVseSB1cGRhdGUgZm9udCBzaXplXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVGb250U2l6ZShhcHA6IEFwcCk6IHZvaWQge1xuICBjb25zdCBleHRBcHAgPSBhcHAgYXMgdW5rbm93biBhcyBFeHRlbmRlZEFwcDtcbiAgaWYgKHR5cGVvZiBleHRBcHAudXBkYXRlRm9udFNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBleHRBcHAudXBkYXRlRm9udFNpemUoKTtcbiAgfVxufVxuXG4iLCAiLyoqXHJcbiAqIFN0eWxlIE1hbmFnZXJcclxuICogSGFuZGxlcyBhbGwgQ1NTIGFwcGxpY2F0aW9uLCBzY2hlbWUgc3dpdGNoaW5nLCBhbmQgc3R5bGUgdXBkYXRlc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IFBsdWdpbkNvbnRleHQgfSBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IEN1c3RvbVByZXNldENTUyB9IGZyb20gJy4vY3VzdG9tLXByZXNldC1jc3MnO1xyXG5pbXBvcnQgeyBcclxuICBDU1NfQ0xBU1NFUywgXHJcbiAgTElHSFRfU0NIRU1FUywgXHJcbiAgREFSS19TQ0hFTUVTXHJcbn0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgc2V0VGhlbWUsIGdldFZhdWx0Q29uZmlnLCBzZXRWYXVsdENvbmZpZyB9IGZyb20gJy4uL3R5cGVzL29ic2lkaWFuLWV4dGVuc2lvbnMnO1xyXG5pbXBvcnQgeyBzZXRDc3NQcm9wcyB9IGZyb20gJy4uL3V0aWxzL2Nzcy1wcm9wcyc7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0eWxlTWFuYWdlckltcGwge1xyXG4gIHByaXZhdGUgcGx1Z2luOiBQbHVnaW5Db250ZXh0O1xyXG4gIHByaXZhdGUgY3NzT2JzZXJ2ZXI6IE11dGF0aW9uT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGN1c3RvbVByZXNldENTUzogQ3VzdG9tUHJlc2V0Q1NTO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwbHVnaW46IFBsdWdpbkNvbnRleHQpIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgdGhpcy5jdXN0b21QcmVzZXRDU1MgPSBuZXcgQ3VzdG9tUHJlc2V0Q1NTKHBsdWdpbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlY3QgT1MgZm9yIE9TLXNwZWNpZmljIHN0eWxpbmdcclxuICAgKi9cclxuICBwcml2YXRlIGRldGVjdE9TKCk6ICd3aW5kb3dzJyB8ICdtYWNvcycgfCAnbmV1dHJhbCcge1xyXG4gICAgaWYgKFBsYXRmb3JtLmlzTWFjT1MpIHtcclxuICAgICAgcmV0dXJuICdtYWNvcyc7XHJcbiAgICB9XHJcbiAgICBpZiAoUGxhdGZvcm0uaXNXaW4pIHtcclxuICAgICAgcmV0dXJuICd3aW5kb3dzJztcclxuICAgIH1cclxuICAgIHJldHVybiAnbmV1dHJhbCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIHN0eWxlIG1hbmFnZW1lbnRcclxuICAgKi9cclxuICBpbml0aWFsaXplKCk6IHZvaWQge1xyXG4gICAgdGhpcy5sb2FkUnVsZXMoKTtcclxuICAgIC8vIENTUyB3YXRjaGVyIHJlbW92ZWQgLSBpdCB3YXMgY2F1c2luZyBpbmZpbml0ZSBsb29wc1xyXG4gICAgLy8gQ3VzdG9tIHByZXNldCBDU1MgdXBkYXRlcyBhcmUgaGFuZGxlZCBieSBzZXR0aW5ncyBVSSBhbmQgdGhlbWUgc3dpdGNoZXNcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6ZSBjdXN0b20gcHJlc2V0IENTUyAoY2FsbGVkIGFmdGVyIG1haW4gbG9hZCBjb21wbGV0ZXMpXHJcbiAgICovXHJcbiAgaW5pdGlhbGl6ZUN1c3RvbVByZXNldHMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmN1c3RvbVByZXNldENTUy5pbml0aWFsaXplKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbGVhbnVwIG9uIHBsdWdpbiB1bmxvYWRcclxuICAgKi9cclxuICBjbGVhbnVwKCk6IHZvaWQge1xyXG4gICAgdGhpcy51bmxvYWRSdWxlcygpO1xyXG4gICAgdGhpcy5yZW1vdmVTdHlsZSgpO1xyXG4gICAgdGhpcy5yZW1vdmVTZXR0aW5ncygpO1xyXG4gICAgdGhpcy5yZW1vdmVMaWdodFNjaGVtZSgpO1xyXG4gICAgdGhpcy5yZW1vdmVEYXJrU2NoZW1lKCk7XHJcbiAgICBcclxuICAgIC8vIENsZWFudXAgY3VzdG9tIHByZXNldCBDU1NcclxuICAgIHRoaXMuY3VzdG9tUHJlc2V0Q1NTLmNsZWFudXAoKTtcclxuICAgIFxyXG4gICAgLy8gQ2xlYW51cCBDU1Mgb2JzZXJ2ZXJcclxuICAgIGlmICh0aGlzLmNzc09ic2VydmVyKSB7XHJcbiAgICAgIHRoaXMuY3NzT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICB0aGlzLmNzc09ic2VydmVyID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZnJlc2ggYWxsIHN0eWxlc1xyXG4gICAqL1xyXG4gIHJlZnJlc2goKTogdm9pZCB7XHJcbiAgICAvLyBPbmx5IHJlZnJlc2ggc3R5bGVzIGlmIE94eWdlbiB0aGVtZSBpcyBhY3RpdmVcclxuICAgIGlmICghdGhpcy5wbHVnaW4uaXNPeHlnZW5UaGVtZUFjdGl2ZSgpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcclxuICB9XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIGN1c3RvbSBwcmVzZXQgQ1NTIChwdWJsaWMgaW50ZXJmYWNlKVxyXG4gICAqL1xyXG4gIHVwZGF0ZUN1c3RvbVByZXNldENTUygpOiB2b2lkIHtcclxuICAgIHRoaXMuY3VzdG9tUHJlc2V0Q1NTLnVwZGF0ZUNTUygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIGFsbCBzdHlsZXMgYmFzZWQgb24gY3VycmVudCBzZXR0aW5nc1xyXG4gICAqL1xyXG4gIHVwZGF0ZVN0eWxlKCk6IHZvaWQge1xyXG4gICAgLy8gT25seSBhcHBseSBzdHlsZXMgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnJlbW92ZVN0eWxlKCk7XHJcbiAgICB0aGlzLnJlbW92ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgLy8gQWRkIHN0eWxlIGNsYXNzZXMgKG9ubHkgaWYgbm90IGVtcHR5KVxyXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmxpZ2h0U3R5bGUgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZS50cmltKCkpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5saWdodFN0eWxlKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXJrU3R5bGUgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlLnRyaW0oKSkge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhcmtTdHlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHNjaGVtZXMgYmFzZWQgb24gY3VycmVudCB0aGVtZSBtb2RlXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWxpZ2h0JykpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUxpZ2h0U2NoZW1lKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWRhcmsnKSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGFya1NjaGVtZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIERlZmF1bHQgdG8gbGlnaHQgdGhlbWVcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1saWdodCcpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlTGlnaHRTY2hlbWUoKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc2NoZW1lczonLCBlcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBwbHkgZmVhdHVyZSB0b2dnbGVzXHJcbiAgICAvLyBXb3Jrc3BhY2UgYm9yZGVyczogJ2VuaGFuY2VkJyB8ICdkZWZhdWx0JyB8ICdub25lJ1xyXG4gICAgLy8gLSAnZW5oYW5jZWQnIChkZWZhdWx0KTogRG8gbm90aGluZyAtIHRoZW1lJ3MgZGVmYXVsdCBiZWhhdmlvciBhcHBsaWVzIChib2R5Om5vdCguYm9yZGVycy1vbikpXHJcbiAgICAvLyAtICdkZWZhdWx0JzogQWRkIGJvcmRlcnMtb24gdG8gcmVzdG9yZSBPYnNpZGlhbidzIG9yaWdpbmFsIGJvcmRlcnNcclxuICAgIC8vIC0gJ25vbmUnOiBBZGQgYm9yZGVycy1ub25lIHRvIHJlbW92ZSBhbGwgYm9yZGVyc1xyXG4gICAgY29uc3QgYm9yZGVyc1ZhbHVlID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Mud29ya3NwYWNlQm9yZGVycztcclxuICAgIGlmIChib3JkZXJzVmFsdWUgPT09ICdlbmhhbmNlZCcpIHtcclxuICAgICAgLy8gRW5oYW5jZWQgaXMgZGVmYXVsdCAtIHJlbW92ZSBhbnkgYm9yZGVyIGNsYXNzZXMgdG8gbGV0IHRoZW1lIGhhbmRsZSBpdFxyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcnMtbm9uZScsICdib3JkZXJzLW9uJyk7XHJcbiAgICB9IGVsc2UgaWYgKGJvcmRlcnNWYWx1ZSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgIC8vIERlZmF1bHQgLSByZXN0b3JlIE9ic2lkaWFuJ3Mgb3JpZ2luYWwgYm9yZGVyc1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcnMtbm9uZScpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2JvcmRlcnMtb24nKTtcclxuICAgIH0gZWxzZSBpZiAoYm9yZGVyc1ZhbHVlID09PSAnbm9uZScpIHtcclxuICAgICAgLy8gTm9uZSAtIHJlbW92ZSBhbGwgYm9yZGVyc1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvcmRlcnMtb24nKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdib3JkZXJzLW5vbmUnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdjb2xvcmZ1bC1oZWFkaW5ncycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbG9yZnVsSGVhZGluZ3MpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdjb2xvcmZ1bC1mcmFtZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbG9yZnVsRnJhbWUpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdjb2xvcmZ1bC1hY3RpdmUnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb2xvcmZ1bEFjdGl2ZVN0YXRlcyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2VuYWJsZS1ibHVyJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQmx1cik7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2xpbmtzLWludC1vbicsIHRoaXMucGx1Z2luLnNldHRpbmdzLnVuZGVybGluZUludGVybmFsKTtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbGlua3MtZXh0LW9uJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MudW5kZXJsaW5lRXh0ZXJuYWwpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdmdWxsLXdpZHRoLW1lZGlhJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZnVsbFdpZHRoTWVkaWEpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdpbWctZ3JpZCcsIHRoaXMucGx1Z2luLnNldHRpbmdzLmltZ0dyaWQpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdveHlnZW4tZGV2LWJsb2NrLXdpZHRoJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGV2QmxvY2tXaWR0aCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ294eWdlbi1zdGF0dXMtb2ZmJywgIXRoaXMucGx1Z2luLnNldHRpbmdzLm1pbmltYWxTdGF0dXMpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdmdWxsLWZpbGUtbmFtZXMnLCAhdGhpcy5wbHVnaW4uc2V0dGluZ3MudHJpbU5hbWVzKTtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbGFiZWxlZC1uYXYnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYWJlbGVkTmF2KTtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnb3h5Z2VuLWZvbGRpbmcnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkaW5nKTtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgndXNlLWRlZmF1bHQtZm9sZGVyLWljb24nLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VEZWZhdWx0Rm9sZGVySWNvbik7XHJcblxyXG4gICAgLy8gQWRkIHdpZHRoIGNsYXNzZXNcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoXHJcbiAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNoYXJ0V2lkdGgsXHJcbiAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRhYmxlV2lkdGgsXHJcbiAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmltZ1dpZHRoLFxyXG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pZnJhbWVXaWR0aCxcclxuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubWFwV2lkdGhcclxuICAgICk7XHJcblxyXG4gICAgLy8gVXBkYXRlIGN1c3RvbSBDU1MgdmFyaWFibGVzIG9uIGJvZHkgZWxlbWVudCB1c2luZyBzZXRDc3NQcm9wcyB1dGlsaXR5XHJcbiAgICBjb25zdCBjc3NQcm9wczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgJy0tZm9udC11aS1zbWFsbCc6IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLnRleHRTbWFsbH1weGAsXHJcbiAgICAgICctLWxpbmUtaGVpZ2h0JzogU3RyaW5nKHRoaXMucGx1Z2luLnNldHRpbmdzLmxpbmVIZWlnaHQpLFxyXG4gICAgICAnLS1saW5lLXdpZHRoJzogYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MubGluZVdpZHRofXJlbWAsXHJcbiAgICAgICctLWxpbmUtd2lkdGgtd2lkZSc6IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmxpbmVXaWR0aFdpZGV9cmVtYCxcclxuICAgICAgJy0tbWF4LXdpZHRoJzogYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MubWF4V2lkdGh9JWAsXHJcbiAgICAgICctLWZvbnQtZWRpdG9yLW92ZXJyaWRlJzogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZWRpdG9yRm9udFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gT25seSBzZXQgaW5kZW50YXRpb24gZ3VpZGUgdmFyaWFibGVzIGlmIHRoZXkgZGlmZmVyIGZyb20gZGVmYXVsdFxyXG4gICAgLy8gV2lkdGg6IG9ubHkgc2V0IGlmIG5vdCBkZWZhdWx0ICgwcHggLSB0aGVtZSBub3cgaGlkZXMgZ3VpZGVzIGJ5IGRlZmF1bHQpXHJcbiAgICAvLyBDb2xvcjogb25seSBzZXQgaWYgbm90IFwiU3VidGxlXCIgKGxldCB0aGVtZSB1c2UgaXRzIGRlZmF1bHQgY29sb3IpXHJcbiAgICBjb25zdCBpc0RlZmF1bHRXaWR0aCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm5hdkluZGVudGF0aW9uR3VpZGVXaWR0aCA9PT0gJzBweCc7XHJcbiAgICBjb25zdCBpc0RlZmF1bHRDb2xvciA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm5hdkluZGVudGF0aW9uR3VpZGVDb2xvciA9PT0gJ3JnYmEodmFyKC0tbW9uby1yZ2ItMTAwKSwgMC4xMiknO1xyXG4gICAgXHJcbiAgICBpZiAoIWlzRGVmYXVsdFdpZHRoKSB7XHJcbiAgICAgIGNzc1Byb3BzWyctLW5hdi1pbmRlbnRhdGlvbi1ndWlkZS13aWR0aCddID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubmF2SW5kZW50YXRpb25HdWlkZVdpZHRoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUmVtb3ZlIHdpZHRoIHZhcmlhYmxlIHRvIGxldCB0aGVtZSB1c2UgZGVmYXVsdFxyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLW5hdi1pbmRlbnRhdGlvbi1ndWlkZS13aWR0aCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWlzRGVmYXVsdENvbG9yKSB7XHJcbiAgICAgIGNzc1Byb3BzWyctLW5hdi1pbmRlbnRhdGlvbi1ndWlkZS1jb2xvciddID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubmF2SW5kZW50YXRpb25HdWlkZUNvbG9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUmVtb3ZlIGNvbG9yIHZhcmlhYmxlIHRvIGxldCB0aGVtZSB1c2UgaXRzIGRlZmF1bHQgY29sb3JcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1uYXYtaW5kZW50YXRpb24tZ3VpZGUtY29sb3InKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0Q3NzUHJvcHMoZG9jdW1lbnQuYm9keSwgY3NzUHJvcHMpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vIEFwcGx5IGFuaW1hdGlvbiBzZXR0aW5nc1xyXG4gICAgLy8gUmVtb3ZlIGFsbCBhbmltYXRpb24gY2xhc3NlcyBmaXJzdCAoaW5jbHVkaW5nIG9sZCAnYW5pbWF0aW9ucy1yZWZpbmVkJyBmb3IgbWlncmF0aW9uKVxyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb25zLXJlZmluZWQnLCAnYW5pbWF0aW9ucy1kZWZhdWx0JywgJ2FuaW1hdGlvbnMtcGxheWZ1bCcsICdhbmltYXRpb25zLW9mZicpO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgYW5pbWF0aW9uIHBlcnNvbmFsaXR5IChkZWZhdWx0IHRvICdkZWZhdWx0JyBpZiBub3Qgc2V0IGZvciBtaWdyYXRpb24pXHJcbiAgICBjb25zdCBhbmltYXRpb25QZXJzb25hbGl0eSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmFuaW1hdGlvblBlcnNvbmFsaXR5IHx8ICdkZWZhdWx0JztcclxuICAgIFxyXG4gICAgLy8gQXBwbHkgcGVyc29uYWxpdHkgY2xhc3NcclxuICAgIGlmIChhbmltYXRpb25QZXJzb25hbGl0eSA9PT0gJ29mZicpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb25zLW9mZicpO1xyXG4gICAgICAvLyBTcGVlZCBpcyBhdXRvbWF0aWNhbGx5IDAgd2hlbiBvZmYsIGJ1dCBjbGVhciB0aGUgdmFyaWFibGUgdG8gYmUgZXhwbGljaXRcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1hbmltLXNwZWVkLW1vZGlmaWVyJyk7XHJcbiAgICB9IGVsc2UgaWYgKGFuaW1hdGlvblBlcnNvbmFsaXR5ID09PSAncGxheWZ1bCcpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdhbmltYXRpb25zLXBsYXlmdWwnKTtcclxuICAgICAgLy8gQXBwbHkgc3BlZWQgKG9ubHkgaWYgbm90IFwib2ZmXCIpXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoJy0tYW5pbS1zcGVlZC1tb2RpZmllcicsIHRoaXMucGx1Z2luLnNldHRpbmdzLmFuaW1hdGlvblNwZWVkLnRvU3RyaW5nKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZGVmYXVsdCAobWFwcyB0byBhbmltYXRpb25zLWRlZmF1bHQgY2xhc3MpXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYW5pbWF0aW9ucy1kZWZhdWx0Jyk7XHJcbiAgICAgIC8vIEFwcGx5IHNwZWVkIChvbmx5IGlmIG5vdCBcIm9mZlwiKVxyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KCctLWFuaW0tc3BlZWQtbW9kaWZpZXInLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbmltYXRpb25TcGVlZC50b1N0cmluZygpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5jdXN0b21QcmVzZXRDU1MudXBkYXRlQ1NTKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgbGlnaHQgbW9kZSBzdHlsZVxyXG4gICAqL1xyXG4gIHVwZGF0ZUxpZ2h0U3R5bGUoKTogdm9pZCB7XHJcbiAgICAvLyBPbmx5IGFwcGx5IHN0eWxlcyBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlXHJcbiAgICBpZiAoIXRoaXMucGx1Z2luLmlzT3h5Z2VuVGhlbWVBY3RpdmUoKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMucmVtb3ZlU3R5bGUoKTtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcclxuICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWxpZ2h0JywgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRoZW1lID0gZ2V0VmF1bHRDb25maWcodGhpcy5wbHVnaW4uYXBwLCAndGhlbWUnKTtcclxuICAgIGlmICh0aGVtZSAhPT0gJ3N5c3RlbScpIHtcclxuICAgICAgc2V0VGhlbWUodGhpcy5wbHVnaW4uYXBwLCAnbW9vbnN0b25lJyk7XHJcbiAgICAgIHNldFZhdWx0Q29uZmlnKHRoaXMucGx1Z2luLmFwcCwgJ3RoZW1lJywgJ21vb25zdG9uZScpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdjc3MtY2hhbmdlJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgZGFyayBtb2RlIHN0eWxlXHJcbiAgICovXHJcbiAgdXBkYXRlRGFya1N0eWxlKCk6IHZvaWQge1xyXG4gICAgLy8gT25seSBhcHBseSBzdHlsZXMgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnJlbW92ZVN0eWxlKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1saWdodCcpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcygndGhlbWUtZGFyaycsIHRoaXMucGx1Z2luLnNldHRpbmdzLmRhcmtTdHlsZSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRoZW1lID0gZ2V0VmF1bHRDb25maWcodGhpcy5wbHVnaW4uYXBwLCAndGhlbWUnKTtcclxuICAgIGlmICh0aGVtZSAhPT0gJ3N5c3RlbScpIHtcclxuICAgICAgc2V0VGhlbWUodGhpcy5wbHVnaW4uYXBwLCAnb2JzaWRpYW4nKTtcclxuICAgICAgc2V0VmF1bHRDb25maWcodGhpcy5wbHVnaW4uYXBwLCAndGhlbWUnLCAnb2JzaWRpYW4nKTtcclxuICAgIH1cclxuICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignY3NzLWNoYW5nZScpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIGxpZ2h0IGNvbG9yIHNjaGVtZVxyXG4gICAqL1xyXG4gIHVwZGF0ZUxpZ2h0U2NoZW1lKCk6IHZvaWQge1xyXG4gICAgLy8gT25seSBhcHBseSBzdHlsZXMgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnJlbW92ZUxpZ2h0U2NoZW1lKCk7XHJcbiAgICB0aGlzLnJlbW92ZURhcmtTY2hlbWUoKTtcclxuICAgIFxyXG4gICAgaWYgKCFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndGhlbWUtbGlnaHQnKSkge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1kYXJrJyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE9ubHkgYWRkIGNsYXNzIGlmIHNjaGVtZSBpcyBub3QgZW1wdHlcclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5saWdodFNjaGVtZSAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5saWdodFNjaGVtZS50cmltKCkpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5saWdodFNjaGVtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgZGFyayBjb2xvciBzY2hlbWVcclxuICAgKi9cclxuICB1cGRhdGVEYXJrU2NoZW1lKCk6IHZvaWQge1xyXG4gICAgLy8gT25seSBhcHBseSBzdHlsZXMgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnJlbW92ZURhcmtTY2hlbWUoKTtcclxuICAgIHRoaXMucmVtb3ZlTGlnaHRTY2hlbWUoKTtcclxuICAgIFxyXG4gICAgaWYgKCFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndGhlbWUtZGFyaycpKSB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gT25seSBhZGQgY2xhc3MgaWYgc2NoZW1lIGlzIG5vdCBlbXB0eVxyXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmRhcmtTY2hlbWUgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGFya1NjaGVtZS50cmltKCkpIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgc3R5bGUgY2xhc3Nlc1xyXG4gICAqL1xyXG4gIHJlbW92ZVN0eWxlKCk6IHZvaWQge1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcyhcclxuICAgICAgJ294eWdlbi1saWdodCcsXHJcbiAgICAgICdveHlnZW4tbGlnaHQtdG9uYWwnLFxyXG4gICAgICAnb3h5Z2VuLWxpZ2h0LWNvbnRyYXN0JyxcclxuICAgICAgJ294eWdlbi1saWdodC13aGl0ZScsXHJcbiAgICAgICdveHlnZW4tZGFyaycsXHJcbiAgICAgICdveHlnZW4tZGFyay10b25hbCcsXHJcbiAgICAgICdveHlnZW4tZGFyay1ibGFjaycsXHJcbiAgICAgIC8vIExlZ2FjeSBvciBtaXMtcHJlZml4ZWQgY2xhc3NlcyB0aGF0IG1pZ2h0IGJlIHN0aWNraW5nXHJcbiAgICAgICdtaW5pbWFsLWxpZ2h0JyxcclxuICAgICAgJ21pbmltYWwtbGlnaHQtdG9uYWwnLFxyXG4gICAgICAnbWluaW1hbC1saWdodC1jb250cmFzdCcsXHJcbiAgICAgICdtaW5pbWFsLWxpZ2h0LXdoaXRlJyxcclxuICAgICAgJ21pbmltYWwtZGFyaycsXHJcbiAgICAgICdtaW5pbWFsLWRhcmstdG9uYWwnLFxyXG4gICAgICAnbWluaW1hbC1kYXJrLWJsYWNrJ1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBsaWdodCBzY2hlbWUgY2xhc3Nlc1xyXG4gICAqL1xyXG4gIHJlbW92ZUxpZ2h0U2NoZW1lKCk6IHZvaWQge1xyXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcyguLi5MSUdIVF9TQ0hFTUVTKTtcclxuICAgIFxyXG4gICAgLy8gUmVtb3ZlIGN1c3RvbSBwcmVzZXQgY2xhc3Nlc1xyXG4gICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5mb3JFYWNoKHByZXNldCA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoYG94eWdlbi1jdXN0b20tJHtwcmVzZXQuaWR9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBkYXJrIHNjaGVtZSBjbGFzc2VzXHJcbiAgICovXHJcbiAgcmVtb3ZlRGFya1NjaGVtZSgpOiB2b2lkIHtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoLi4uREFSS19TQ0hFTUVTKTtcclxuICAgIFxyXG4gICAgLy8gUmVtb3ZlIGN1c3RvbSBwcmVzZXQgY2xhc3Nlc1xyXG4gICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5mb3JFYWNoKHByZXNldCA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoYG94eWdlbi1jdXN0b20tJHtwcmVzZXQuaWR9YCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSBzZXR0aW5ncyBjbGFzc2VzXHJcbiAgICovXHJcbiAgcmVtb3ZlU2V0dGluZ3MoKTogdm9pZCB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKFxyXG4gICAgICAnYm9yZGVycy1ub25lJyxcclxuICAgICAgJ2JvcmRlcnMtb24nLFxyXG4gICAgICAnY29sb3JmdWwtaGVhZGluZ3MnLFxyXG4gICAgICAnY29sb3JmdWwtZnJhbWUnLFxyXG4gICAgICAnY29sb3JmdWwtYWN0aXZlJyxcclxuICAgICAgJ2xpbmtzLWludC1vbicsXHJcbiAgICAgICdsaW5rcy1leHQtb24nLFxyXG4gICAgICAnZnVsbC13aWR0aC1tZWRpYScsXHJcbiAgICAgICdpbWctZ3JpZCcsXHJcbiAgICAgICdveHlnZW4tZGV2LWJsb2NrLXdpZHRoJyxcclxuICAgICAgJ294eWdlbi1zdGF0dXMtb2ZmJyxcclxuICAgICAgJ2Z1bGwtZmlsZS1uYW1lcycsXHJcbiAgICAgICdsYWJlbGVkLW5hdicsXHJcbiAgICAgICdveHlnZW4tZm9sZGluZycsXHJcbiAgICAgICdlbmFibGUtYmx1cicsXHJcbiAgICAgICd1c2UtZGVmYXVsdC1mb2xkZXItaWNvbicsXHJcbiAgICAgICdhbmltYXRpb25zLXJlZmluZWQnLFxyXG4gICAgICAnYW5pbWF0aW9ucy1kZWZhdWx0JyxcclxuICAgICAgJ2FuaW1hdGlvbnMtcGxheWZ1bCcsXHJcbiAgICAgICdhbmltYXRpb25zLW9mZicsXHJcbiAgICAgICd0YWJsZS13aWRlJyxcclxuICAgICAgJ3RhYmxlLW1heCcsXHJcbiAgICAgICd0YWJsZS0xMDAnLFxyXG4gICAgICAndGFibGUtZGVmYXVsdC13aWR0aCcsXHJcbiAgICAgICdpZnJhbWUtd2lkZScsXHJcbiAgICAgICdpZnJhbWUtbWF4JyxcclxuICAgICAgJ2lmcmFtZS0xMDAnLFxyXG4gICAgICAnaWZyYW1lLWRlZmF1bHQtd2lkdGgnLFxyXG4gICAgICAnaW1nLXdpZGUnLFxyXG4gICAgICAnaW1nLW1heCcsXHJcbiAgICAgICdpbWctMTAwJyxcclxuICAgICAgJ2ltZy1kZWZhdWx0LXdpZHRoJyxcclxuICAgICAgJ2NoYXJ0LXdpZGUnLFxyXG4gICAgICAnY2hhcnQtbWF4JyxcclxuICAgICAgJ2NoYXJ0LTEwMCcsXHJcbiAgICAgICdjaGFydC1kZWZhdWx0LXdpZHRoJyxcclxuICAgICAgJ21hcC13aWRlJyxcclxuICAgICAgJ21hcC1tYXgnLFxyXG4gICAgICAnbWFwLTEwMCcsXHJcbiAgICAgICdtYXAtZGVmYXVsdC13aWR0aCdcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIENTUyBydWxlc1xyXG4gICAqIFVzZXMgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzIG9uIGJvZHkgaW5zdGVhZCBvZiBjcmVhdGluZyBzdHlsZSBlbGVtZW50c1xyXG4gICAqL1xyXG4gIHByaXZhdGUgbG9hZFJ1bGVzKCk6IHZvaWQge1xyXG4gICAgLy8gT25seSBsb2FkIENTUyBydWxlcyBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlXHJcbiAgICBpZiAoIXRoaXMucGx1Z2luLmlzT3h5Z2VuVGhlbWVBY3RpdmUoKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKENTU19DTEFTU0VTLlBMVUdJTl9USEVNRSk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBzdHlsZXMgb25jZSAtIG1hdGNoZXMgb3JpZ2luYWwgcGx1Z2luIGJlaGF2aW9yXHJcbiAgICB0aGlzLnVwZGF0ZVN0eWxlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVbmxvYWQgQ1NTIHJ1bGVzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB1bmxvYWRSdWxlcygpOiB2b2lkIHtcclxuICAgIC8vIFJlbW92ZSBDU1MgY3VzdG9tIHByb3BlcnRpZXNcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0tZm9udC11aS1zbWFsbCcpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1saW5lLWhlaWdodCcpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1saW5lLXdpZHRoJyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLWxpbmUtd2lkdGgtd2lkZScpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1tYXgtd2lkdGgnKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0tZm9udC1lZGl0b3Itb3ZlcnJpZGUnKTtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0tbmF2LWluZGVudGF0aW9uLWd1aWRlLXdpZHRoJyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KCctLW5hdi1pbmRlbnRhdGlvbi1ndWlkZS1jb2xvcicpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLS1hbmltLXNwZWVkLW1vZGlmaWVyJyk7XHJcbiAgICBcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1NFUy5QTFVHSU5fVEhFTUUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgQ1NTIHdhdGNoZXIgZm9yIHJlLWFwcGx5aW5nIGN1c3RvbSBwcmVzZXRzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzZXR1cENTU1dhdGNoZXIoKTogdm9pZCB7XHJcbiAgICAvLyBDU1Mgd2F0Y2hlciBkaXNhYmxlZCAtIHdhcyBjYXVzaW5nIGluZmluaXRlIGxvb3BzXHJcbiAgICAvLyBDdXN0b20gcHJlc2V0IENTUyBpcyBub3cgb25seSB1cGRhdGVkIHdoZW4gZXhwbGljaXRseSBjYWxsZWRcclxuICB9XHJcblxyXG59XHJcblxyXG4iLCAiLyoqXG4gKiBUaGVtZSBNYW5hZ2VyXG4gKiBIYW5kbGVzIHRoZW1lIG1vZGUgc3dpdGNoaW5nIChsaWdodC9kYXJrKVxuICovXG5cbmltcG9ydCB7IFBsdWdpbkNvbnRleHQsIFRoZW1lTW9kZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IE9CU0lESUFOX1RIRU1FUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRWYXVsdENvbmZpZywgc2V0VGhlbWUsIHNldFZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vdHlwZXMvb2JzaWRpYW4tZXh0ZW5zaW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBUaGVtZU1hbmFnZXJJbXBsIHtcbiAgcHJpdmF0ZSBwbHVnaW46IFBsdWdpbkNvbnRleHQ7XG5cbiAgY29uc3RydWN0b3IocGx1Z2luOiBQbHVnaW5Db250ZXh0KSB7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGJldHdlZW4gbGlnaHQgYW5kIGRhcmsgdGhlbWVzXG4gICAqL1xuICB1cGRhdGVUaGVtZSgpOiB2b2lkIHtcbiAgICBjb25zdCBjdXJyZW50VGhlbWUgPSBnZXRWYXVsdENvbmZpZyh0aGlzLnBsdWdpbi5hcHAsICd0aGVtZScpO1xuICAgIGlmIChjdXJyZW50VGhlbWUgPT09IE9CU0lESUFOX1RIRU1FUy5TWVNURU0pIHtcbiAgICAgIC8vIFN5c3RlbSB0aGVtZSBtb2RlIC0ganVzdCB0b2dnbGUgY2xhc3NcbiAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndGhlbWUtbGlnaHQnKSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1saWdodCcpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1kYXJrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1kYXJrJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1hbnVhbCB0aGVtZSBtb2RlIC0gdG9nZ2xlIGJvdGggY2xhc3MgYW5kIE9ic2lkaWFuIHRoZW1lXG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWxpZ2h0JykpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcygndGhlbWUtbGlnaHQnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcygndGhlbWUtZGFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcygndGhlbWUtZGFyaycpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1saWdodCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0aGVtZSA9IGdldFZhdWx0Q29uZmlnKHRoaXMucGx1Z2luLmFwcCwgJ3RoZW1lJyk7XG4gICAgICBjb25zdCBuZXdUaGVtZSA9IHRoZW1lID09PSBPQlNJRElBTl9USEVNRVMuTElHSFQgXG4gICAgICAgID8gT0JTSURJQU5fVEhFTUVTLkRBUksgXG4gICAgICAgIDogT0JTSURJQU5fVEhFTUVTLkxJR0hUO1xuXG4gICAgICBzZXRUaGVtZSh0aGlzLnBsdWdpbi5hcHAsIG5ld1RoZW1lKTtcbiAgICAgIHNldFZhdWx0Q29uZmlnKHRoaXMucGx1Z2luLmFwcCwgJ3RoZW1lJywgbmV3VGhlbWUpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ2Nzcy1jaGFuZ2UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTd2l0Y2ggdG8gbGlnaHQgdGhlbWVcbiAgICovXG4gIHN3aXRjaFRvTGlnaHQoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcygndGhlbWUtZGFyaycpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XG4gICAgXG4gICAgY29uc3QgdGhlbWUgPSBnZXRWYXVsdENvbmZpZyh0aGlzLnBsdWdpbi5hcHAsICd0aGVtZScpO1xuICAgIGlmICh0aGVtZSAhPT0gT0JTSURJQU5fVEhFTUVTLlNZU1RFTSkge1xuICAgICAgc2V0VGhlbWUodGhpcy5wbHVnaW4uYXBwLCBPQlNJRElBTl9USEVNRVMuTElHSFQpO1xuICAgICAgc2V0VmF1bHRDb25maWcodGhpcy5wbHVnaW4uYXBwLCAndGhlbWUnLCBPQlNJRElBTl9USEVNRVMuTElHSFQpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ2Nzcy1jaGFuZ2UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTd2l0Y2ggdG8gZGFyayB0aGVtZVxuICAgKi9cbiAgc3dpdGNoVG9EYXJrKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcygndGhlbWUtZGFyaycpO1xuICAgIFxuICAgIGNvbnN0IHRoZW1lID0gZ2V0VmF1bHRDb25maWcodGhpcy5wbHVnaW4uYXBwLCAndGhlbWUnKTtcbiAgICBpZiAodGhlbWUgIT09IE9CU0lESUFOX1RIRU1FUy5TWVNURU0pIHtcbiAgICAgIHNldFRoZW1lKHRoaXMucGx1Z2luLmFwcCwgT0JTSURJQU5fVEhFTUVTLkRBUkspO1xuICAgICAgc2V0VmF1bHRDb25maWcodGhpcy5wbHVnaW4uYXBwLCAndGhlbWUnLCBPQlNJRElBTl9USEVNRVMuREFSSyk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignY3NzLWNoYW5nZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHRoZW1lIG1vZGVcbiAgICovXG4gIGdldEN1cnJlbnRNb2RlKCk6IFRoZW1lTW9kZSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGVtZS1saWdodCcpID8gJ2xpZ2h0JyA6ICdkYXJrJztcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2lkZWJhciB0aGVtZSBmb3IgaGlnaCBjb250cmFzdCBsaWdodCBtb2RlXG4gICAqL1xuICB1cGRhdGVTaWRlYmFyVGhlbWUoKTogdm9pZCB7XG4gICAgLy8gT25seSB1cGRhdGUgc2lkZWJhciB0aGVtZSBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2lkZWJhckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kLWxlZnQtc3BsaXQnKVswXTtcbiAgICBjb25zdCByaWJib25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NpZGUtZG9jay1yaWJib24nKVswXTtcbiAgICBcbiAgICBpZiAoXG4gICAgICBzaWRlYmFyRWwgJiYgXG4gICAgICByaWJib25FbCAmJiBcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGVtZS1saWdodCcpICYmIFxuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSA9PT0gJ294eWdlbi1saWdodC1jb250cmFzdCdcbiAgICApIHtcbiAgICAgIHNpZGViYXJFbC5hZGRDbGFzcygndGhlbWUtZGFyaycpO1xuICAgICAgcmliYm9uRWwuYWRkQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcbiAgICB9IGVsc2UgaWYgKHNpZGViYXJFbCAmJiByaWJib25FbCkge1xuICAgICAgc2lkZWJhckVsLnJlbW92ZUNsYXNzKCd0aGVtZS1kYXJrJyk7IFxuICAgICAgcmliYm9uRWwucmVtb3ZlQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW51cCBzaWRlYmFyIHRoZW1lIG9uIHVubG9hZFxuICAgKi9cbiAgY2xlYW51cFNpZGViYXJUaGVtZSgpOiB2b2lkIHtcbiAgICBjb25zdCBzaWRlYmFyRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2QtbGVmdC1zcGxpdCcpWzBdO1xuICAgIGlmIChzaWRlYmFyRWwpIHtcbiAgICAgIHNpZGViYXJFbC5yZW1vdmVDbGFzcygndGhlbWUtZGFyaycpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByaWJib25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NpZGUtZG9jay1yaWJib24nKVswXTtcbiAgICBpZiAocmliYm9uRWwpIHtcbiAgICAgIHJpYmJvbkVsLnJlbW92ZUNsYXNzKCd0aGVtZS1kYXJrJyk7XG4gICAgfVxuICB9XG59XG5cbiIsICIvKipcbiAqIFNldHRpbmdzIFN5bmMgTWFuYWdlclxuICogU3luY2hyb25pemVzIHBsdWdpbiBzZXR0aW5ncyB3aXRoIE9ic2lkaWFuIHZhdWx0IGNvbmZpZ3VyYXRpb25cbiAqL1xuXG5pbXBvcnQgeyBQbHVnaW5Db250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVkFVTFRfQ09ORklHIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFZhdWx0Q29uZmlnLCBzZXRWYXVsdENvbmZpZywgb25WYXVsdENvbmZpZ0NoYW5nZWQsIHVwZGF0ZUZvbnRTaXplIH0gZnJvbSAnLi4vdHlwZXMvb2JzaWRpYW4tZXh0ZW5zaW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1N5bmNNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBwbHVnaW46IFBsdWdpbkNvbnRleHQ7XG5cbiAgY29uc3RydWN0b3IocGx1Z2luOiBQbHVnaW5Db250ZXh0KSB7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgZXZlbnQgd2F0Y2hlcnMgZm9yIHZhdWx0IGNvbmZpZyBjaGFuZ2VzXG4gICAqL1xuICBzZXR1cFdhdGNoZXJzKCk6IHZvaWQge1xuICAgIC8vIFdhdGNoIGZvciB2YXVsdCBjb25maWcgY2hhbmdlc1xuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQoXG4gICAgICBvblZhdWx0Q29uZmlnQ2hhbmdlZCh0aGlzLnBsdWdpbi5hcHAsICgpID0+IHtcbiAgICAgICAgdGhpcy5zeW5jRnJvbVZhdWx0KCk7XG4gICAgICB9KVxuICAgICk7XG4gICAgXG4gICAgLy8gV2F0Y2ggZm9yIENTUyBjaGFuZ2VzIChzaWRlYmFyIHRoZW1lIHVwZGF0ZXMpXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChcbiAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oJ2Nzcy1jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlU2lkZWJhclRoZW1lKCk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBzZXR0aW5ncyBmcm9tIE9ic2lkaWFuIHZhdWx0IGNvbmZpZ1xuICAgKiBAcGFyYW0gc2tpcFNhdmUgLSBJZiB0cnVlLCBkb24ndCBzYXZlIHNldHRpbmdzICh1c2VkIGR1cmluZyBpbml0aWFsIGxvYWQpXG4gICAqL1xuICBzeW5jRnJvbVZhdWx0KHNraXBTYXZlOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICAvLyBGb250IHNpemVcbiAgICBjb25zdCBmb250U2l6ZSA9IGdldFZhdWx0Q29uZmlnKHRoaXMucGx1Z2luLmFwcCwgVkFVTFRfQ09ORklHLkJBU0VfRk9OVF9TSVpFKTtcbiAgICBpZiAodHlwZW9mIGZvbnRTaXplID09PSAnbnVtYmVyJykge1xuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGV4dE5vcm1hbCA9IGZvbnRTaXplO1xuICAgIH1cblxuICAgIC8vIEZvbGRpbmdcbiAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkaW5nID0gISFnZXRWYXVsdENvbmZpZyh0aGlzLnBsdWdpbi5hcHAsIFZBVUxUX0NPTkZJRy5GT0xEX0hFQURJTkcpO1xuXG4gICAgLy8gTGluZSBudW1iZXJzXG4gICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGluZU51bWJlcnMgPSAhIWdldFZhdWx0Q29uZmlnKHRoaXMucGx1Z2luLmFwcCwgVkFVTFRfQ09ORklHLlNIT1dfTElORV9OVU1CRVIpO1xuXG4gICAgLy8gUmVhZGFibGUgbGluZSBsZW5ndGhcbiAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWFkYWJsZUxpbmVMZW5ndGggPSAhIWdldFZhdWx0Q29uZmlnKHRoaXMucGx1Z2luLmFwcCwgVkFVTFRfQ09ORklHLlJFQURBQkxFX0xJTkVfTEVOR1RIKTtcblxuICAgIC8vIFVwZGF0ZSBib2R5IGNsYXNzZXNcbiAgICBjb25zdCBib2R5Q2xhc3NMaXN0ID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3Q7XG4gICAgYm9keUNsYXNzTGlzdC50b2dnbGUoJ294eWdlbi1mb2xkaW5nJywgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGluZyk7XG4gICAgYm9keUNsYXNzTGlzdC50b2dnbGUoJ294eWdlbi1saW5lLW51bXMnLCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5saW5lTnVtYmVycyk7XG4gICAgYm9keUNsYXNzTGlzdC50b2dnbGUoJ294eWdlbi1yZWFkYWJsZScsIHRoaXMucGx1Z2luLnNldHRpbmdzLnJlYWRhYmxlTGluZUxlbmd0aCk7XG4gICAgYm9keUNsYXNzTGlzdC50b2dnbGUoJ294eWdlbi1yZWFkYWJsZS1vZmYnLCAhdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVhZGFibGVMaW5lTGVuZ3RoKTtcblxuICAgIC8vIFNhdmUgdXBkYXRlZCBzZXR0aW5ncyAoc2tpcCBkdXJpbmcgaW5pdGlhbCBsb2FkIHRvIGF2b2lkIHVubmVjZXNzYXJ5IEkvTylcbiAgICBpZiAoIXNraXBTYXZlKSB7XG4gICAgICB2b2lkIHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3luYyBmb250IHNpemUgdG8gT2JzaWRpYW4gdmF1bHQgY29uZmlnXG4gICAqL1xuICBzZXRGb250U2l6ZSgpOiB2b2lkIHtcbiAgICBzZXRWYXVsdENvbmZpZyh0aGlzLnBsdWdpbi5hcHAsIFZBVUxUX0NPTkZJRy5CQVNFX0ZPTlRfU0laRSwgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGV4dE5vcm1hbCk7XG4gICAgdXBkYXRlRm9udFNpemUodGhpcy5wbHVnaW4uYXBwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2lkZWJhciB0aGVtZSBmb3IgaGlnaCBjb250cmFzdCBtb2RlXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVNpZGViYXJUaGVtZSgpOiB2b2lkIHtcbiAgICBjb25zdCBzaWRlYmFyRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2QtbGVmdC1zcGxpdCcpWzBdO1xuICAgIGNvbnN0IHJpYmJvbkVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2lkZS1kb2NrLXJpYmJvbicpWzBdO1xuICAgIFxuICAgIGlmIChcbiAgICAgIHNpZGViYXJFbCAmJiBcbiAgICAgIHJpYmJvbkVsICYmIFxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWxpZ2h0JykgJiYgXG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5saWdodFN0eWxlID09PSAnb3h5Z2VuLWxpZ2h0LWNvbnRyYXN0J1xuICAgICkge1xuICAgICAgc2lkZWJhckVsLmFkZENsYXNzKCd0aGVtZS1kYXJrJyk7XG4gICAgICByaWJib25FbC5hZGRDbGFzcygndGhlbWUtZGFyaycpO1xuICAgIH0gZWxzZSBpZiAoc2lkZWJhckVsICYmIHJpYmJvbkVsKSB7XG4gICAgICBzaWRlYmFyRWwucmVtb3ZlQ2xhc3MoJ3RoZW1lLWRhcmsnKTsgXG4gICAgICByaWJib25FbC5yZW1vdmVDbGFzcygndGhlbWUtZGFyaycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbnVwIC0gbm8gc3BlY2lmaWMgY2xlYW51cCBuZWVkZWQgZm9yIHRoaXMgbWFuYWdlclxuICAgKi9cbiAgY2xlYW51cCgpOiB2b2lkIHtcbiAgICAvLyBFdmVudCBsaXN0ZW5lcnMgYXJlIGF1dG9tYXRpY2FsbHkgY2xlYW5lZCB1cCBieSBPYnNpZGlhblxuICB9XG59XG5cbiIsICIvKipcbiAqIEZvbnQgc2l6ZSBhZGp1c3RtZW50IGNvbW1hbmRzXG4gKi9cblxuaW1wb3J0IHsgUGx1Z2luQ29udGV4dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENPTU1BTkRfSURTLCBERUZBVUxUUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXRWYXVsdENvbmZpZywgdXBkYXRlRm9udFNpemUgfSBmcm9tICcuLi90eXBlcy9vYnNpZGlhbi1leHRlbnNpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRm9udENvbW1hbmRzKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLklOQ1JFQVNFX0ZPTlQsXG4gICAgbmFtZTogJ0luY3JlYXNlIGJvZHkgZm9udCBzaXplJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgcGx1Z2luLnNldHRpbmdzLnRleHROb3JtYWwgKz0gREVGQVVMVFMuRk9OVF9TVEVQO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHNldEZvbnRTaXplKHBsdWdpbik7XG4gICAgfVxuICB9KTtcblxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLkRFQ1JFQVNFX0ZPTlQsXG4gICAgbmFtZTogJ0RlY3JlYXNlIGJvZHkgZm9udCBzaXplJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgcGx1Z2luLnNldHRpbmdzLnRleHROb3JtYWwgLT0gREVGQVVMVFMuRk9OVF9TVEVQO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHNldEZvbnRTaXplKHBsdWdpbik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0Rm9udFNpemUocGx1Z2luOiBQbHVnaW5Db250ZXh0KTogdm9pZCB7XG4gIHNldFZhdWx0Q29uZmlnKHBsdWdpbi5hcHAsICdiYXNlRm9udFNpemUnLCBwbHVnaW4uc2V0dGluZ3MudGV4dE5vcm1hbCk7XG4gIHVwZGF0ZUZvbnRTaXplKHBsdWdpbi5hcHApO1xufVxuXG4iLCAiLyoqXG4gKiBDb2xvciBzY2hlbWUgc3dpdGNoaW5nIGNvbW1hbmRzXG4gKiBHZW5lcmF0ZXMgY29tbWFuZHMgZm9yIGFsbCBidWlsdC1pbiBsaWdodCBhbmQgZGFyayBzY2hlbWVzXG4gKi9cblxuaW1wb3J0IHsgUGx1Z2luQ29udGV4dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IExJR0hUX1NDSEVNRVMsIERBUktfU0NIRU1FUywgU0NIRU1FX0RJU1BMQVlfTkFNRVMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0VGhlbWUsIGdldFZhdWx0Q29uZmlnLCBzZXRWYXVsdENvbmZpZyB9IGZyb20gJy4uL3R5cGVzL29ic2lkaWFuLWV4dGVuc2lvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTY2hlbWVDb21tYW5kcyhwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcbiAgLy8gUmVnaXN0ZXIgbGlnaHQgc2NoZW1lIGNvbW1hbmRzXG4gIExJR0hUX1NDSEVNRVMuZm9yRWFjaChzY2hlbWUgPT4ge1xuICAgIGNvbnN0IHNjaGVtZU5hbWUgPSBTQ0hFTUVfRElTUExBWV9OQU1FU1tzY2hlbWVdIHx8IHNjaGVtZTtcbiAgICBcbiAgICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICBpZDogYHRvZ2dsZS0ke3NjaGVtZX1gLFxuICAgICAgbmFtZTogYFN3aXRjaCBsaWdodCBjb2xvciBzY2hlbWUgdG8gJHtzY2hlbWVOYW1lfSAobGlnaHQpYCxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5saWdodFNjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgICAgdXBkYXRlTGlnaHRTY2hlbWUocGx1Z2luKTtcbiAgICAgICAgdXBkYXRlTGlnaHRTdHlsZShwbHVnaW4pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBSZWdpc3RlciBkYXJrIHNjaGVtZSBjb21tYW5kc1xuICBEQVJLX1NDSEVNRVMuZm9yRWFjaChzY2hlbWUgPT4ge1xuICAgIGNvbnN0IHNjaGVtZU5hbWUgPSBTQ0hFTUVfRElTUExBWV9OQU1FU1tzY2hlbWVdIHx8IHNjaGVtZTtcbiAgICBcbiAgICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICBpZDogYHRvZ2dsZS0ke3NjaGVtZX1gLFxuICAgICAgbmFtZTogYFN3aXRjaCBkYXJrIGNvbG9yIHNjaGVtZSB0byAke3NjaGVtZU5hbWV9IChkYXJrKWAsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBwbHVnaW4uc2V0dGluZ3MuZGFya1NjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgICAgdXBkYXRlRGFya1NjaGVtZShwbHVnaW4pO1xuICAgICAgICB1cGRhdGVEYXJrU3R5bGUocGx1Z2luKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVMaWdodFNjaGVtZShwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcbiAgcmVtb3ZlTGlnaHRTY2hlbWUocGx1Z2luKTtcbiAgcmVtb3ZlRGFya1NjaGVtZShwbHVnaW4pO1xuICBcbiAgaWYgKCFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndGhlbWUtbGlnaHQnKSkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1saWdodCcpO1xuICB9XG4gIFxuICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKHBsdWdpbi5zZXR0aW5ncy5saWdodFNjaGVtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEYXJrU2NoZW1lKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICByZW1vdmVEYXJrU2NoZW1lKHBsdWdpbik7XG4gIHJlbW92ZUxpZ2h0U2NoZW1lKHBsdWdpbik7XG4gIFxuICBpZiAoIWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGVtZS1kYXJrJykpIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1saWdodCcpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcbiAgfVxuICBcbiAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcyhwbHVnaW4uc2V0dGluZ3MuZGFya1NjaGVtZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpZ2h0U3R5bGUocGx1Z2luOiBQbHVnaW5Db250ZXh0KTogdm9pZCB7XG4gIC8vIE9ubHkgYXBwbHkgc3R5bGVzIGlmIE94eWdlbiB0aGVtZSBpcyBhY3RpdmVcbiAgaWYgKCFwbHVnaW4uaXNPeHlnZW5UaGVtZUFjdGl2ZSgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKFxuICAgICd0aGVtZS1kYXJrJyxcbiAgICAnb3h5Z2VuLWxpZ2h0JyxcbiAgICAnb3h5Z2VuLWxpZ2h0LXRvbmFsJyxcbiAgICAnb3h5Z2VuLWxpZ2h0LWNvbnRyYXN0JyxcbiAgICAnb3h5Z2VuLWxpZ2h0LXdoaXRlJ1xuICApO1xuICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1saWdodCcsIHBsdWdpbi5zZXR0aW5ncy5saWdodFN0eWxlKTtcbiAgXG4gIGNvbnN0IHRoZW1lID0gZ2V0VmF1bHRDb25maWcocGx1Z2luLmFwcCwgJ3RoZW1lJyk7XG4gIGlmICh0aGVtZSAhPT0gJ3N5c3RlbScpIHtcbiAgICBzZXRUaGVtZShwbHVnaW4uYXBwLCAnbW9vbnN0b25lJyk7XG4gICAgc2V0VmF1bHRDb25maWcocGx1Z2luLmFwcCwgJ3RoZW1lJywgJ21vb25zdG9uZScpO1xuICB9XG4gIHBsdWdpbi5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ2Nzcy1jaGFuZ2UnKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRGFya1N0eWxlKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICAvLyBPbmx5IGFwcGx5IHN0eWxlcyBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlXG4gIGlmICghcGx1Z2luLmlzT3h5Z2VuVGhlbWVBY3RpdmUoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcyhcbiAgICAndGhlbWUtbGlnaHQnLFxuICAgICdveHlnZW4tZGFyaycsXG4gICAgJ294eWdlbi1kYXJrLXRvbmFsJyxcbiAgICAnb3h5Z2VuLWRhcmstYmxhY2snXG4gICk7XG4gIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWRhcmsnLCBwbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlKTtcbiAgXG4gIGNvbnN0IHRoZW1lID0gZ2V0VmF1bHRDb25maWcocGx1Z2luLmFwcCwgJ3RoZW1lJyk7XG4gIGlmICh0aGVtZSAhPT0gJ3N5c3RlbScpIHtcbiAgICBzZXRUaGVtZShwbHVnaW4uYXBwLCAnb2JzaWRpYW4nKTtcbiAgICBzZXRWYXVsdENvbmZpZyhwbHVnaW4uYXBwLCAndGhlbWUnLCAnb2JzaWRpYW4nKTtcbiAgfVxuICBwbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdjc3MtY2hhbmdlJyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUxpZ2h0U2NoZW1lKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKC4uLkxJR0hUX1NDSEVNRVMpO1xuICBcbiAgLy8gUmVtb3ZlIGN1c3RvbSBwcmVzZXQgY2xhc3Nlc1xuICBwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5mb3JFYWNoKHByZXNldCA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcyhgbWluaW1hbC1jdXN0b20tJHtwcmVzZXQuaWR9YCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVEYXJrU2NoZW1lKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKC4uLkRBUktfU0NIRU1FUyk7XG4gIFxuICAvLyBSZW1vdmUgY3VzdG9tIHByZXNldCBjbGFzc2VzXG4gIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmZvckVhY2gocHJlc2V0ID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKGBtaW5pbWFsLWN1c3RvbS0ke3ByZXNldC5pZH1gKTtcbiAgfSk7XG59XG5cbiIsICIvKipcbiAqIExpZ2h0L0Rhcmsgc3R5bGUgY3ljbGluZyBjb21tYW5kc1xuICovXG5cbmltcG9ydCB7IFBsdWdpbkNvbnRleHQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBDT01NQU5EX0lEUywgTElHSFRfU1RZTEVTLCBEQVJLX1NUWUxFUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXRUaGVtZSwgZ2V0VmF1bHRDb25maWcsIHNldFZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vdHlwZXMvb2JzaWRpYW4tZXh0ZW5zaW9ucyc7XG5pbXBvcnQgeyB1cGRhdGVMaWdodFNjaGVtZSwgdXBkYXRlRGFya1NjaGVtZSB9IGZyb20gJy4vc2NoZW1lLWNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyU3R5bGVDb21tYW5kcyhwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcbiAgLy8gQ3ljbGUgZGFyayBzdHlsZXNcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xuICAgIGlkOiBDT01NQU5EX0lEUy5DWUNMRV9EQVJLX1NUWUxFLFxuICAgIG5hbWU6ICdDeWNsZSBiZXR3ZWVuIGRhcmsgbW9kZSBzdHlsZXMnLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSAoREFSS19TVFlMRVMgYXMgcmVhZG9ubHkgc3RyaW5nW10pLmluZGV4T2YocGx1Z2luLnNldHRpbmdzLmRhcmtTdHlsZSk7XG4gICAgICBjb25zdCBuZXh0SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSBEQVJLX1NUWUxFUy5sZW5ndGg7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlID0gREFSS19TVFlMRVNbbmV4dEluZGV4XTtcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICB1cGRhdGVEYXJrU3R5bGUocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEN5Y2xlIGxpZ2h0IHN0eWxlc1xuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLkNZQ0xFX0xJR0hUX1NUWUxFLFxuICAgIG5hbWU6ICdDeWNsZSBiZXR3ZWVuIGxpZ2h0IG1vZGUgc3R5bGVzJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKExJR0hUX1NUWUxFUyBhcyByZWFkb25seSBzdHJpbmdbXSkuaW5kZXhPZihwbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSk7XG4gICAgICBjb25zdCBuZXh0SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSBMSUdIVF9TVFlMRVMubGVuZ3RoO1xuICAgICAgcGx1Z2luLnNldHRpbmdzLmxpZ2h0U3R5bGUgPSBMSUdIVF9TVFlMRVNbbmV4dEluZGV4XTtcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICB1cGRhdGVMaWdodFN0eWxlKHBsdWdpbik7XG4gICAgfVxuICB9KTtcblxuICAvLyBJbmRpdmlkdWFsIGxpZ2h0IHN0eWxlIGNvbW1hbmRzXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuTElHSFRfREVGQVVMVCxcbiAgICBuYW1lOiAnVXNlIGxpZ2h0IG1vZGUgKGRlZmF1bHQpJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgcGx1Z2luLnNldHRpbmdzLmxpZ2h0U3R5bGUgPSAnb3h5Z2VuLWxpZ2h0JztcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5saWdodFNjaGVtZSA9ICdveHlnZW4tb3h5Z2VuLWxpZ2h0JztcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICB1cGRhdGVMaWdodFNjaGVtZShwbHVnaW4pO1xuICAgICAgdXBkYXRlTGlnaHRTdHlsZShwbHVnaW4pO1xuICAgIH1cbiAgfSk7XG5cbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xuICAgIGlkOiBDT01NQU5EX0lEUy5MSUdIVF9XSElURSxcbiAgICBuYW1lOiAnVXNlIGxpZ2h0IG1vZGUgKGFsbCB3aGl0ZSknLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSA9ICdveHlnZW4tbGlnaHQtd2hpdGUnO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHVwZGF0ZUxpZ2h0U3R5bGUocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuTElHSFRfVE9OQUwsXG4gICAgbmFtZTogJ1VzZSBsaWdodCBtb2RlIChsb3cgY29udHJhc3QpJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgcGx1Z2luLnNldHRpbmdzLmxpZ2h0U3R5bGUgPSAnb3h5Z2VuLWxpZ2h0LXRvbmFsJztcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICB1cGRhdGVMaWdodFN0eWxlKHBsdWdpbik7XG4gICAgfVxuICB9KTtcblxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLkxJR0hUX0NPTlRSQVNULFxuICAgIG5hbWU6ICdVc2UgbGlnaHQgbW9kZSAoaGlnaCBjb250cmFzdCknLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSA9ICdveHlnZW4tbGlnaHQtY29udHJhc3QnO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHVwZGF0ZUxpZ2h0U3R5bGUocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEluZGl2aWR1YWwgZGFyayBzdHlsZSBjb21tYW5kc1xuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLkRBUktfREVGQVVMVCxcbiAgICBuYW1lOiAnVXNlIGRhcmsgbW9kZSAoZGVmYXVsdCknLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlID0gJ294eWdlbi1kYXJrJztcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lID0gJ294eWdlbi1veHlnZW4tZGFyayc7XG4gICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgdXBkYXRlRGFya1NjaGVtZShwbHVnaW4pO1xuICAgICAgdXBkYXRlRGFya1N0eWxlKHBsdWdpbik7XG4gICAgfVxuICB9KTtcblxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLkRBUktfVE9OQUwsXG4gICAgbmFtZTogJ1VzZSBkYXJrIG1vZGUgKGxvdyBjb250cmFzdCknLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlID0gJ294eWdlbi1kYXJrLXRvbmFsJztcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICB1cGRhdGVEYXJrU3R5bGUocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuREFSS19CTEFDSyxcbiAgICBuYW1lOiAnVXNlIGRhcmsgbW9kZSAodHJ1ZSBibGFjayknLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MuZGFya1N0eWxlID0gJ294eWdlbi1kYXJrLWJsYWNrJztcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICB1cGRhdGVEYXJrU3R5bGUocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVMaWdodFN0eWxlKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICAvLyBPbmx5IGFwcGx5IHN0eWxlcyBpZiBPeHlnZW4gdGhlbWUgaXMgYWN0aXZlXG4gIGlmICghcGx1Z2luLmlzT3h5Z2VuVGhlbWVBY3RpdmUoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcyhcbiAgICAndGhlbWUtZGFyaycsXG4gICAgJ294eWdlbi1saWdodCcsXG4gICAgJ294eWdlbi1saWdodC10b25hbCcsXG4gICAgJ294eWdlbi1saWdodC1jb250cmFzdCcsXG4gICAgJ294eWdlbi1saWdodC13aGl0ZSdcbiAgKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcygndGhlbWUtbGlnaHQnLCBwbHVnaW4uc2V0dGluZ3MubGlnaHRTdHlsZSk7XG4gIFxuICBjb25zdCB0aGVtZSA9IGdldFZhdWx0Q29uZmlnKHBsdWdpbi5hcHAsICd0aGVtZScpO1xuICBpZiAodGhlbWUgIT09ICdzeXN0ZW0nKSB7XG4gICAgc2V0VGhlbWUocGx1Z2luLmFwcCwgJ21vb25zdG9uZScpO1xuICAgIHNldFZhdWx0Q29uZmlnKHBsdWdpbi5hcHAsICd0aGVtZScsICdtb29uc3RvbmUnKTtcbiAgfVxuICBwbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdjc3MtY2hhbmdlJyk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURhcmtTdHlsZShwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcbiAgLy8gT25seSBhcHBseSBzdHlsZXMgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxuICBpZiAoIXBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoXG4gICAgJ3RoZW1lLWxpZ2h0JyxcbiAgICAnb3h5Z2VuLWRhcmsnLFxuICAgICdveHlnZW4tZGFyay10b25hbCcsXG4gICAgJ294eWdlbi1kYXJrLWJsYWNrJ1xuICApO1xuICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1kYXJrJywgcGx1Z2luLnNldHRpbmdzLmRhcmtTdHlsZSk7XG4gIFxuICBjb25zdCB0aGVtZSA9IGdldFZhdWx0Q29uZmlnKHBsdWdpbi5hcHAsICd0aGVtZScpO1xuICBpZiAodGhlbWUgIT09ICdzeXN0ZW0nKSB7XG4gICAgc2V0VGhlbWUocGx1Z2luLmFwcCwgJ29ic2lkaWFuJyk7XG4gICAgc2V0VmF1bHRDb25maWcocGx1Z2luLmFwcCwgJ3RoZW1lJywgJ29ic2lkaWFuJyk7XG4gIH1cbiAgcGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignY3NzLWNoYW5nZScpO1xufVxuXG4iLCAiLyoqXHJcbiAqIEN1c3RvbSBwcmVzZXQgY29tbWFuZHMgKGNyZWF0ZSwgaW1wb3J0LCBjeWNsZSlcclxuICovXHJcblxyXG5pbXBvcnQgeyBQbHVnaW5Db250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBDT01NQU5EX0lEUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFByZXNldEVkaXRvck1vZGFsIH0gZnJvbSAnLi4vbW9kYWxzL1ByZXNldEVkaXRvck1vZGFsJztcclxuaW1wb3J0IHsgUHJlc2V0SW1wb3J0TW9kYWwgfSBmcm9tICcuLi9tb2RhbHMvUHJlc2V0SW1wb3J0TW9kYWwnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUHJlc2V0Q29tbWFuZHMocGx1Z2luOiBQbHVnaW5Db250ZXh0KTogdm9pZCB7XHJcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgaWQ6IENPTU1BTkRfSURTLkNSRUFURV9QUkVTRVQsXHJcbiAgICBuYW1lOiAnQ3JlYXRlIGN1c3RvbSBjb2xvciBwcmVzZXQnLFxyXG4gICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgY29uc3QgbW9kYWwgPSBuZXcgUHJlc2V0RWRpdG9yTW9kYWwocGx1Z2luLmFwcCwgcGx1Z2luLCBudWxsLCAocHJlc2V0KSA9PiB7XHJcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMucHVzaChwcmVzZXQpO1xyXG4gICAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBtb2RhbC5vcGVuKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgIGlkOiBDT01NQU5EX0lEUy5JTVBPUlRfUFJFU0VULFxyXG4gICAgbmFtZTogJ0ltcG9ydCBjdXN0b20gY29sb3IgcHJlc2V0JyxcclxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IFByZXNldEltcG9ydE1vZGFsKHBsdWdpbi5hcHAsIHBsdWdpbiwgKHByZXNldCkgPT4ge1xyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLnB1c2gocHJlc2V0KTtcclxuICAgICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xyXG4gICAgICB9KTtcclxuICAgICAgbW9kYWwub3BlbigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICBpZDogQ09NTUFORF9JRFMuQ1lDTEVfUFJFU0VUU19MSUdIVCxcclxuICAgIG5hbWU6ICdDeWNsZSB0aHJvdWdoIGN1c3RvbSBwcmVzZXRzIChsaWdodCBtb2RlKScsXHJcbiAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICBpZiAocGx1Z2luLnNldHRpbmdzLmN1c3RvbVByZXNldHMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5maW5kSW5kZXgocCA9PiBcclxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUgPT09IGBveHlnZW4tY3VzdG9tLSR7cC5pZH1gXHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IChjdXJyZW50SW5kZXggKyAxKSAlIHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmxlbmd0aDtcclxuICAgICAgY29uc3QgbmV4dFByZXNldCA9IHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzW25leHRJbmRleF07XHJcbiAgICAgIFxyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MubGlnaHRTY2hlbWUgPSBgb3h5Z2VuLWN1c3RvbS0ke25leHRQcmVzZXQuaWR9YDtcclxuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgdXBkYXRlTGlnaHRTY2hlbWUocGx1Z2luKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgaWQ6IENPTU1BTkRfSURTLkNZQ0xFX1BSRVNFVFNfREFSSyxcclxuICAgIG5hbWU6ICdDeWNsZSB0aHJvdWdoIGN1c3RvbSBwcmVzZXRzIChkYXJrIG1vZGUpJyxcclxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5sZW5ndGggPT09IDApIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHBsdWdpbi5zZXR0aW5ncy5jdXN0b21QcmVzZXRzLmZpbmRJbmRleChwID0+IFxyXG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy5kYXJrU2NoZW1lID09PSBgb3h5Z2VuLWN1c3RvbS0ke3AuaWR9YFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBuZXh0SW5kZXggPSAoY3VycmVudEluZGV4ICsgMSkgJSBwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0cy5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IG5leHRQcmVzZXQgPSBwbHVnaW4uc2V0dGluZ3MuY3VzdG9tUHJlc2V0c1tuZXh0SW5kZXhdO1xyXG4gICAgICBcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmRhcmtTY2hlbWUgPSBgb3h5Z2VuLWN1c3RvbS0ke25leHRQcmVzZXQuaWR9YDtcclxuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgdXBkYXRlRGFya1NjaGVtZShwbHVnaW4pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVMaWdodFNjaGVtZShwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcclxuICBwbHVnaW4udXBkYXRlTGlnaHRTY2hlbWUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlRGFya1NjaGVtZShwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcclxuICBwbHVnaW4udXBkYXRlRGFya1NjaGVtZSgpO1xyXG59XHJcblxyXG4iLCAiLyoqXG4gKiBGZWF0dXJlIHRvZ2dsZSBjb21tYW5kcyAoYm9yZGVycywgaGVhZGluZ3MsIGZvY3VzIG1vZGUsIGV0Yy4pXG4gKi9cblxuaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgUGx1Z2luQ29udGV4dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENPTU1BTkRfSURTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFZhdWx0Q29uZmlnLCBzZXRUaGVtZSwgc2V0VmF1bHRDb25maWcgfSBmcm9tICcuLi90eXBlcy9vYnNpZGlhbi1leHRlbnNpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRmVhdHVyZUNvbW1hbmRzKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLlRPR0dMRV9CT1JERVJTLFxuICAgIG5hbWU6ICdUb2dnbGUgc2lkZWJhciBib3JkZXJzJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgLy8gQ3ljbGUgdGhyb3VnaDogZW5oYW5jZWQgLT4gZGVmYXVsdCAtPiBub25lIC0+IGVuaGFuY2VkXG4gICAgICBjb25zdCBjdXJyZW50ID0gcGx1Z2luLnNldHRpbmdzLndvcmtzcGFjZUJvcmRlcnM7XG4gICAgICBpZiAoY3VycmVudCA9PT0gJ2VuaGFuY2VkJykge1xuICAgICAgICBwbHVnaW4uc2V0dGluZ3Mud29ya3NwYWNlQm9yZGVycyA9ICdkZWZhdWx0JztcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy53b3Jrc3BhY2VCb3JkZXJzID0gJ25vbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLndvcmtzcGFjZUJvcmRlcnMgPSAnZW5oYW5jZWQnO1xuICAgICAgfVxuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHJlZnJlc2gocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuVE9HR0xFX0NPTE9SRlVMX0hFQURJTkdTLFxuICAgIG5hbWU6ICdUb2dnbGUgY29sb3JmdWwgaGVhZGluZ3MnLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICBwbHVnaW4uc2V0dGluZ3MuY29sb3JmdWxIZWFkaW5ncyA9ICFwbHVnaW4uc2V0dGluZ3MuY29sb3JmdWxIZWFkaW5ncztcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XG4gICAgICByZWZyZXNoKHBsdWdpbik7XG4gICAgfVxuICB9KTtcblxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6IENPTU1BTkRfSURTLlRPR0dMRV9DT0xPUkZVTF9GUkFNRSxcbiAgICBuYW1lOiAnVG9nZ2xlIGNvbG9yZnVsIHdpbmRvdyBmcmFtZScsXG4gICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5jb2xvcmZ1bEZyYW1lID0gIXBsdWdpbi5zZXR0aW5ncy5jb2xvcmZ1bEZyYW1lO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHJlZnJlc2gocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuVE9HR0xFX0lNQUdFX0dSSUQsXG4gICAgbmFtZTogJ1RvZ2dsZSBpbWFnZSBncmlkcycsXG4gICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5pbWdHcmlkID0gIXBsdWdpbi5zZXR0aW5ncy5pbWdHcmlkO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcbiAgICAgIHJlZnJlc2gocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuVE9HR0xFX1RIRU1FLFxuICAgIG5hbWU6ICdTd2l0Y2ggYmV0d2VlbiBsaWdodCBhbmQgZGFyayBtb2RlJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgdXBkYXRlVGhlbWUocGx1Z2luKTtcbiAgICB9XG4gIH0pO1xuXG4gIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICBpZDogQ09NTUFORF9JRFMuREVWX0JMT0NLX1dJRFRILFxuICAgIG5hbWU6ICdEZXYgXHUyMDE0IHNob3cgYmxvY2sgd2lkdGhzJyxcbiAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgcGx1Z2luLnNldHRpbmdzLmRldkJsb2NrV2lkdGggPSAhcGx1Z2luLnNldHRpbmdzLmRldkJsb2NrV2lkdGg7XG4gICAgICB2b2lkIHBsdWdpbi5zYXZlRGF0YShwbHVnaW4uc2V0dGluZ3MpO1xuICAgICAgcmVmcmVzaChwbHVnaW4pO1xuICAgIH1cbiAgfSk7XG5cblxuICAvLyBPcGVuIHNldHRpbmdzIGNvbW1hbmRcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xuICAgIGlkOiBDT01NQU5EX0lEUy5PUEVOX1NFVFRJTkdTLFxuICAgIG5hbWU6ICdPcGVuIHNldHRpbmdzJyxcbiAgICBpY29uOiAnc2V0dGluZ3MtMicsXG4gICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgIC8vIE9wZW4gc2V0dGluZ3MgYW5kIG5hdmlnYXRlIHRvIHRoaXMgcGx1Z2luJ3MgdGFiXG4gICAgICAvLyBVc2luZyB0eXBlLXNhZmUgYWNjZXNzIHRvIGludGVybmFsIE9ic2lkaWFuIEFQSVxuICAgICAgY29uc3QgYXBwV2l0aFNldHRpbmdzID0gcGx1Z2luLmFwcCBhcyBBcHAgJiB7XG4gICAgICAgIHNldHRpbmc6IHtcbiAgICAgICAgICBvcGVuOiAoKSA9PiB2b2lkO1xuICAgICAgICAgIG9wZW5UYWJCeUlkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBhcHBXaXRoU2V0dGluZ3Muc2V0dGluZy5vcGVuKCk7XG4gICAgICBhcHBXaXRoU2V0dGluZ3Muc2V0dGluZy5vcGVuVGFiQnlJZChwbHVnaW4ubWFuaWZlc3QuaWQpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlZnJlc2gocGx1Z2luOiBQbHVnaW5Db250ZXh0KTogdm9pZCB7XG4gIHBsdWdpbi51cGRhdGVTdHlsZSgpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVUaGVtZShwbHVnaW46IFBsdWdpbkNvbnRleHQpOiB2b2lkIHtcbiAgLy8gT25seSBhcHBseSBzdHlsZXMgaWYgT3h5Z2VuIHRoZW1lIGlzIGFjdGl2ZVxuICBpZiAoIXBsdWdpbi5pc094eWdlblRoZW1lQWN0aXZlKCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGNvbnN0IHRoZW1lID0gZ2V0VmF1bHRDb25maWcocGx1Z2luLmFwcCwgJ3RoZW1lJyk7XG4gIFxuICBpZiAodGhlbWUgPT09ICdzeXN0ZW0nKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aGVtZS1saWdodCcpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1saWdodCcpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRDbGFzcygndGhlbWUtZGFyaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCd0aGVtZS1kYXJrJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1saWdodCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3RoZW1lLWxpZ2h0JykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZENsYXNzKCd0aGVtZS1kYXJrJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ3RoZW1lLWRhcmsnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkQ2xhc3MoJ3RoZW1lLWxpZ2h0Jyk7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFRoZW1lID0gZ2V0VmF1bHRDb25maWcocGx1Z2luLmFwcCwgJ3RoZW1lJyk7XG4gICAgY29uc3QgbmV3VGhlbWUgPSBjdXJyZW50VGhlbWUgPT09ICdtb29uc3RvbmUnID8gJ29ic2lkaWFuJyA6ICdtb29uc3RvbmUnO1xuICAgIHNldFRoZW1lKHBsdWdpbi5hcHAsIG5ld1RoZW1lKTtcbiAgICBzZXRWYXVsdENvbmZpZyhwbHVnaW4uYXBwLCAndGhlbWUnLCBuZXdUaGVtZSk7XG4gIH1cbiAgcGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignY3NzLWNoYW5nZScpO1xufVxuXG4iLCAiLyoqXHJcbiAqIFdpZHRoIGN5Y2xpbmcgY29tbWFuZHMgZm9yIHRhYmxlcywgaW1hZ2VzLCBpZnJhbWVzLCBjaGFydHMsIGFuZCBtYXBzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUGx1Z2luQ29udGV4dCB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgXHJcbiAgQ09NTUFORF9JRFMsIFxyXG4gIFRBQkxFX1dJRFRIX1NUWUxFUywgXHJcbiAgSU1BR0VfV0lEVEhfU1RZTEVTLCBcclxuICBJRlJBTUVfV0lEVEhfU1RZTEVTLFxyXG4gIENIQVJUX1dJRFRIX1NUWUxFUyxcclxuICBNQVBfV0lEVEhfU1RZTEVTXHJcbn0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcldpZHRoQ29tbWFuZHMocGx1Z2luOiBQbHVnaW5Db250ZXh0KTogdm9pZCB7XHJcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgaWQ6IENPTU1BTkRfSURTLkNZQ0xFX1RBQkxFX1dJRFRILFxyXG4gICAgbmFtZTogJ0N5Y2xlIGJldHdlZW4gdGFibGUgd2lkdGggb3B0aW9ucycsXHJcbiAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSAoVEFCTEVfV0lEVEhfU1RZTEVTIGFzIHJlYWRvbmx5IHN0cmluZ1tdKS5pbmRleE9mKHBsdWdpbi5zZXR0aW5ncy50YWJsZVdpZHRoKTtcclxuICAgICAgY29uc3QgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgVEFCTEVfV0lEVEhfU1RZTEVTLmxlbmd0aDtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLnRhYmxlV2lkdGggPSBUQUJMRV9XSURUSF9TVFlMRVNbbmV4dEluZGV4XTtcclxuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgcmVmcmVzaChwbHVnaW4pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICBpZDogQ09NTUFORF9JRFMuQ1lDTEVfSU1BR0VfV0lEVEgsXHJcbiAgICBuYW1lOiAnQ3ljbGUgYmV0d2VlbiBpbWFnZSB3aWR0aCBvcHRpb25zJyxcclxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IChJTUFHRV9XSURUSF9TVFlMRVMgYXMgcmVhZG9ubHkgc3RyaW5nW10pLmluZGV4T2YocGx1Z2luLnNldHRpbmdzLmltZ1dpZHRoKTtcclxuICAgICAgY29uc3QgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgSU1BR0VfV0lEVEhfU1RZTEVTLmxlbmd0aDtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmltZ1dpZHRoID0gSU1BR0VfV0lEVEhfU1RZTEVTW25leHRJbmRleF07XHJcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgIHJlZnJlc2gocGx1Z2luKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgaWQ6IENPTU1BTkRfSURTLkNZQ0xFX0lGUkFNRV9XSURUSCxcclxuICAgIG5hbWU6ICdDeWNsZSBiZXR3ZWVuIGlmcmFtZSB3aWR0aCBvcHRpb25zJyxcclxuICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IChJRlJBTUVfV0lEVEhfU1RZTEVTIGFzIHJlYWRvbmx5IHN0cmluZ1tdKS5pbmRleE9mKHBsdWdpbi5zZXR0aW5ncy5pZnJhbWVXaWR0aCk7XHJcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IChjdXJyZW50SW5kZXggKyAxKSAlIElGUkFNRV9XSURUSF9TVFlMRVMubGVuZ3RoO1xyXG4gICAgICBwbHVnaW4uc2V0dGluZ3MuaWZyYW1lV2lkdGggPSBJRlJBTUVfV0lEVEhfU1RZTEVTW25leHRJbmRleF07XHJcbiAgICAgIHZvaWQgcGx1Z2luLnNhdmVEYXRhKHBsdWdpbi5zZXR0aW5ncyk7XHJcbiAgICAgIHJlZnJlc2gocGx1Z2luKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgaWQ6IENPTU1BTkRfSURTLkNZQ0xFX0NIQVJUX1dJRFRILFxyXG4gICAgbmFtZTogJ0N5Y2xlIGJldHdlZW4gY2hhcnQgd2lkdGggb3B0aW9ucycsXHJcbiAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSAoQ0hBUlRfV0lEVEhfU1RZTEVTIGFzIHJlYWRvbmx5IHN0cmluZ1tdKS5pbmRleE9mKHBsdWdpbi5zZXR0aW5ncy5jaGFydFdpZHRoKTtcclxuICAgICAgY29uc3QgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgQ0hBUlRfV0lEVEhfU1RZTEVTLmxlbmd0aDtcclxuICAgICAgcGx1Z2luLnNldHRpbmdzLmNoYXJ0V2lkdGggPSBDSEFSVF9XSURUSF9TVFlMRVNbbmV4dEluZGV4XTtcclxuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgcmVmcmVzaChwbHVnaW4pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBwbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICBpZDogQ09NTUFORF9JRFMuQ1lDTEVfTUFQX1dJRFRILFxyXG4gICAgbmFtZTogJ0N5Y2xlIGJldHdlZW4gbWFwIHdpZHRoIG9wdGlvbnMnLFxyXG4gICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKE1BUF9XSURUSF9TVFlMRVMgYXMgcmVhZG9ubHkgc3RyaW5nW10pLmluZGV4T2YocGx1Z2luLnNldHRpbmdzLm1hcFdpZHRoKTtcclxuICAgICAgY29uc3QgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgTUFQX1dJRFRIX1NUWUxFUy5sZW5ndGg7XHJcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5tYXBXaWR0aCA9IE1BUF9XSURUSF9TVFlMRVNbbmV4dEluZGV4XTtcclxuICAgICAgdm9pZCBwbHVnaW4uc2F2ZURhdGEocGx1Z2luLnNldHRpbmdzKTtcclxuICAgICAgcmVmcmVzaChwbHVnaW4pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWZyZXNoKHBsdWdpbjogUGx1Z2luQ29udGV4dCk6IHZvaWQge1xyXG4gIHBsdWdpbi51cGRhdGVTdHlsZSgpO1xyXG59XHJcblxyXG4iLCAiLyoqXHJcbiAqIENlbnRyYWwgY29tbWFuZCByZWdpc3RyYXRpb25cclxuICogSW1wb3J0cyBhbmQgcmVnaXN0ZXJzIGFsbCBjb21tYW5kIG1vZHVsZXNcclxuICovXHJcblxyXG5pbXBvcnQgeyBQbHVnaW5Db250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyByZWdpc3RlckZvbnRDb21tYW5kcyB9IGZyb20gJy4vZm9udC1jb21tYW5kcyc7XHJcbmltcG9ydCB7IHJlZ2lzdGVyU3R5bGVDb21tYW5kcyB9IGZyb20gJy4vc3R5bGUtY29tbWFuZHMnO1xyXG5pbXBvcnQgeyByZWdpc3RlclNjaGVtZUNvbW1hbmRzIH0gZnJvbSAnLi9zY2hlbWUtY29tbWFuZHMnO1xyXG5pbXBvcnQgeyByZWdpc3RlclByZXNldENvbW1hbmRzIH0gZnJvbSAnLi9wcmVzZXQtY29tbWFuZHMnO1xyXG5pbXBvcnQgeyByZWdpc3RlckZlYXR1cmVDb21tYW5kcyB9IGZyb20gJy4vZmVhdHVyZS1jb21tYW5kcyc7XHJcbmltcG9ydCB7IHJlZ2lzdGVyV2lkdGhDb21tYW5kcyB9IGZyb20gJy4vd2lkdGgtY29tbWFuZHMnO1xyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVyIGFsbCBwbHVnaW4gY29tbWFuZHNcclxuICogQ2FsbCB0aGlzIGZyb20gdGhlIHBsdWdpbidzIG9ubG9hZCgpIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQWxsQ29tbWFuZHMocGx1Z2luOiBQbHVnaW5Db250ZXh0KTogdm9pZCB7XHJcbiAgcmVnaXN0ZXJGb250Q29tbWFuZHMocGx1Z2luKTtcclxuICByZWdpc3RlclN0eWxlQ29tbWFuZHMocGx1Z2luKTtcclxuICByZWdpc3RlclNjaGVtZUNvbW1hbmRzKHBsdWdpbik7XHJcbiAgcmVnaXN0ZXJQcmVzZXRDb21tYW5kcyhwbHVnaW4pO1xyXG4gIHJlZ2lzdGVyRmVhdHVyZUNvbW1hbmRzKHBsdWdpbik7XHJcbiAgcmVnaXN0ZXJXaWR0aENvbW1hbmRzKHBsdWdpbik7XHJcbn1cclxuXHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQSxJQUFBQSxtQkFBdUI7OztBQ2lEaEIsSUFBTSxtQkFBb0M7QUFBQSxFQUMvQyxZQUFZO0FBQUEsRUFDWixXQUFXO0FBQUEsRUFDWCxhQUFhO0FBQUEsRUFDYixZQUFZO0FBQUEsRUFDWixZQUFZO0FBQUEsRUFDWixZQUFZO0FBQUEsRUFDWixXQUFXO0FBQUEsRUFDWCxlQUFlO0FBQUEsRUFDZixVQUFVO0FBQUEsRUFDVixZQUFZO0FBQUEsRUFDWixXQUFXO0FBQUEsRUFDWCxTQUFTO0FBQUEsRUFDVCxVQUFVO0FBQUEsRUFDVixZQUFZO0FBQUEsRUFDWixhQUFhO0FBQUEsRUFDYixVQUFVO0FBQUEsRUFDVixZQUFZO0FBQUEsRUFDWixrQkFBa0I7QUFBQSxFQUNsQixlQUFlO0FBQUEsRUFDZixzQkFBc0I7QUFBQSxFQUN0QixXQUFXO0FBQUEsRUFDWCxZQUFZO0FBQUEsRUFDWixnQkFBZ0I7QUFB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QVc7QUFDbkQsV0FBSyxTQUFTLHNCQUFzQjtBQUFBLElBQ3RDO0FBR0EsUUFBSSxjQUFjLE9BQU8sZUFBZSxZQUFZLDBCQUEwQixZQUFZO0FBQ3hGLFlBQU0sYUFBYTtBQUNuQixVQUFJLFdBQVcseUJBQXlCLFdBQVc7QUFDakQsYUFBSyxTQUFTLHVCQUF1QjtBQUNyQyxjQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxNQUNuQztBQUFBLElBQ0Y7QUFFQSxRQUFJLENBQUMsS0FBSyxTQUFTLHNCQUFzQjtBQUN2QyxXQUFLLFNBQVMsdUJBQXVCO0FBQUEsSUFDdkM7QUFBQSxFQUVGO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbkM7QUFBQTtBQUFBLEVBR0EsVUFBZ0I7QUFDZCxTQUFLLGFBQWEsUUFBUTtBQUFBLEVBQzVCO0FBQUEsRUFFQSxjQUFvQjtBQUNsQixTQUFLLGFBQWEsWUFBWTtBQUFBLEVBQ2hDO0FBQUEsRUFFQSxtQkFBeUI7QUFDdkIsU0FBSyxhQUFhLGlCQUFpQjtBQUFBLEVBQ3JDO0FBQUEsRUFFQSxrQkFBd0I7QUFDdEIsU0FBSyxhQUFhLGdCQUFnQjtBQUFBLEVBQ3BDO0FBQUEsRUFFQSxvQkFBMEI7QUFDeEIsU0FBSyxhQUFhLGtCQUFrQjtBQUFBLEVBQ3RDO0FBQUEsRUFFQSxtQkFBeUI7QUFDdkIsU0FBSyxhQUFhLGlCQUFpQjtBQUFBLEVBQ3JDO0FBQUEsRUFFQSx3QkFBOEI7QUFDNUIsU0FBSyxhQUFhLHNCQUFzQjtBQUFBLEVBQzFDO0FBQUEsRUFFQSxjQUFvQjtBQUNsQixTQUFLLG9CQUFvQixZQUFZO0FBQUEsRUFDdkM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsc0JBQStCO0FBQzdCLFdBQU8sS0FBSztBQUFBLEVBQ2Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVEsbUJBQTRCO0FBQ2xDLFVBQU0sV0FBVyxlQUFlLEtBQUssS0FBSyxVQUFVO0FBQ3BELFdBQU8sYUFBYTtBQUFBLEVBQ3RCO0FBQ0Y7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInAiLCAicSIsICJyIiwgImciLCAiYiIsICJpbXBvcnRfb2JzaWRpYW4iLCAidXBkYXRlRGFya1N0eWxlIiwgInVwZGF0ZUxpZ2h0U3R5bGUiLCAidXBkYXRlTGlnaHRTY2hlbWUiLCAidXBkYXRlRGFya1NjaGVtZSIsICJyZWZyZXNoIl0KfQo=
